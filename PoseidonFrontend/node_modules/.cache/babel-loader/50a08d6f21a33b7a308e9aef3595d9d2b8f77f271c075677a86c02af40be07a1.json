{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GradingApp=()=>{const[gradingResult,setGradingResult]=useState(null);const[error,setError]=useState(null);const[file,setFile]=useState(null);const[answerFile,setAnswerFile]=useState(null);// State for answer file\nconst[handwritingSampleFile,setHandwritingSampleFile]=useState(null);// State for handwriting sample\nconst[category,setCategory]=useState(\"\");// Dropdown for categories\nconst[aiInstruction,setAiInstruction]=useState(\"\");// Text input for AI instruction\nconst API_URL=\"https://2805-2620-8d-8000-e018-58a7-4fc8-c579-d777.ngrok-free.app/grade\";const handleSubmit=async e=>{e.preventDefault();setError(null);setGradingResult(null);try{if(!file||!category||!aiInstruction){setError(\"Please upload a file, select a category, and provide instructions for the AI.\");return;}const formData=new FormData();formData.append(\"file\",file);formData.append(\"answerFile\",answerFile);// Include answer file\nformData.append(\"handwritingSampleFile\",handwritingSampleFile);// Include handwriting sample\nformData.append(\"category\",category);formData.append(\"instruction\",aiInstruction);const response=await axios.post(API_URL,formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setGradingResult(response.data.grading_result);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Something went wrong.\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\",fontFamily:\"Arial\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Grading App\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Upload File:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0]),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Upload Answer File (optional):\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setAnswerFile(e.target.files[0])})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Upload Handwritten Sample (optional):\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setHandwritingSampleFile(e.target.files[0])})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Select Subject:\",/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:e=>setCategory(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"essay\",children:\"Essay\"}),/*#__PURE__*/_jsx(\"option\",{value:\"chemistry\",children:\"Chemistry\"}),/*#__PURE__*/_jsx(\"option\",{value:\"physics\",children:\"Physics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"math\",children:\"Math\"}),/*#__PURE__*/_jsx(\"option\",{value:\"code\",children:\"Code\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"AI Instruction:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:aiInstruction,onChange:e=>setAiInstruction(e.target.value),placeholder:\"Instructions for AI\",required:true})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Grade\"})]}),gradingResult&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Grading Result\"}),/*#__PURE__*/_jsx(\"p\",{children:gradingResult})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error})]});};export default GradingApp;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","GradingApp","gradingResult","setGradingResult","error","setError","file","setFile","answerFile","setAnswerFile","handwritingSampleFile","setHandwritingSampleFile","category","setCategory","aiInstruction","setAiInstruction","API_URL","handleSubmit","e","preventDefault","formData","FormData","append","response","post","headers","data","grading_result","err","_err$response","_err$response$data","style","padding","fontFamily","children","onSubmit","type","onChange","target","files","required","value","placeholder","color"],"sources":["/Users/prajnyiqueghimire/Pandora-s-Box/hades/src/components/Grading.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst GradingApp = () => {\n    const [gradingResult, setGradingResult] = useState(null);\n    const [error, setError] = useState(null);\n    const [file, setFile] = useState(null);\n    const [answerFile, setAnswerFile] = useState(null); // State for answer file\n    const [handwritingSampleFile, setHandwritingSampleFile] = useState(null); // State for handwriting sample\n    const [category, setCategory] = useState(\"\"); // Dropdown for categories\n    const [aiInstruction, setAiInstruction] = useState(\"\"); // Text input for AI instruction\n\n    const API_URL = \"https://2805-2620-8d-8000-e018-58a7-4fc8-c579-d777.ngrok-free.app/grade\";\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError(null);\n        setGradingResult(null);\n\n        try {\n            if (!file || !category || !aiInstruction) {\n                setError(\"Please upload a file, select a category, and provide instructions for the AI.\");\n                return;\n            }\n\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            formData.append(\"answerFile\", answerFile); // Include answer file\n            formData.append(\"handwritingSampleFile\", handwritingSampleFile); // Include handwriting sample\n            formData.append(\"category\", category);\n            formData.append(\"instruction\", aiInstruction);\n\n            const response = await axios.post(API_URL, formData, {\n                headers: { \"Content-Type\": \"multipart/form-data\" },\n            });\n\n            setGradingResult(response.data.grading_result);\n        } catch (err) {\n            setError(err.response?.data?.error || \"Something went wrong.\");\n        }\n    };\n\n    return (\n        <div style={{ padding: \"20px\", fontFamily: \"Arial\" }}>\n            <h1>Grading App</h1>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label>\n                        Upload File:\n                        <input\n                            type=\"file\"\n                            onChange={(e) => setFile(e.target.files[0])}\n                            required\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Upload Answer File (optional):\n                        <input\n                            type=\"file\"\n                            onChange={(e) => setAnswerFile(e.target.files[0])}\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Upload Handwritten Sample (optional):\n                        <input\n                            type=\"file\"\n                            onChange={(e) => setHandwritingSampleFile(e.target.files[0])}\n                        />\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        Select Subject:\n                        <select\n                            value={category}\n                            onChange={(e) => setCategory(e.target.value)}\n                            required\n                        >\n                            <option value=\"\">--Select--</option>\n                            <option value=\"essay\">Essay</option>\n                            <option value=\"chemistry\">Chemistry</option>\n                            <option value=\"physics\">Physics</option>\n                            <option value=\"math\">Math</option>\n                            <option value=\"code\">Code</option>\n                        </select>\n                    </label>\n                </div>\n                <div>\n                    <label>\n                        AI Instruction:\n                        <input\n                            type=\"text\"\n                            value={aiInstruction}\n                            onChange={(e) => setAiInstruction(e.target.value)}\n                            placeholder=\"Instructions for AI\"\n                            required\n                        />\n                    </label>\n                </div>\n                <button type=\"submit\">Grade</button>\n            </form>\n\n            {gradingResult && (\n                <div>\n                    <h2>Grading Result</h2>\n                    <p>{gradingResult}</p>\n                </div>\n            )}\n            {error && <p style={{ color: \"red\" }}>{error}</p>}\n        </div>\n    );\n};\n\nexport default GradingApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}