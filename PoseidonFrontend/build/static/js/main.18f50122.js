/*! For license information please see main.18f50122.js.LICENSE.txt */
(()=>{var e={1497:(e,t,n)=>{"use strict";var i=n(3218);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,o){if(o!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,i,r,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=q(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,ke=null;function Ee(e){if(e=br(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=wr(t),_e(e.stateNode,e.type,t))}}function Te(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ce(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function je(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Se||null!==ke)&&(je(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var i=wr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){De=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){De=!1}function Oe(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ve=null,ze={onError:function(e){Re=!0,Le=e}};function Ue(e,t,n,i,r,s,o,a,l){Re=!1,Le=null,Oe.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return We(r),e;if(o===i)return We(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Xe=r.unstable_shouldYield,Qe=r.unstable_requestPaint,$e=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=ht(a):0!==(s&=o)&&(i=ht(s))}else 0!==(o=n&~r)?i=ht(o):0!==s&&(i=ht(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,St,kt,Et,Tt=!1,Ct=[],Nt=null,jt=null,At=null,Pt=new Map,It=new Map,Dt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&_t(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Lt(e){var t=vr(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&_t(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);xe=i,n.target.dispatchEvent(i),xe=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function zt(){Tt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==jt&&Ft(jt)&&(jt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Vt),It.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var i=Ct[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==jt&&Ut(jt,e),null!==At&&Ut(At,e),Pt.forEach(t),It.forEach(t),n=0;n<Dt.length;n++)(i=Dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Ht=x.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,i){var r=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,i)}finally{bt=r,Ht.transition=s}}function Gt(e,t,n,i){var r=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,i)}finally{bt=r,Ht.transition=s}}function Kt(e,t,n,i){if(Wt){var r=Xt(e,t,n,i);if(null===r)Wi(e,t,i,Yt,n),Ot(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Nt=Rt(Nt,e,t,n,i,r),!0;case"dragenter":return jt=Rt(jt,e,t,n,i,r),!0;case"mouseover":return At=Rt(At,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Pt.set(s,Rt(Pt.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,It.set(s,Rt(It.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ot(e,i),4&t&&-1<Mt.indexOf(e)){for(;null!==r;){var s=br(r);if(null!==s&&wt(s),null===(s=Xt(e,t,n,i))&&Wi(e,t,i,Yt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var Yt=null;function Xt(e,t,n,i){if(Yt=null,null!==(e=vr(e=we(i))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,i=n.length,r="value"in $t?$t.value:$t.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,i,r,s){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=L({},cn,{view:0,detail:0}),dn=sn(hn),fn=L({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},hn,{relatedTarget:0})),yn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(vn),xn=sn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Tn=L({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Tn),Nn=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(L({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=sn(Pn),Dn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Rn=u&&"TextEvent"in window&&!On,Ln=u&&(!Mn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,i){Te(i),0<(t=Gi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Fi(e,0)}function Xn(e){if(K(xr(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),Kn=Gn=null)}function ni(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];qn(t,Kn,e,we(e)),Pe(Yn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Kn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function si(e,t){if("click"===e)return Xn(t)}function oi(e,t){if("input"===e||"change"===e)return Xn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,yi=null,vi=null,bi=!1;function xi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==Y(i)||("selectionStart"in(i=gi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=Gi(yi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Si={},ki={};function Ei(e){if(Si[e])return Si[e];if(!_i[e])return e;var t,n=_i[e];for(t in n)if(n.hasOwnProperty(t)&&t in ki)return Si[e]=n[t];return e}u&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Ti=Ei("animationend"),Ci=Ei("animationiteration"),Ni=Ei("animationstart"),ji=Ei("transitionend"),Ai=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(e,t){Ai.set(e,t),l(t,[e])}for(var Di=0;Di<Pi.length;Di++){var Mi=Pi[Di];Ii(Mi.toLowerCase(),"on"+(Mi[0].toUpperCase()+Mi.slice(1)))}Ii(Ti,"onAnimationEnd"),Ii(Ci,"onAnimationIteration"),Ii(Ni,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(ji,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ri=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Li(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,a,l,c){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ve=u)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Li(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Li(r,a,c),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vi(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Hi(t,e,2,!1),n.add(i))}function zi(e,t,n){var i=0;t&&(i|=4),Hi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Ui]){e[Ui]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ri.has(t)||zi(t,!1,e),zi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,zi("selectionchange",!1,t))}}function Hi(e,t,n,i){switch(Qt(t)){case 1:var r=qt;break;case 4:r=Gt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=vr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue e}a=a.parentNode}}i=i.return}Pe((function(){var i=s,r=we(n),o=[];e:{var a=Ai.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Ti:case Ci:case Ni:l=yn;break;case ji:l=An;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ie(p,d))&&u.push(qi(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:xr(l),f=null==c?a:xr(c),(a=new u(m,p+"leave",l,n,r)).target=h,a.relatedTarget=f,m=null,vr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Ki(f))p++;for(f=0,m=d;m;m=Ki(m))f++;for(;0<p-f;)u=Ki(u),p--;for(;0<f-p;)d=Ki(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Yi(o,a,l,u,!1),null!==c&&null!==h&&Yi(o,h,c,u,!0)}if("select"===(l=(a=i?xr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Wn(a))if($n)g=oi;else{g=ri;var y=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=si);switch(g&&(g=g(e,i))?qn(o,g,n,r):(y&&y(e,a,i),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=i?xr(i):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gi=y,yi=i,vi=null);break;case"focusout":vi=yi=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,xi(o,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":xi(o,n,r)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Jt="value"in($t=r)?$t.value:$t.textContent,Bn=!0)),0<(y=Gi(i,b)).length&&(b=new xn(b,e,null,n,r),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Mn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=v))}Fi(o,t)}))}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Ie(e,n))&&i.unshift(qi(e,s,r)),null!=(s=Ie(e,t))&&i.push(qi(e,s,r))),e=e.return}return i}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,n,i,r){for(var s=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Ie(n,s))&&o.unshift(qi(n,l,a)):r||null!=(l=Ie(n,s))&&o.push(qi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function $i(e){return("string"===typeof e?e:""+e).replace(Xi,"\n").replace(Qi,"")}function Ji(e,t,n){if(t=$i(t),$i(e)!==t&&n)throw Error(s(425))}function Zi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Bt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,mr="__reactEvents$"+hr,gr="__reactListeners$"+hr,yr="__reactHandles$"+hr;function vr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[dr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[dr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wr(e){return e[fr]||null}var _r=[],Sr=-1;function kr(e){return{current:e}}function Er(e){0>Sr||(e.current=_r[Sr],_r[Sr]=null,Sr--)}function Tr(e,t){Sr++,_r[Sr]=e.current,e.current=t}var Cr={},Nr=kr(Cr),jr=kr(!1),Ar=Cr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return Cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ir(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Dr(){Er(jr),Er(Nr)}function Mr(e,t,n){if(Nr.current!==Cr)throw Error(s(168));Tr(Nr,t),Tr(jr,n)}function Or(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,H(e)||"Unknown",r));return L({},n,i)}function Rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Ar=Nr.current,Tr(Nr,e),Tr(jr,jr.current),!0}function Lr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Or(e,t,Ar),i.__reactInternalMemoizedMergedChildContext=e,Er(jr),Er(Nr),Tr(Nr,e)):Er(jr),Tr(jr,n)}var Fr=null,Vr=!1,zr=!1;function Ur(e){null===Fr?Fr=[e]:Fr.push(e)}function Br(){if(!zr&&null!==Fr){zr=!0;var e=0,t=bt;try{var n=Fr;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fr=null,Vr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Ke(Ze,Br),r}finally{bt=t,zr=!1}}return null}var Hr=[],Wr=0,qr=null,Gr=0,Kr=[],Yr=0,Xr=null,Qr=1,$r="";function Jr(e,t){Hr[Wr++]=Gr,Hr[Wr++]=qr,qr=e,Gr=t}function Zr(e,t,n){Kr[Yr++]=Qr,Kr[Yr++]=$r,Kr[Yr++]=Xr,Xr=e;var i=Qr;e=$r;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var s=32-ot(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Qr=1<<32-ot(t)+r|n<<r|i,$r=s+e}else Qr=1<<s|n<<r|i,$r=e}function es(e){null!==e.return&&(Jr(e,1),Zr(e,1,0))}function ts(e){for(;e===qr;)qr=Hr[--Wr],Hr[Wr]=null,Gr=Hr[--Wr],Hr[Wr]=null;for(;e===Xr;)Xr=Kr[--Yr],Kr[Yr]=null,$r=Kr[--Yr],Kr[Yr]=null,Qr=Kr[--Yr],Kr[Yr]=null}var ns=null,is=null,rs=!1,ss=null;function os(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xr?{id:Qr,overflow:$r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=is;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var i=ns;t&&as(e,t)?os(i,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!rs)return us(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=cr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?cr(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=is;e;)e=cr(e.nextSibling)}function fs(){is=ns=null,rs=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Lc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===S?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===I&&vs(s)===t.type)?((i=r(t,n.props)).ref=gs(e,t,n),i.return=e,i):((i=Mc(n.type,n.key,n.props,null,e.mode,i)).ref=gs(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case I:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,i):null;case _:return n.key===r?u(e,t,n,i):null;case I:return f(e,t,(r=n._init)(n._payload),i)}if(te(n)||O(n))return null!==r?null:h(e,t,n,i,null);ys(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case _:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case I:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||O(i))return h(t,e=e.get(n)||null,i,r,null);ys(t,i)}return null}function m(r,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(r,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(r,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(r,h),rs&&Jr(r,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return rs&&Jr(r,m),c}for(h=i(r,h);m<a.length;m++)null!==(g=p(h,r,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),rs&&Jr(r,m),c}function g(r,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(r,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(r,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(r,m),rs&&Jr(r,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(r,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return rs&&Jr(r,g),u}for(m=i(r,m);!v.done;g++,v=l.next())null!==(v=p(m,r,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(r,e)})),rs&&Jr(r,g),u}return function e(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&vs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=gs(i,u,o),s.return=i,i=s;break e}n(i,u);break}t(i,u),u=u.sibling}o.type===S?((s=Oc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Mc(o.type,o.key,o.props,null,i.mode,l)).ref=gs(i,s,o),l.return=i,i=l)}return a(i);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=Fc(o,i.mode,l)).return=i,i=s}return a(i);case I:return e(i,s,(u=o._init)(o._payload),l)}if(te(o))return m(i,s,o,l);if(O(o))return g(i,s,o,l);ys(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Lc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var xs=bs(!0),ws=bs(!1),_s=kr(null),Ss=null,ks=null,Es=null;function Ts(){Es=ks=Ss=null}function Cs(e){var t=_s.current;Er(_s),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Ss=e,Es=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ss)throw Error(s(308));ks=e,Ss.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ps=null;function Is(e){null===Ps?Ps=[e]:Ps.push(e)}function Ds(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Is(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ms(e,i)}function Ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Os=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Nl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ms(e,n)}return null===(r=i.interleaved)?(t.next=t,Is(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ms(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Us(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,i){var r=e.updateQueue;Os=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=L({},h,d);break e;case 2:Os=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Ws={},qs=kr(Ws),Gs=kr(Ws),Ks=kr(Ws);function Ys(e){if(e===Ws)throw Error(s(174));return e}function Xs(e,t){switch(Tr(Ks,t),Tr(Gs,e),Tr(qs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er(qs),Tr(qs,t)}function Qs(){Er(qs),Er(Gs),Er(Ks)}function $s(e){Ys(Ks.current);var t=Ys(qs.current),n=le(t,e.type);t!==n&&(Tr(Gs,e),Tr(qs,n))}function Js(e){Gs.current===e&&(Er(qs),Er(Gs))}var Zs=kr(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var io=x.ReactCurrentDispatcher,ro=x.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function go(e,t,n,i,r,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:ea,e=n(i,r),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,io.current=ta,e=n(i,r)}while(uo)}if(io.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=ao,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,oo.lanes|=h,Rl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(ba=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,oo.lanes|=o,Rl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);ai(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function So(){}function ko(e,t){var n=oo,i=bo(),r=t(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,ba=!0),i=i.queue,Ro(Co.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,To.bind(null,n,i,r,t),void 0,null),null===jl)throw Error(s(349));0!==(30&so)||Eo(n,t,r)}return r}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,i){t.value=n,t.getSnapshot=i,No(t)&&jo(e)}function Co(e,t,n){return n((function(){No(t)&&jo(e)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function jo(e){var t=Ms(e,1);null!==t&&nc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Io(){return bo().memoizedState}function Do(e,t,n,i){var r=vo();oo.flags|=e,r.memoizedState=Po(1|t,n,void 0,void 0===i?null:i)}function Mo(e,t,n,i){var r=bo();i=void 0===i?null:i;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==i&&mo(i,o.deps))return void(r.memoizedState=Po(t,n,s,i))}oo.flags|=e,r.memoizedState=Po(1|t,n,s,i)}function Oo(e,t){return Do(8390656,8,e,t)}function Ro(e,t){return Mo(2048,8,e,t)}function Lo(e,t){return Mo(4,2,e,t)}function Fo(e,t){return Mo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,Vo.bind(null,t,e),n)}function Uo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ai(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=ro.transition;ro.transition={};try{e(!1),t()}finally{bt=n,ro.transition=i}}function Go(){return bo().memoizedState}function Ko(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e))Qo(t,n);else if(null!==(n=Ds(e,t,n,i))){nc(n,e,i,ec()),$o(n,t,i)}}function Yo(e,t,n){var i=tc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Qo(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=t.interleaved;return null===l?(r.next=r,Is(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ds(e,t,r,i))&&(nc(n,e,i,r=ec()),$o(n,t,i))}}function Xo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:As,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:As,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=vo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Uo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=qo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oo,r=vo();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===jl)throw Error(s(349));0!==(30&so)||Eo(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Oo(Co.bind(null,i,o,e),[e]),i.flags|=2048,Po(9,To.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=jl.identifierPrefix;if(rs){var n=$r;t=":"+t+"R"+(n=(Qr&~(1<<32-ot(Qr)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:As,useCallback:Bo,useContext:As,useEffect:Ro,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Ho,useReducer:wo,useRef:Io,useState:function(){return wo(xo)},useDebugValue:Uo,useDeferredValue:function(e){return Wo(bo(),ao.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1},ta={readContext:As,useCallback:Bo,useContext:As,useEffect:Ro,useImperativeHandle:zo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Ho,useReducer:_o,useRef:Io,useState:function(){return _o(xo)},useDebugValue:Uo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Wo(t,ao.memoizedState,e)},useTransition:function(){return[_o(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Go,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ra={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),s=Fs(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,r))&&(nc(t,e,r,i),zs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),s=Fs(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,r))&&(nc(t,e,r,i),zs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),r=Fs(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Vs(e,r,i))&&(nc(t,e,i,n),zs(t,e,i))}};function sa(e,t,n,i,r,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function oa(e,t,n){var i=!1,r=Cr,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(r=Ir(t)?Ar:Nr.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Pr(e,r):Cr),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ra,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ra.enqueueReplaceState(t,t.state,null)}function la(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=As(s):(s=Ir(t)?Ar:Nr.current,r.context=Pr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ia(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ra.enqueueReplaceState(r,r.state,null),Bs(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,ql=i),ha(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof i&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new da;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var va=x.ReactCurrentOwner,ba=!1;function xa(e,t,n,i){t.child=null===e?ws(t,null,n,i):xs(t,e.child,n,i)}function wa(e,t,n,i,r){n=n.render;var s=t.ref;return js(t,r),i=go(e,t,n,i,s,r),n=yo(),null===e||ba?(rs&&n&&es(t),t.flags|=1,xa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function _a(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Ic(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Wa(e,t,r)}return t.flags|=1,(e=Dc(s,i)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(ba=!1,t.pendingProps=i=s,0===(e.lanes&r))return t.lanes=e.lanes,Wa(e,t,r);0!==(131072&e.flags)&&(ba=!0)}}return Ta(e,t,n,i,r)}function ka(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(Dl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tr(Dl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Tr(Dl,Il),Il|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,Tr(Dl,Il),Il|=i;return xa(e,t,r,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,i,r){var s=Ir(n)?Ar:Nr.current;return s=Pr(t,s),js(t,r),n=go(e,t,n,i,s,r),i=yo(),null===e||ba?(rs&&i&&es(t),t.flags|=1,xa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function Ca(e,t,n,i,r){if(Ir(n)){var s=!0;Rr(t)}else s=!1;if(js(t,r),null===t.stateNode)Ha(e,t),oa(t,n,i),la(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Pr(t,c=Ir(n)?Ar:Nr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&aa(t,o,i,c),Os=!1;var d=t.memoizedState;o.state=d,Bs(t,i,o,r),l=t.memoizedState,a!==i||d!==l||jr.current||Os?("function"===typeof u&&(ia(t,n,u,i),l=t.memoizedState),(a=Os||sa(t,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Ls(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=As(l):l=Pr(t,l=Ir(n)?Ar:Nr.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,i,l),Os=!1,d=t.memoizedState,o.state=d,Bs(t,i,o,r);var p=t.memoizedState;a!==h||d!==p||jr.current||Os?("function"===typeof f&&(ia(t,n,f,i),p=t.memoizedState),(c=Os||sa(t,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Na(e,t,n,i,s,r)}function Na(e,t,n,i,r,s){Ea(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Lr(t,n,!1),Wa(e,t,s);i=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,a,s)):xa(e,t,a,s),t.memoizedState=i.state,r&&Lr(t,n,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?Mr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mr(0,t.context,!1),Xs(e,t.containerInfo)}function Aa(e,t,n,i,r){return fs(),ps(r),t.flags|=256,xa(e,t,n,i),t.child}var Pa,Ia,Da,Ma,Oa={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var i,r=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Tr(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Rc(l,r,0,null),e=Oc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Oa,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,i=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Rc({mode:"visible",children:i.children},r,0,null),(o=Oc(o,r,a,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&xs(t,e.child,null,a),t.child.memoizedState=Ra(a),t.memoizedState=Oa,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Va(e,t,a,i=ua(o=Error(s(419)),i,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(i=jl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ms(e,r),nc(i,e,r,-1))}return mc(),Va(e,t,a,i=ua(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,is=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Kr[Yr++]=Qr,Kr[Yr++]=$r,Kr[Yr++]=Xr,Qr=e.id,$r=e.overflow,Xr=t),t=Fa(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(a){a=r.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Dc(i,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,r}return e=(a=e.child).sibling,r=Dc(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fa(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,i){return null!==i&&ps(i),xs(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ns(e.return,t,n)}function Ua(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Ba(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(xa(e,t,i.children,n),0!==(2&(i=Zs.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Tr(Zs,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ua(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===eo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ua(t,!0,n,null,s);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ka(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ir(t.type)&&Dr(),Ga(t),null;case 3:return i=t.stateNode,Qs(),Er(jr),Er(Nr),no(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ia(e,t),Ga(t),null;case 5:Js(t);var r=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=Ys(qs.current),hs(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[dr]=t,i[fr]=o,e=0!==(1&t.mode),n){case"dialog":Vi("cancel",i),Vi("close",i);break;case"iframe":case"object":case"embed":Vi("load",i);break;case"video":case"audio":for(r=0;r<Oi.length;r++)Vi(Oi[r],i);break;case"source":Vi("error",i);break;case"img":case"image":case"link":Vi("error",i),Vi("load",i);break;case"details":Vi("toggle",i);break;case"input":Q(i,o),Vi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Vi("invalid",i);break;case"textarea":re(i,o),Vi("invalid",i)}for(var l in ve(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vi("scroll",i)}switch(n){case"input":G(i),Z(i,o,!0);break;case"textarea":G(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[fr]=i,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Vi("cancel",e),Vi("close",e),r=i;break;case"iframe":case"object":case"embed":Vi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Oi.length;r++)Vi(Oi[r],e);r=i;break;case"source":Vi("error",e),r=i;break;case"img":case"image":case"link":Vi("error",e),Vi("load",e),r=i;break;case"details":Vi("toggle",e),r=i;break;case"input":Q(e,i),r=X(e,i),Vi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=L({},i,{value:void 0}),Vi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Vi("invalid",e)}for(o in ve(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vi("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":G(e),Z(e,i,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(qs.current),hs(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(o=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Ga(t),null;case 13:if(Er(Zs),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Qs(),Ia(e,t),null===e&&Bi(t.stateNode.containerInfo),Ga(t),null;case 10:return Cs(t.type._context),Ga(t),null;case 19:if(Er(Zs),null===(o=t.memoizedState))return Ga(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)qa(o,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qa(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tr(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Bl&&(t.flags|=128,i=!0,qa(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=eo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Ga(t),null}else 2*$e()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,i=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Tr(Zs,i?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Ir(t.type)&&Dr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Er(jr),Er(Nr),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Er(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er(Zs),null;case 4:return Qs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ia=function(){},Da=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Ys(qs.current);var s,o=null;switch(n){case"input":r=X(e,r),i=X(e,i),o=[];break;case"select":r=L({},r,{value:void 0}),i=L({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(u in ve(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vi("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,i){n!==i&&(t.flags|=4)};var Xa=!1,Qa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){kc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){kc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(t,n,s)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[fr],delete t[mr],delete t[gr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var i=ul,r=hl;ul=null,dl(e,t,n),hl=r,null!==(ul=i)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Bt(e)):lr(ul,n.stateNode));break;case 4:i=ul,r=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),r=r.next}while(r!==i)}dl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){kc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Qa=(i=Qa)||null!==n.memoizedState,dl(e,t,n),Qa=i):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var i=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,r),ul=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){kc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&i&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&i&&null!==n&&Za(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(g){kc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(r,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):b(r,h,d,u)}switch(l){case"input":J(r,o);break;case"textarea":se(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=$e())),4&i&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||h,ml(t,e),Qa=u):ml(t,e),yl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Ja=e,h=e.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){i=f,n=f.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(i,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Ja=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&i&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),cl(e,al(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==Ja;){var r=Ja,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Xa;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Xa;var c=Qa;if(Xa=o,(Qa=l)&&!c)for(Ja=r;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?_l(r):null!==l?(l.return=o,Ja=l):_l(r);for(;null!==s;)Ja=s,bl(s,t,n),s=s.sibling;Ja=r,Xa=a,Qa=c}xl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Ja=s):xl(e)}}function xl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qa)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Qa||512&t.flags&&rl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function _l(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){kc(t,r,l)}}var s=t.return;try{rl(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{rl(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Sl,kl=Math.ceil,El=x.ReactCurrentDispatcher,Tl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Nl=0,jl=null,Al=null,Pl=0,Il=0,Dl=kr(0),Ml=0,Ol=null,Rl=0,Ll=0,Fl=0,Vl=null,zl=null,Ul=0,Bl=1/0,Hl=null,Wl=!1,ql=null,Gl=null,Kl=!1,Yl=null,Xl=0,Ql=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Nl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,i){if(50<Ql)throw Ql=0,$l=null,Error(s(185));yt(e,n,i),0!==(2&Nl)&&e===jl||(e===jl&&(0===(2&Nl)&&(Ll|=n),4===Ml&&ac(e,Pl)),ic(e,i),1===n&&0===Nl&&0===(1&t.mode)&&(Bl=$e()+500,Vr&&Br()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var i=dt(e,e===jl?Pl:0);if(0===i)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Vr=!0,Ur(e)}(lc.bind(null,e)):Ur(lc.bind(null,e)),or((function(){0===(6&Nl)&&Br()})),n=null;else{switch(xt(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=jc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Jl=-1,Zl=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var i=dt(e,e===jl?Pl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=gc(e,i);else{t=i;var r=Nl;Nl|=2;var o=pc();for(jl===e&&Pl===t||(Hl=null,Bl=$e()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ts(),El.current=o,Nl=r,null!==Al?t=0:(jl=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=sc(e,r))),1===t)throw n=Ol,dc(e,0),ac(e,i),ic(e,$e()),n;if(6===t)ac(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,i))&&(0!==(o=pt(e))&&(i=o,t=sc(e,o))),1===t))throw n=Ol,dc(e,0),ac(e,i),ic(e,$e()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,zl,Hl);break;case 3:if(ac(e,i),(130023424&i)===i&&10<(t=Ul+500-$e())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wc.bind(null,e,zl,Hl),t);break}wc(e,zl,Hl);break;case 4:if(ac(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-ot(i);o=1<<a,(a=t[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=$e()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){e.timeoutHandle=ir(wc.bind(null,e,zl,Hl),i);break}wc(e,zl,Hl);break;default:throw Error(s(329))}}}return ic(e,$e()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Nl))throw Error(s(327));_c();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=sc(e,i))}if(1===n)throw n=Ol,dc(e,0),ac(e,t),ic(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Hl),ic(e,$e()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Bl=$e()+500,Vr&&Br())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&_c();var t=Nl;Nl|=1;var n=Cl.transition,i=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=i,Cl.transition=n,0===(6&(Nl=t))&&Br()}}function hc(){Il=Dl.current,Er(Dl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Al)for(n=Al.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Dr();break;case 3:Qs(),Er(jr),Er(Nr),no();break;case 5:Js(i);break;case 4:Qs();break;case 13:case 19:Er(Zs);break;case 10:Cs(i.type._context);break;case 22:case 23:hc()}n=n.return}if(jl=e,Al=e=Dc(e.current,null),Pl=Il=t,Ml=0,Ol=null,Fl=Ll=Rl=0,zl=Vl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(i=(n=Ps[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Ps=null}return e}function fc(e,t){for(;;){var n=Al;try{if(Ts(),io.current=Jo,co){for(var i=oo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Tl.current=null,null===n||null===n.return){Ml=1,Ol=t,Al=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Ml&&(Ml=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Us(o,fa(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Us(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Jo,null===e?Jo:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===jl||0===(268435455&Rl)&&0===(268435455&Ll)||ac(jl,Pl)}function gc(e,t){var n=Nl;Nl|=2;var i=pc();for(jl===e&&Pl===t||(Hl=null,dc(e,t));;)try{yc();break}catch(r){fc(e,r)}if(Ts(),Nl=n,El.current=i,null!==Al)throw Error(s(261));return jl=null,Pl=0,Ml}function yc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!Xe();)bc(Al)}function bc(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,Tl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Il)))return void(Al=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function wc(e,t,n){var i=bt,r=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,i){do{_c()}while(null!==Yl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,o),e===jl&&(Al=jl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,jc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,Tl.current=null,function(e,t){if(er=Wt,fi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pi(tr),Wt=!!er,tr=er=null,e.current=n,vl(n,e,r),Qe(),Nl=l,bt=a,Cl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Xl=r),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,Br()}(e,t,n,i)}finally{Cl.transition=r,bt=i}return null}function _c(){if(null!==Yl){var e=xt(Xl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Yl)var i=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Nl))throw Error(s(331));var r=Nl;for(Nl|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break e}Ja=o.return}}var b=e.current;for(Ja=b;null!==Ja;){var x=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Ja=x;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){kc(l,l.return,_)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Nl=r,Br(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(_){}i=!0}return i}finally{bt=n,Cl.transition=t}}return!1}function Sc(e,t,n){e=Vs(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Gl||!Gl.has(i))){t=Vs(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Pl&n)===n&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>$e()-Ul?dc(e,0):Fl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ms(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),Tc(e,n)}function jc(e,t){return Ke(e,t)}function Ac(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,i){return new Ac(e,t,n,i)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,i,r,o){var a=2;if(i=e,"function"===typeof e)Ic(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Oc(n.children,r,o,t);case k:a=8,r|=8;break;case E:return(e=Pc(12,n,t,2|r)).elementType=E,e.lanes=o,e;case j:return(e=Pc(13,n,t,r)).elementType=j,e.lanes=o,e;case A:return(e=Pc(19,n,t,r)).elementType=A,e.lanes=o,e;case D:return Rc(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case N:a=11;break e;case P:a=14;break e;case I:a=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Oc(e,t,n,i){return(e=Pc(7,e,i,t)).lanes=n,e}function Rc(e,t,n,i){return(e=Pc(22,e,i,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,i,r,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Uc(e){if(!e)return Cr;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ir(n))return Or(e,n,t)}return t}function Bc(e,t,n,i,r,s,o,a,l){return(e=zc(n,i,!0,e,0,s,0,a,l)).context=Uc(null),n=e.current,(s=Fs(i=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,r),e.current.lanes=r,yt(e,r,i),ic(e,i),e}function Hc(e,t,n,i){var r=t.current,s=ec(),o=tc(r);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Vs(r,t,o))&&(nc(e,r,o,s),zs(e,r,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||jr.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:ja(t),fs();break;case 5:$s(t);break;case 1:Ir(t.type)&&Rr(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Tr(_s,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Tr(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Tr(Zs,1&Zs.current),null!==(e=Wa(e,t,n))?e.sibling:null);Tr(Zs,1&Zs.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ba(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tr(Zs,Zs.current),i)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,rs&&0!==(1048576&t.flags)&&Zr(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ha(e,t),e=t.pendingProps;var r=Pr(t,Nr.current);js(t,n),r=go(null,t,i,e,r,n);var o=yo();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(i)?(o=!0,Rr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Rs(t),r.updater=ra,t.stateNode=r,r._reactInternals=t,la(t,i,e,n),t=Na(null,t,i,!0,o,n)):(t.tag=0,rs&&o&&es(t),xa(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=na(i,e),r){case 0:t=Ta(null,t,i,e,n);break e;case 1:t=Ca(null,t,i,e,n);break e;case 11:t=wa(null,t,i,e,n);break e;case 14:t=_a(null,t,i,na(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ta(e,t,i,r=t.elementType===i?r:na(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ca(e,t,i,r=t.elementType===i?r:na(i,r),n);case 3:e:{if(ja(t),null===e)throw Error(s(387));i=t.pendingProps,r=(o=t.memoizedState).element,Ls(e,t),Bs(t,i,null,n);var a=t.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,i,n,r=ca(Error(s(423)),t));break e}if(i!==r){t=Aa(e,t,i,n,r=ca(Error(s(424)),t));break e}for(is=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=ws(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),i===r){t=Wa(e,t,n);break e}xa(e,t,i,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(t.flags|=32),Ea(e,t),xa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return La(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=xs(t,null,i,n):xa(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,wa(e,t,i,r=t.elementType===i?r:na(i,r),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,Tr(_s,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!jr.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ns(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ns(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,js(t,n),i=i(r=As(r)),t.flags|=1,xa(e,t,i,n),t.child;case 14:return r=na(i=t.type,t.pendingProps),_a(e,t,i,r=na(i.type,r),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:na(i,r),Ha(e,t),t.tag=1,Ir(i)?(e=!0,Rr(t)):e=!1,js(t,n),oa(t,i,r),la(t,i,r,n),Na(null,t,i,!0,e,n);case 19:return Ba(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}var o=Bc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pr]=o.current,Bi(8===e.nodeType?e.parentNode:e),uc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pr]=l.current,Bi(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,i)})),l}(n,t,e,r,i);return Wc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pr]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,$e()),0===(6&Nl)&&(Bl=$e()+500,Br()))}break;case 13:uc((function(){var t=Ms(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Ms(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ms(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=wr(i);if(!r)throw Error(s(90));K(i),J(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[br,xr,wr,Te,Ce,cc]},tu={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{rt=iu.inject(nu),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,i="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Bi(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,r,0,o,a),e[pr]=t.current,Bi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var i=n(7950);t.H=i.createRoot,i.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},6325:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(5043)),r=n(7552),s=n(5769),o=n(5394),a=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p=function(e){var t,n;function o(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var l=o.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=this.props,i=n.minConstraints,r=n.maxConstraints,s=n.lockAspectRatio;if(!i&&!r&&!s)return[e,t];if(s){var o=this.props.width/this.props.height,a=e-this.props.width,l=t-this.props.height;Math.abs(a)>Math.abs(l*o)?t=e/o:e=t*o}var c=e,u=t,h=this.slack||[0,0],d=h[0],f=h[1];return e+=d,t+=f,i&&(e=Math.max(i[0],e),t=Math.max(i[1],t)),r&&(e=Math.min(r[0],e),t=Math.min(r[1],t)),this.slack=[d+(c-e),f+(u-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(i,r){var s=r.node,o=r.deltaX,a=r.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],h=t[t.length-1],d=s.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===h)o+=d.left-n.lastHandleRect.left;if("n"===u)a+=d.top-n.lastHandleRect.top}n.lastHandleRect=d,"w"===h&&(o=-o),"n"===u&&(a=-a);var f=n.props.width+(l?o/n.props.transformScale:0),p=n.props.height+(c?a/n.props.transformScale:0),m=n.runConstraints(f,p);f=m[0],p=m[1];var g=f!==n.props.width||p!==n.props.height,y="function"===typeof n.props[e]?n.props[e]:null;y&&!("onResize"===e&&!g)&&(null==i.persist||i.persist(),y(i,{node:s,size:{width:f,height:p},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e,t){var n=this.props.handle;if(!n)return i.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"===typeof n)return n(e,t);var r=h({ref:t},"string"===typeof n.type?{}:{handleAxis:e});return i.cloneElement(n,r)},l.render=function(){var e=this,t=this.props,n=t.children,o=t.className,l=t.draggableOpts,u=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),d=(t.transformScale,function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,a));return(0,s.cloneElement)(n,h(h({},d),{},{className:(o?o+" ":"")+"react-resizable",children:[].concat(n.props.children,u.map((function(t){var n,s=null!=(n=e.handleRefs[t])?n:e.handleRefs[t]=i.createRef();return i.createElement(r.DraggableCore,c({},l,{nodeRef:s,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,s))})))}))},o}(i.Component);t.default=p,p.propTypes=o.resizableProps,p.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},7276:(e,t,n)=>{"use strict";t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(5043)),r=l(n(5173)),s=l(n(6325)),o=n(5394),a=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u.apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var i=n.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(i,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(i)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,p(t,n),r.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},r.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,r=(e.onResize,e.onResizeStart),o=e.onResizeStop,l=e.draggableOpts,c=e.minConstraints,h=e.maxConstraints,f=e.lockAspectRatio,p=e.axis,m=(e.width,e.height,e.resizeHandles),g=e.style,y=e.transformScale,v=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);return i.createElement(s.default,{axis:p,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:f,maxConstraints:h,minConstraints:c,onResizeStart:r,onResize:this.onResize,onResizeStop:o,resizeHandles:m,transformScale:y,width:this.state.width},i.createElement("div",u({},v,{style:d(d({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},r}(i.Component);t.default=m,m.propTypes=d(d({},o.resizableProps),{},{children:r.default.element})},5394:(e,t,n)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var i,r=(i=n(5173))&&i.__esModule?i:{default:i};n(7552);var s={axis:r.default.oneOf(["both","x","y","none"]),className:r.default.string,children:r.default.element.isRequired,draggableOpts:r.default.shape({allowAnyClick:r.default.bool,cancel:r.default.string,children:r.default.node,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:r.default.node,grid:r.default.arrayOf(r.default.number),handle:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,s=t[0];return"both"===s.axis||"y"===s.axis?(i=r.default.number).isRequired.apply(i,t):r.default.number.apply(r.default,t)},handle:r.default.oneOfType([r.default.node,r.default.func]),handleSize:r.default.arrayOf(r.default.number),lockAspectRatio:r.default.bool,maxConstraints:r.default.arrayOf(r.default.number),minConstraints:r.default.arrayOf(r.default.number),onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,resizeHandles:r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:r.default.number,width:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,s=t[0];return"both"===s.axis||"x"===s.axis?(i=r.default.number).isRequired.apply(i,t):r.default.number.apply(r.default,t)}};t.resizableProps=s},5769:(e,t,n)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){t.style&&e.props.style&&(t.style=o(o({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return r.default.cloneElement(e,t)};var i,r=(i=n(5043))&&i.__esModule?i:{default:i};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5003:(e,t,n)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(6325).default,e.exports.ResizableBox=n(7276).default},6255:(e,t,n)=>{"use strict";function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}n.r(t),n.d(t,{clsx:()=>r,default:()=>s});const s=r},1149:(e,t,n)=>{"use strict";var i=n(1847).default,r=n(2897).default;const s=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(5043)),a=m(n(5173)),l=m(n(7950)),c=m(n(6255)),u=n(999),h=n(3684),d=n(5874),f=m(n(414)),p=m(n(8658));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y.apply(this,arguments)}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:i}=t;return!n||i&&n.x===i.x&&n.y===i.y?null:((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:i}),{x:n.x,y:n.y,prevPropsPosition:r({},n)})}constructor(e){super(e),v(this,"onDragStart",((e,t)=>{(0,p.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,h.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),v(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",t);const n=(0,h.createDraggableData)(this,t),i={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=i;i.x+=this.state.slackX,i.y+=this.state.slackY;const[r,s]=(0,h.getBoundPosition)(this,i.x,i.y);i.x=r,i.y=s,i.slackX=this.state.slackX+(e-i.x),i.slackY=this.state.slackY+(t-i.y),n.x=i.x,n.y=i.y,n.deltaX=i.x-this.state.x,n.deltaY=i.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(i)})),v(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,h.createDraggableData)(this,t)))return!1;(0,p.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:r({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:l.default.findDOMNode(this)}render(){const e=this.props,{axis:t,bounds:n,children:a,defaultPosition:l,defaultClassName:d,defaultClassNameDragging:p,defaultClassNameDragged:m,position:g,positionOffset:v,scale:b}=e,x=i(e,s);let w={},_=null;const S=!Boolean(g)||this.state.dragging,k=g||l,E={x:(0,h.canDragX)(this)&&S?this.state.x:k.x,y:(0,h.canDragY)(this)&&S?this.state.y:k.y};this.state.isElementSVG?_=(0,u.createSVGTransform)(E,v):w=(0,u.createCSSTransform)(E,v);const T=(0,c.default)(a.props.className||"",d,{[p]:this.state.dragging,[m]:this.state.dragged});return o.createElement(f.default,y({},x,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(a),{className:T,style:r(r({},a.props.style),w),transform:_}))}}t.default=b,v(b,"displayName","Draggable"),v(b,"propTypes",r(r({},f.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:d.dontSetMe,style:d.dontSetMe,transform:d.dontSetMe})),v(b,"defaultProps",r(r({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=r?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(5043)),r=u(n(5173)),s=u(n(7950)),o=n(999),a=n(3684),l=n(5874),c=u(n(8658));function u(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let m=p;class g extends i.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const i=(0,o.getTouchIdentifier)(e);this.touchIdentifier=i;const r=(0,a.getControlPosition)(e,i,this);if(null==r)return;const{x:s,y:l}=r,u=(0,a.createCoreData)(this,s,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=l,(0,o.addEvent)(n,m.move,this.handleDrag),(0,o.addEvent)(n,m.stop,this.handleDragStop))})),d(this,"handleDrag",(e=>{const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:i}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=i-this.lastY;if([e,t]=(0,a.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,i=this.lastY+t}const r=(0,a.createCoreData)(this,n,i);(0,c.default)("DraggableCore: handleDrag: %j",r);if(!1!==this.props.onDrag(e,r)&&!1!==this.mounted)this.lastX=n,this.lastY=i;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(s){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}})),d(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:i}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=i-this.lastY||0;[e,t]=(0,a.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,i=this.lastY+t}const r=(0,a.createCoreData)(this,n,i);if(!1===this.props.onStop(e,r)||!1===this.mounted)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(s.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",r),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,c.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(s.ownerDocument,m.move,this.handleDrag),(0,o.removeEvent)(s.ownerDocument,m.stop,this.handleDragStop))})),d(this,"onMouseDown",(e=>(m=p,this.handleDragStart(e)))),d(this,"onMouseUp",(e=>(m=p,this.handleDragStop(e)))),d(this,"onTouchStart",(e=>(m=f,this.handleDragStart(e)))),d(this,"onTouchEnd",(e=>(m=f,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,o.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,o.removeEvent)(t,p.move,this.handleDrag),(0,o.removeEvent)(t,f.move,this.handleDrag),(0,o.removeEvent)(t,p.stop,this.handleDragStop),(0,o.removeEvent)(t,f.stop,this.handleDragStop),(0,o.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:s.default.findDOMNode(this)}render(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,d(g,"displayName","DraggableCore"),d(g,"propTypes",{allowAnyClick:r.default.bool,children:r.default.node.isRequired,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),d(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},7552:(e,t,n)=>{"use strict";const{default:i,DraggableCore:r}=n(1149);e.exports=i,e.exports.default=i,e.exports.DraggableCore=r},999:(e,t,n)=>{"use strict";var i=n(2897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,r){if(!e)return;const s=i({capture:!0},r);e.addEventListener?e.addEventListener(t,n,s):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=c(e,t,"px");return{[(0,s.browserPrefixToKey)("transform",s.default)]:n}},t.createSVGTransform=function(e,t){return c(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=c,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=l,t.matchesSelectorAndParentsTo=function(e,t,n){let i=e;do{if(l(i,t))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1},t.offsetXYFromParent=function(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),r=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:r,y:s}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=h,t.removeEvent=function(e,t,n,r){if(!e)return;const s=i({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,s):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}};var r=n(5874),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n(1384));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let a="";function l(e,t){return a||(a=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[a])&&e[a](t)}function c(e,t,n){let{x:i,y:r}=e,s="translate(".concat(i).concat(n,",").concat(r).concat(n,")");if(t){const e="".concat("string"===typeof t.x?t.x:t.x+n),i="".concat("string"===typeof t.y?t.y:t.y+n);s="translate(".concat(e,", ").concat(i,")")+s}return s}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},1384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=r,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=i;const n=["Moz","Webkit","O","ms"];function i(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const i=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!i)return"";if(t in i)return"";for(let s=0;s<n.length;s++)if(r(t,n[s])in i)return n[s];return""}function r(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let i=0;i<e.length;i++)n?(t+=e[i].toUpperCase(),n=!1):"-"===e[i]?n=!0:t+=e[i];return t}(e)):e}t.default=i()},8658:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},3684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const r=!(0,i.isNum)(e.lastX),o=s(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:o}=e.props;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);const a=s(e);if("string"===typeof o){const{ownerDocument:e}=a,t=e.defaultView;let n;if(n="parent"===o?a.parentNode:e.querySelector(o),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const s=n,l=t.getComputedStyle(a),c=t.getComputedStyle(s);o={left:-a.offsetLeft+(0,i.int)(c.paddingLeft)+(0,i.int)(l.marginLeft),top:-a.offsetTop+(0,i.int)(c.paddingTop)+(0,i.int)(l.marginTop),right:(0,r.innerWidth)(s)-(0,r.outerWidth)(a)-a.offsetLeft+(0,i.int)(c.paddingRight)-(0,i.int)(l.marginRight),bottom:(0,r.innerHeight)(s)-(0,r.outerHeight)(a)-a.offsetTop+(0,i.int)(c.paddingBottom)-(0,i.int)(l.marginBottom)}}(0,i.isNum)(o.right)&&(t=Math.min(t,o.right));(0,i.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,i.isNum)(o.left)&&(t=Math.max(t,o.left));(0,i.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){const i="number"===typeof t?(0,r.getTouch)(e,t):null;if("number"===typeof t&&!i)return null;const o=s(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,r.offsetXYFromParent)(i||e,a,n.props.scale)},t.snapToGrid=function(e,t,n){const i=Math.round(t/e[0])*e[0],r=Math.round(n/e[1])*e[1];return[i,r]};var i=n(5874),r=n(999);function s(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},5874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,i=e.length;n<i;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},5706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNative=void 0;var n="undefined"!==typeof window&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition);t.isNative=function(e){return e===n};var i=n;t.default=i},8338:(e,t,n)=>{"use strict";var i=n(4756);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,s=(r=n(9453))&&r.__esModule?r:{default:r},o=n(6847),a=n(5706);function l(e,t,n,i,r,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function o(e){l(s,i,r,o,a,"next",e)}function a(e){l(s,i,r,o,a,"throw",e)}o(void 0)}))}}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(t),(0,s.default)()&&(this.updateFinalTranscript=(0,o.debounce)(this.updateFinalTranscript,250,!0))}var t,n,r;return t=e,n=[{key:"setSpeechRecognition",value:function(e){var t=!!e&&((0,a.isNative)(e)||(0,o.browserSupportsPolyfills)());t&&(this.disableRecognition(),this.recognition=new e,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(t)}},{key:"subscribe",value:function(e,t){this.subscribers[e]=t}},{key:"unsubscribe",value:function(e){delete this.subscribers[e]}},{key:"emitListeningChange",value:function(e){var t=this;this.listening=e,Object.keys(this.subscribers).forEach((function(n){(0,t.subscribers[n].onListeningChange)(e)}))}},{key:"emitMicrophoneAvailabilityChange",value:function(e){var t=this;this.isMicrophoneAvailable=e,Object.keys(this.subscribers).forEach((function(n){(0,t.subscribers[n].onMicrophoneAvailabilityChange)(e)}))}},{key:"emitTranscriptChange",value:function(e,t){var n=this;Object.keys(this.subscribers).forEach((function(i){(0,n.subscribers[i].onTranscriptChange)(e,t)}))}},{key:"emitClearTranscript",value:function(){var e=this;Object.keys(this.subscribers).forEach((function(t){(0,e.subscribers[t].onClearTranscript)()}))}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(e){var t=this;Object.keys(this.subscribers).forEach((function(n){var i=t.subscribers[n],r=i.onBrowserSupportsSpeechRecognitionChange,s=i.onBrowserSupportsContinuousListeningChange;r(e),s(e)}))}},{key:"disconnect",value:function(e){if(this.recognition&&this.listening)switch(e){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(e){e&&e.error&&"not-allowed"===e.error&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(e){var t=e.results,n=e.resultIndex,i=void 0===n?t.length-1:n;this.interimTranscript="",this.finalTranscript="";for(var r=i;r<t.length;++r)t[r].isFinal&&(!(0,s.default)()||t[r][0].confidence>0)?this.updateFinalTranscript(t[r][0].transcript):this.interimTranscript=(0,o.concatTranscripts)(this.interimTranscript,t[r][0].transcript);var a=!1;""===this.interimTranscript&&""!==this.finalTranscript?(this.previousResultWasFinalOnly&&(a=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,a||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(e){this.finalTranscript=(0,o.concatTranscripts)(this.finalTranscript,e)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:function(){var e=c(i.mark((function e(){var t,n,r,s,o,a,l=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=l.length>0&&void 0!==l[0]?l[0]:{}).continuous,r=void 0!==n&&n,s=t.language,this.recognition){e.next=3;break}return e.abrupt("return");case 3:if(o=r!==this.recognition.continuous,a=s&&s!==this.recognition.lang,!o&&!a){e.next=11;break}if(!this.listening){e.next=9;break}return e.next=9,this.stopListening();case 9:this.recognition.continuous=o?r:this.recognition.continuous,this.recognition.lang=a?s:this.recognition.lang;case 11:if(this.listening){e.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),e.prev=13,e.next=16,this.start();case 16:this.emitListeningChange(!0),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),e.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return e.stop()}}),e,this,[[13,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"abortListening",value:function(){var e=c(i.mark((function e(){var t=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),e.next=4,new Promise((function(e){t.onStopListening=e}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopListening",value:function(){var e=c(i.mark((function e(){var t=this;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),e.next=4,new Promise((function(e){t.onStopListening=e}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:function(){var e=c(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.recognition||this.listening){e.next=4;break}return e.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}],n&&u(t.prototype,n),r&&u(t,r),e}();t.default=h},7491:(e,t,n)=>{"use strict";var i=n(4756);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useSpeechRecognition=void 0;var r=n(5043),s=n(6847),o=n(9309),a=n(7425),l=h(n(8338)),c=h(n(9453)),u=h(n(5706));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,i,r,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function o(e){d(s,i,r,o,a,"next",e)}function a(e){d(s,i,r,o,a,"throw",e)}o(void 0)}))}}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,s=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var b,x=!!u.default,w=x&&!(0,c.default)();t.useSpeechRecognition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.transcribing,n=void 0===t||t,i=e.clearTranscriptOnListen,l=void 0===i||i,c=e.commands,u=void 0===c?[]:c,h=g((0,r.useState)(_.getRecognitionManager()),1)[0],d=g((0,r.useState)(x),2),f=d[0],y=d[1],v=g((0,r.useState)(w),2),b=v[0],S=v[1],k=g((0,r.useReducer)(a.transcriptReducer,{interimTranscript:h.interimTranscript,finalTranscript:""}),2),E=k[0],T=E.interimTranscript,C=E.finalTranscript,N=k[1],j=g((0,r.useState)(h.listening),2),A=j[0],P=j[1],I=g((0,r.useState)(h.isMicrophoneAvailable),2),D=I[0],M=I[1],O=(0,r.useRef)(u);O.current=u;var R=function(){N((0,o.clearTranscript)())},L=(0,r.useCallback)((function(){h.resetTranscript(),R()}),[h]),F=(0,r.useCallback)((function(e,t){O.current.forEach((function(n){var i=n.command,r=n.callback,o=n.matchInterim,a=void 0!==o&&o,l=n.isFuzzyMatch,c=void 0!==l&&l,u=n.fuzzyMatchingThreshold,h=void 0===u?.8:u,d=n.bestMatchOnly,f=void 0!==d&&d,g=!t&&a?e.trim():t.trim(),y=(Array.isArray(i)?i:[i]).map((function(e){return c?function(e,t,n){var i=("object"===m(e)?e.toString():e).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),r=(0,s.compareTwoStringsUsingDiceCoefficient)(i,t);return r>=n?{command:e,commandWithoutSpecials:i,howSimilar:r,isFuzzyMatch:!0}:null}(e,g,h):function(e,t){var n=(0,s.commandToRegExp)(e).exec(t);return n?{command:e,parameters:n.slice(1)}:null}(e,g)})).filter((function(e){return e}));if(c&&f&&y.length>=2){y.sort((function(e,t){return t.howSimilar-e.howSimilar}));var v=y[0],b=v.command,x=v.commandWithoutSpecials,w=v.howSimilar;r(x,g,w,{command:b,resetTranscript:L})}else y.forEach((function(e){if(e.isFuzzyMatch){var t=e.command,n=e.commandWithoutSpecials,i=e.howSimilar;r(n,g,i,{command:t,resetTranscript:L})}else{var s=e.command,o=e.parameters;r.apply(void 0,p(o).concat([{command:s,resetTranscript:L}]))}}))}))}),[L]),V=(0,r.useCallback)((function(e,t){n&&N((0,o.appendTranscript)(e,t)),F(e,t)}),[F,n]),z=(0,r.useCallback)((function(){l&&R()}),[l]);return(0,r.useEffect)((function(){var e=_.counter;_.counter+=1;var t={onListeningChange:P,onMicrophoneAvailabilityChange:M,onTranscriptChange:V,onClearTranscript:z,onBrowserSupportsSpeechRecognitionChange:y,onBrowserSupportsContinuousListeningChange:S};return h.subscribe(e,t),function(){h.unsubscribe(e)}}),[n,l,h,V,z]),{transcript:(0,s.concatTranscripts)(C,T),interimTranscript:T,finalTranscript:C,listening:A,isMicrophoneAvailable:D,resetTranscript:L,browserSupportsSpeechRecognition:f,browserSupportsContinuousListening:b}};var _={counter:0,applyPolyfill:function(e){b?b.setSpeechRecognition(e):b=new l.default(e);var t=!!e&&(0,s.browserSupportsPolyfills)();x=t,w=t},removePolyfill:function(){b?b.setSpeechRecognition(u.default):b=new l.default(u.default),x=!!u.default,w=x&&!(0,c.default)()},getRecognitionManager:function(){return b||(b=new l.default(u.default)),b},getRecognition:function(){return _.getRecognitionManager().getRecognition()},startListening:function(){var e=f(i.mark((function e(){var t,n,r,s,o=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=o.length>0&&void 0!==o[0]?o[0]:{}).continuous,r=t.language,s=_.getRecognitionManager(),e.next=4,s.startListening({continuous:n,language:r});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),stopListening:function(){var e=f(i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_.getRecognitionManager(),e.next=3,t.stopListening();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),abortListening:function(){var e=f(i.mark((function e(){var t;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_.getRecognitionManager(),e.next=3,t.abortListening();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),browserSupportsSpeechRecognition:function(){return x},browserSupportsContinuousListening:function(){return w}},S=_;t.default=S},9309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendTranscript=t.clearTranscript=void 0;var i=n(3231);t.clearTranscript=function(){return{type:i.CLEAR_TRANSCRIPT}};t.appendTranscript=function(e,t){return{type:i.APPEND_TRANSCRIPT,payload:{interimTranscript:e,finalTranscript:t}}}},3231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APPEND_TRANSCRIPT=t.CLEAR_TRANSCRIPT=void 0;t.CLEAR_TRANSCRIPT="CLEAR_TRANSCRIPT";t.APPEND_TRANSCRIPT="APPEND_TRANSCRIPT"},9950:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"Vw",{enumerable:!0,get:function(){return r.useSpeechRecognition}}),t.Ay=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(7491));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var o=r.default;t.Ay=o},9453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return/(android)/i.test("undefined"!==typeof navigator?navigator.userAgent:"")}},7425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transcriptReducer=void 0;var i=n(3231),r=n(6847);t.transcriptReducer=function(e,t){switch(t.type){case i.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case i.APPEND_TRANSCRIPT:return{interimTranscript:t.payload.interimTranscript,finalTranscript:(0,r.concatTranscripts)(e.finalTranscript,t.payload.finalTranscript)};default:throw new Error}}},6847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserSupportsPolyfills=t.compareTwoStringsUsingDiceCoefficient=t.commandToRegExp=t.concatTranscripts=t.debounce=void 0;t.debounce=function(e,t,n){var i;return function(){var r=this,s=arguments,o=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,s)}),t),o&&e.apply(r,s)}};t.concatTranscripts=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return e.trim()})).join(" ").trim()};var n=/\s*\((.*?)\)\s*/g,i=/(\(\?:[^)]+\))\?/g,r=/(\(\?)?:\w+/g,s=/\*/g,o=/[-{}[\]+?.,\\^$|#]/g;t.commandToRegExp=function(e){return e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace(o,"\\$&").replace(n,"(?:$1)?").replace(r,(function(e,t){return t?e:"([^\\s]+)"})).replace(s,"(.*?)").replace(i,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i"))};t.compareTwoStringsUsingDiceCoefficient=function(e,t){if(e=e.replace(/\s+/g,"").toLowerCase(),t=t.replace(/\s+/g,"").toLowerCase(),!e.length&&!t.length)return 1;if(!e.length||!t.length)return 0;if(e===t)return 1;if(1===e.length&&1===t.length)return 0;if(e.length<2||t.length<2)return 0;for(var n=new Map,i=0;i<e.length-1;i++){var r=e.substring(i,i+2),s=n.has(r)?n.get(r)+1:1;n.set(r,s)}for(var o=0,a=0;a<t.length-1;a++){var l=t.substring(a,a+2),c=n.has(l)?n.get(l):0;c>0&&(n.set(l,c-1),o++)}return 2*o/(e.length+t.length-2)};t.browserSupportsPolyfills=function(){return"undefined"!==typeof window&&void 0!==window.navigator&&void 0!==window.navigator.mediaDevices&&void 0!==window.navigator.mediaDevices.getUserMedia&&(void 0!==window.AudioContext||void 0!==window.webkitAudioContext)}},1153:(e,t,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,i){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!k.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===s?"."+N(l,0):s,w(o)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),j(o,t,r,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+N(a=e[c],c);l+=j(a,t,r,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=j(a=a.value,t,r,u=s+N(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var i=[],r=0;return j(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},D={transition:null},M={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=O,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function w(e){if(g=!1,x(e),!m)if(null!==i(c))m=!0,D(_);else{var t=i(u);null!==t&&M(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(x(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!j());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),x(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&M(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,T=-1,C=5,N=-1;function j(){return!(t.unstable_now()-N<C)}function A(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){y(A,0)};function D(e){E=e,k||(k=!0,S())}function M(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(g?(v(T),T=-1):g=!0,M(w,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,D(_))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},3693:(e,t,n)=>{var i=n(7736);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},2897:(e,t,n)=>{var i=n(3693);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},1847:(e,t,n)=>{var i=n(4893);e.exports=function(e,t){if(null==e)return{};var n,r,s=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4633:(e,t,n)=>{var i=n(3738).default;function r(){"use strict";e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var r=t&&t.prototype instanceof x?t:x,s=Object.create(r.prototype),o=new D(i||[]);return a(s,"_invoke",{value:j(e,n,o)}),s}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",g="suspendedYield",y="executing",v="completed",b={};function x(){}function w(){}function _(){}var S={};d(S,c,(function(){return this}));var k=Object.getPrototypeOf,E=k&&k(k(M([])));E&&E!==s&&o.call(E,c)&&(S=E);var T=_.prototype=x.prototype=Object.create(S);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(r,s,a,l){var c=p(e[r],e,s);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==i(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;a(this,"_invoke",{value:function(e,i){function s(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(s,s):s()}})}function j(e,n,i){var r=m;return function(s,o){if(r===y)throw Error("Generator is already running");if(r===v){if("throw"===s)throw o;return{value:t,done:!0}}for(i.method=s,i.arg=o;;){var a=i.delegate;if(a){var l=A(a,i);if(l){if(l===b)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===m)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=y;var c=p(e,n,i);if("normal"===c.type){if(r=i.done?v:g,c.arg===b)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=v,i.method="throw",i.arg=c.arg)}}}function A(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var s=p(r,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,b;var o=s.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=_,a(T,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=d(_,h,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d(e,h,"GeneratorFunction")),e.prototype=Object.create(T),e},n.awrap=function(e){return{__await:e}},C(N.prototype),d(N.prototype,u,(function(){return this})),n.AsyncIterator=N,n.async=function(e,t,i,r,s){void 0===s&&(s=Promise);var o=new N(f(e,t,i,r),s);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(T),d(T,h,"Generator"),d(T,c,(function(){return this})),d(T,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=M,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,r){return a.type="throw",a.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;I(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:M(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),b}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var i=n(3738).default;e.exports=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var i=n(3738).default,r=n(9045);e.exports=function(e){var t=r(e,"string");return"symbol"==i(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4756:(e,t,n)=>{var i=n(4633)();e.exports=i;try{regeneratorRuntime=i}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>i[e]));return o.default=()=>i,n.d(s,o),s}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e,t=n(5043),i=n.t(t,2),r=n(7950),s=n.t(r,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const a="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,i){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function p(t,n,i,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:c=!1}=r,f=s.history,p=e.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=e.Pop;let t=y(),n=null==t?null:t-g;g=t,m&&m({action:p,location:x.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(o({},f.state,{idx:g}),""));let x={get action(){return p},get location(){return t(s,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(a,v),m=e,()=>{s.removeEventListener(a,v),m=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let r=h(x.location,t,n);i&&i(r,t),g=y()+1;let o=u(r,g),a=x.createHref(r);try{f.pushState(o,"",a)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(a)}c&&m&&m({action:p,location:x.location,delta:1})},replace:function(t,n){p=e.Replace;let r=h(x.location,t,n);i&&i(r,t),g=y();let s=u(r,g),o=x.createHref(r);f.replaceState(s,"",o),c&&m&&m({action:p,location:x.location,delta:0})},go:e=>f.go(e)};return x}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,i){let r=P(("string"===typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let s=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=A(r);o=N(s[a],e,i)}return o}function v(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=R([i,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),v(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:C(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of b(e.path))r(e,t,i);else r(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=b(i.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),r&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,w=3,_=2,S=1,k=10,E=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),i=n.length;return n.some(T)&&(i+=E),t&&(i+=_),n.filter((e=>!T(e))).reduce(((e,t)=>e+(x.test(t)?w:""===t?S:k)),i)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,r={},s="/",o=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===s?t:t.slice(s.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),o.push({params:r,pathname:R([s,u.pathname]),pathnameBase:L(R([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=R([s,u.pathnameBase]))}return o}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function I(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=D(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=f(e):(r=o({},e),l(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let s,a=""===e||""===r.pathname,c=a?"/":r.pathname;if(null==c)s=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:F(i),hash:V(r)}}(r,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],B=(new Set(U),["get",...U]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},H.apply(this,arguments)}const W=t.createContext(null);const q=t.createContext(null);const G=t.createContext(null);const K=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const X=t.createContext(null);function Q(){return null!=t.useContext(K)}function $(){return Q()||l(!1),t.useContext(K).location}function J(e){t.useContext(G).static||t.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=de(ce.UseNavigateStable),i=t.useRef(!1);J((()=>{i.current=!0}));let r=t.useCallback((function(t,r){void 0===r&&(r={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,H({fromRouteId:n},r)))}),[e,n]);return r}():function(){Q()||l(!1);let e=t.useContext(W),{basename:n,future:i,navigator:r}=t.useContext(G),{matches:s}=t.useContext(Y),{pathname:o}=$(),a=JSON.stringify(M(s,i.v7_relativeSplatPath)),c=t.useRef(!1);J((()=>{c.current=!0}));let u=t.useCallback((function(t,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof t)return void r.go(t);let s=O(t,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:R([n,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[n,r,a,o,e]);return u}()}function ee(){let{matches:e}=t.useContext(Y),n=e[e.length-1];return n?n.params:{}}function te(e,n){let{relative:i}=void 0===n?{}:n,{future:r}=t.useContext(G),{matches:s}=t.useContext(Y),{pathname:o}=$(),a=JSON.stringify(M(s,r.v7_relativeSplatPath));return t.useMemo((()=>O(e,JSON.parse(a),o,"path"===i)),[e,a,o,i])}function ne(n,i,r,s){Q()||l(!1);let{navigator:o}=t.useContext(G),{matches:a}=t.useContext(Y),c=a[a.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,p=$();if(i){var m;let e="string"===typeof i?f(i):i;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||l(!1),d=e}else d=p;let y=d.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=g(n,{pathname:v});let x=ae(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:R([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,s);return i&&x?t.createElement(K.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:e.Pop}},x):x}function ie(){let e=function(){var e;let n=t.useContext(X),i=he(ce.UseRouteError),r=de(ce.UseRouteError);if(void 0!==n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:s},i):null,null)}const re=t.createElement(ie,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:i,children:r}=e,s=t.useContext(W);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(Y.Provider,{value:n},r)}function ae(e,n,i,r){var s;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==e){var o;if(!i)return null;if(i.errors)e=i.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===n.length&&!i.initialized&&i.matches.length>0))return null;e=i.matches}}let a=e,c=null==(s=i)?void 0:s.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(i&&r&&r.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=i,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,l=!1,d=null,f=null;var p;i&&(o=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||re,u&&(h<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),l=!0,f=null):h===s&&(l=!0,f=r.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,s+1)),g=()=>{let n;return n=o?d:l?f:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?t.createElement(se,{location:i.location,revalidation:i.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(W);return n||l(!1),n}function he(e){let n=t.useContext(q);return n||l(!1),n}function de(e){let n=function(){let e=t.useContext(Y);return e||l(!1),e}(),i=n.matches[n.matches.length-1];return i.route.id||l(!1),i.route.id}const fe={};const pe={};const me=(e,t,n)=>{var i;pe[i="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(pe[i]=!0,console.warn(i))};function ge(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&me("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||me("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&me("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&me("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&me("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&me("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}i.startTransition;function ye(e){let{to:n,replace:i,state:r,relative:s}=e;Q()||l(!1);let{future:o,static:a}=t.useContext(G),{matches:c}=t.useContext(Y),{pathname:u}=$(),h=Z(),d=O(n,M(c,o.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return t.useEffect((()=>h(JSON.parse(f),{replace:i,state:r,relative:s})),[h,f,s,i,r]),null}function ve(e){l(!1)}function be(n){let{basename:i="/",children:r=null,location:s,navigationType:o=e.Pop,navigator:a,static:c=!1,future:u}=n;Q()&&l(!1);let h=i.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:h,navigator:a,static:c,future:H({v7_relativeSplatPath:!1},u)})),[h,u,a,c]);"string"===typeof s&&(s=f(s));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=s,b=t.useMemo((()=>{let e=P(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:o}}),[h,p,m,g,y,v,o]);return null==b?null:t.createElement(G.Provider,{value:d},t.createElement(K.Provider,{children:r,value:b}))}function xe(e){let{children:t,location:n}=e;return ne(we(t),n)}new Promise((()=>{}));t.Component;function we(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,((e,r)=>{if(!t.isValidElement(e))return;let s=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,we(e.props.children,s));e.type!==ve&&l(!1),e.props.index&&e.props.children&&l(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,s)),i.push(o)})),i}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_e.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(vM){}new Map;const Ee=i.startTransition;s.flushSync,i.useId;function Te(e){let{basename:n,children:i,future:r,window:s}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),p((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return h("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,a)));let l=o.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},m=t.useCallback((e=>{f&&Ee?Ee((()=>u(e))):u(e)}),[u,f]);return t.useLayoutEffect((()=>l.listen(m)),[l,m]),t.useEffect((()=>ge(r)),[r]),t.createElement(be,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=t.forwardRef((function(e,n){let i,{onClick:r,relative:s,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=e,m=Se(e,ke),{basename:g}=t.useContext(G),y=!1;if("string"===typeof h&&Ne.test(h)&&(i=h,Ce))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=P(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(vM){}let v=function(e,n){let{relative:i}=void 0===n?{}:n;Q()||l(!1);let{basename:r,navigator:s}=t.useContext(G),{hash:o,pathname:a,search:c}=te(e,{relative:i}),u=a;return"/"!==r&&(u="/"===a?r:R([r,a])),s.createHref({pathname:u,search:c,hash:o})}(h,{relative:s}),b=function(e,n){let{target:i,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===n?{}:n,c=Z(),u=$(),h=te(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==r?r:d(u)===d(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}}),[u,c,h,r,s,i,e,o,a,l])}(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});return t.createElement("a",_e({},m,{href:i||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:n,target:u}))}));var Ae,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var Ie={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},De=t.createContext&&t.createContext(Ie),Me=["attr","size","title"];function Oe(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Re.apply(this,arguments)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){return e&&e.map(((e,n)=>t.createElement(e.tag,Fe({key:n},e.attr),ze(e.child))))}function Ue(e){return n=>t.createElement(Be,Re({attr:Fe({},e.attr)},n),ze(e.child))}function Be(e){var n=n=>{var i,{attr:r,size:s,title:o}=e,a=Oe(e,Me),l=s||n.size||"1em";return n.className&&(i=n.className),e.className&&(i=(i?i+" ":"")+e.className),t.createElement("svg",Re({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:i,style:Fe(Fe({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==De?t.createElement(De.Consumer,null,(e=>n(e))):n(Ie)}function He(e){return Ue({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(e)}function We(e){return Ue({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}const qe=n.p+"static/media/athena-high-resolution-logo-transparent.f70cd753ecdf7f0e6388.png",Ge=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,o=s?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ge(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==o||null==a)throw new Ye;const l=t<<2|s>>4;if(i.push(l),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xe=function(e){return function(e){const t=Ge(e);return Ke.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Qe=function(e){try{return Ke.decodeString(e,!0)}catch(vM){console.error("base64Decode failed: ",vM)}return null};const $e=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Je=()=>{try{return $e()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(vM){return}const t=e&&Qe(e[1]);return t&&JSON.parse(t)})()}catch(vM){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(vM))}},Ze=e=>{var t,n;return null===(n=null===(t=Je())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},et=e=>{const t=Ze(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},tt=()=>{var e;return null===(e=Je())||void 0===e?void 0:e.config},nt=e=>{var t;return null===(t=Je())||void 0===t?void 0:t["_".concat(e)]};class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function rt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function st(){return!function(){var e;const t=null===(e=Je())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(vM){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ot(){try{return"object"===typeof indexedDB}catch(vM){return!1}}class at extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(ct,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new at(n,s,t)}}const ct=/\{\$([^}]+)}/g;function ut(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(ht(n)&&ht(s)){if(!ut(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ht(e){return null!==e&&"object"===typeof e}function dt(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ft(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function pt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class mt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=gt),void 0===i.error&&(i.error=gt),void 0===i.complete&&(i.complete=gt);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(vM){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(vM){"undefined"!==typeof console&&console.error&&console.error(vM)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function gt(){}function yt(e){return e&&e._delegate?e._delegate:e}class vt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bt="[DEFAULT]";class xt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new it;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(vM){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(vM){if(i)return null;throw vM}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bt})}catch(vM){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(vM){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===bt?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(s){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.component?this.component.multipleInstances?e:bt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const _t=[];var St;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(St||(St={}));const kt={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},Et=St.INFO,Tt={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},Ct=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=Tt[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Nt{constructor(e){this.name=e,this._logLevel=Et,this._logHandler=Ct,this._userLogHandler=null,_t.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?kt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...t),this._logHandler(this,St.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...t),this._logHandler(this,St.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,St.INFO,...t),this._logHandler(this,St.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,St.WARN,...t),this._logHandler(this,St.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,St.ERROR,...t),this._logHandler(this,St.ERROR,...t)}}function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function At(e){var t=function(e,t){if("object"!=jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=jt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jt(t)?t:t+""}function Pt(e,t,n){return(t=At(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Mt,Ot;const Rt=new WeakMap,Lt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,zt=new WeakMap;let Ut={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Lt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ft.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Bt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ot||(Ot=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(qt(this),n),Wt(Rt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Wt(e.apply(qt(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=e.call(qt(this),t,...i);return Ft.set(s,t.sort?t.sort():[t]),Wt(s)}}function Ht(e){return"function"===typeof e?Bt(e):(e instanceof IDBTransaction&&function(e){if(Lt.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));Lt.set(e,t)}(e),t=e,(Mt||(Mt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Ut):e);var t}function Wt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(Wt(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Rt.set(t,e)})).catch((()=>{})),zt.set(t,e),t}(e);if(Vt.has(e))return Vt.get(e);const t=Ht(e);return t!==e&&(Vt.set(e,t),zt.set(t,e)),t}const qt=e=>zt.get(e);const Gt=["get","getKey","getAll","getAllKeys","count"],Kt=["put","add","delete","clear"],Yt=new Map;function Xt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Yt.get(t))return Yt.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Kt.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Gt.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&t.done]))[0]};return Yt.set(t,s),s}!function(e){Ut=e(Ut)}((e=>Dt(Dt({},e),{},{get:(t,n,i)=>Xt(t,n)||e.get(t,n,i),has:(t,n)=>!!Xt(t,n)||e.has(t,n)})));class Qt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const $t="@firebase/app",Jt="0.10.17",Zt=new Nt("@firebase/app"),en="@firebase/app-compat",tn="@firebase/analytics-compat",nn="@firebase/analytics",rn="@firebase/app-check-compat",sn="@firebase/app-check",on="@firebase/auth",an="@firebase/auth-compat",ln="@firebase/database",cn="@firebase/data-connect",un="@firebase/database-compat",hn="@firebase/functions",dn="@firebase/functions-compat",fn="@firebase/installations",pn="@firebase/installations-compat",mn="@firebase/messaging",gn="@firebase/messaging-compat",yn="@firebase/performance",vn="@firebase/performance-compat",bn="@firebase/remote-config",xn="@firebase/remote-config-compat",wn="@firebase/storage",_n="@firebase/storage-compat",Sn="@firebase/firestore",kn="@firebase/vertexai",En="@firebase/firestore-compat",Tn="firebase",Cn="[DEFAULT]",Nn={[$t]:"fire-core",[en]:"fire-core-compat",[nn]:"fire-analytics",[tn]:"fire-analytics-compat",[sn]:"fire-app-check",[rn]:"fire-app-check-compat",[on]:"fire-auth",[an]:"fire-auth-compat",[ln]:"fire-rtdb",[cn]:"fire-data-connect",[un]:"fire-rtdb-compat",[hn]:"fire-fn",[dn]:"fire-fn-compat",[fn]:"fire-iid",[pn]:"fire-iid-compat",[mn]:"fire-fcm",[gn]:"fire-fcm-compat",[yn]:"fire-perf",[vn]:"fire-perf-compat",[bn]:"fire-rc",[xn]:"fire-rc-compat",[wn]:"fire-gcs",[_n]:"fire-gcs-compat",[Sn]:"fire-fst",[En]:"fire-fst-compat",[kn]:"fire-vertex","fire-js":"fire-js",[Tn]:"fire-js-all"},jn=new Map,An=new Map,Pn=new Map;function In(e,t){try{e.container.addComponent(t)}catch(vM){Zt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),vM)}}function Dn(e){const t=e.name;if(Pn.has(t))return Zt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pn.set(t,e);for(const n of jn.values())In(n,e);for(const n of An.values())In(n,e);return!0}function Mn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function On(e){return void 0!==e.settings}const Rn=new lt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ln{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Fn="11.1.0";function Vn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw Rn.create("bad-app-name",{appName:String(r)});if(n||(n=tt()),!n)throw Rn.create("no-options");const s=jn.get(r);if(s){if(ut(n,s.options)&&ut(i,s.config))return s;throw Rn.create("duplicate-app",{appName:r})}const o=new wt(r);for(const l of Pn.values())o.addComponent(l);const a=new Ln(n,i,o);return jn.set(r,a),a}function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn;const t=jn.get(e);if(!t&&e===Cn&&tt())return Vn();if(!t)throw Rn.create("no-app",{appName:e});return t}function Un(e,t,n){var i;let r=null!==(i=Nn[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zt.warn(e.join(" "))}Dn(new vt("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}const Bn="firebase-heartbeat-store";let Hn=null;function Wn(){return Hn||(Hn=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Wt(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(Wt(o.result),e.oldVersion,e.newVersion,Wt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Bn)}catch(vM){console.warn(vM)}}}).catch((e=>{throw Rn.create("idb-open",{originalErrorMessage:e.message})}))),Hn}async function qn(e,t){try{const n=(await Wn()).transaction(Bn,"readwrite"),i=n.objectStore(Bn);await i.put(t,Gn(e)),await n.done}catch(vM){if(vM instanceof at)Zt.warn(vM.message);else{const t=Rn.create("idb-set",{originalErrorMessage:null===vM||void 0===vM?void 0:vM.message});Zt.warn(t.message)}}}function Gn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Kn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return;return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(vM){Zt.warn(vM)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Yn(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),Qn(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Qn(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=Xe(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(vM){return Zt.warn(vM),""}}}function Yn(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ot()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Wn()).transaction(Bn),n=await t.objectStore(Bn).get(Gn(e));return await t.done,n}catch(vM){if(vM instanceof at)Zt.warn(vM.message);else{const t=Rn.create("idb-get",{originalErrorMessage:null===vM||void 0===vM?void 0:vM.message});Zt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Qn(e){return Xe(JSON.stringify({version:2,heartbeats:e})).length}var $n;$n="",Dn(new vt("platform-logger",(e=>new Qt(e)),"PRIVATE")),Dn(new vt("heartbeat",(e=>new Kn(e)),"PRIVATE")),Un($t,Jt,$n),Un($t,Jt,"esm2017"),Un("fire-js","");function Jn(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function Zn(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>Zn(e)));if("function"===typeof e||"object"===typeof e)return Jn(e,(e=>Zn(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function ei(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>ei(e))):"function"===typeof e||"object"===typeof e?Jn(e,(e=>ei(e))):e}const ti="functions",ni={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ii extends at{constructor(e,t,n){super("".concat(ti,"/").concat(e),t||""),this.details=n,Object.setPrototypeOf(this,ii.prototype)}}function ri(e,t){let n,i=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=i;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!ni[t])return new ii("internal","internal");i=ni[t],r=t}const s=e.message;"string"===typeof s&&(r=s),n=e.details,void 0!==n&&(n=ei(n))}}catch(vM){}return"ok"===i?null:new ii(i,r,n)}class si{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(vM){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(vM){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const oi="us-central1",ai=/^data: (.*?)(?:\n|$)/;class li{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oi,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new si(t,n,i),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(r);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=oi}catch(vM){this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}function ci(e,t,n){const i=i=>function(e,t,n,i){const r=e._url(t);return di(e,r,n,i)}(e,t,i,n||{});return i.stream=(n,i)=>function(e,t,n,i){const r=e._url(t);return fi(e,r,n,i||{})}(e,t,n,i),i}async function ui(e,t,n,i){let r;n["Content-Type"]="application/json";try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(vM){return{status:0,json:null}}let s=null;try{s=await r.json()}catch(vM){}return{status:r.status,json:s}}async function hi(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),null!==i.appCheckToken&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}async function di(e,t,n,i){const r={data:n=Zn(n)},s=await hi(e,i),o=function(e){let t=null;return{promise:new Promise(((n,i)=>{t=setTimeout((()=>{i(new ii("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(i.timeout||7e4),a=await Promise.race([ui(t,r,s,e.fetchImpl),o.promise,e.cancelAllRequests]);if(o.cancel(),!a)throw new ii("cancelled","Firebase Functions instance was deleted.");const l=ri(a.status,a.json);if(l)throw l;if(!a.json)throw new ii("internal","Response is not valid JSON object.");let c=a.json.data;if("undefined"===typeof c&&(c=a.json.result),"undefined"===typeof c)throw new ii("internal","Response is missing data field.");return{data:ei(c)}}async function fi(e,t,n,i){var r;const s={data:n=Zn(n)},o=await hi(e,i);let a,l,c;o["Content-Type"]="application/json",o.Accept="text/event-stream";try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(s),headers:o,signal:null===i||void 0===i?void 0:i.signal})}catch(vM){if(vM instanceof Error&&"AbortError"===vM.name){const e=new ii("cancelled","Request was cancelled.");return{data:Promise.reject(e),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(e)})}}}const t=ri(0,null);return{data:Promise.reject(t),stream:{[Symbol.asyncIterator]:()=>({next:()=>Promise.reject(t)})}}}const u=new Promise(((e,t)=>{l=e,c=t}));null===(r=null===i||void 0===i?void 0:i.signal)||void 0===r||r.addEventListener("abort",(()=>{const e=new ii("cancelled","Request was cancelled.");c(e)}));const h=function(e,t,n,i){const r=(e,i)=>{const r=e.match(ai);if(!r)return;const s=r[1];try{const e=JSON.parse(s);if("result"in e)return void t(ei(e.result));if("message"in e)return void i.enqueue(ei(e.message));if("error"in e){const t=ri(0,e);return i.error(t),void n(t)}}catch(o){if(o instanceof ii)return i.error(o),void n(o)}},s=new TextDecoder;return new ReadableStream({start(t){let o="";return a();async function a(){if(null===i||void 0===i?void 0:i.aborted){const e=new ii("cancelled","Request was cancelled");return t.error(e),n(e),Promise.resolve()}try{const{value:l,done:c}=await e.read();if(c)return o.trim()&&r(o.trim(),t),void t.close();if(null===i||void 0===i?void 0:i.aborted){const i=new ii("cancelled","Request was cancelled");return t.error(i),n(i),void await e.cancel()}o+=s.decode(l,{stream:!0});const u=o.split("\n");o=u.pop()||"";for(const e of u)e.trim()&&r(e.trim(),t);return a()}catch(l){const e=l instanceof ii?l:ri(0,null);t.error(e),n(e)}}},cancel:()=>e.cancel()})}(a.body.getReader(),l,c,null===i||void 0===i?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const e=h.getReader();return{async next(){const{value:t,done:n}=await e.read();return{value:t,done:n}},return:async()=>(await e.cancel(),{done:!0,value:void 0})}}},data:u}}const pi="@firebase/functions",mi="0.12.0";function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi;const n=Mn(yt(e),ti).getImmediate({identifier:t}),i=et("functions");return i&&function(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(yt(e),t,n)}(n,...i),n}function yi(e,t,n){return ci(yt(e),t,n)}!function(e){Dn(new vt(ti,((e,t)=>{let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("messaging-internal"),o=e.getProvider("app-check-internal");return new li(i,r,s,o,n)}),"PUBLIC").setMultipleInstances(!0)),Un(pi,mi,e),Un(pi,mi,"esm2017")}();function vi(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function bi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xi=bi,wi=new lt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_i=new Nt("@firebase/auth");function Si(e){if(_i.logLevel<=St.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];_i.error("Auth (".concat(Fn,"): ").concat(e),...n)}}function ki(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw ji(e,...n)}function Ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ji(e,...n)}function Ti(e,t,n){const i=Object.assign(Object.assign({},xi()),{[t]:n});return new lt("auth","Firebase",i).create(t,{appName:e.name})}function Ci(e){return Ti(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ni(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ki(e,"argument-error"),Ti(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ji(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return wi.create(e,...n)}function Ai(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw ji(t,...i)}}function Pi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Si(t),new Error(t)}function Ii(e,t){e||Pi(t)}function Di(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mi(){return"http:"===Oi()||"https:"===Oi()}function Oi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ri(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mi()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Li{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ii(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ri()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fi(e,t){Ii(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Vi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ui=new Li(3e4,6e4);function Bi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Hi(e,t,n,i){return Wi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const o=dt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},r);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Vi.fetch()(Gi(e,e.config.apiHost,n,o),l)}))}async function Wi(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},zi),t);try{const t=new Yi(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Xi(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Xi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Xi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Xi(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ti(e,a,o);ki(e,a)}}catch(vM){if(vM instanceof at)throw vM;ki(e,"network-request-failed",{message:String(vM)})}}async function qi(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Hi(e,t,n,i,r);return"mfaPendingCredential"in s&&ki(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Gi(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?Fi(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}function Ki(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ei(this.auth,"network-request-failed"))),Ui.get())}))}}function Xi(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ei(e,t,i);return r.customData._tokenResponse=n,r}function Qi(e){return void 0!==e&&void 0!==e.enterprise}class $i{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ki(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ji(e,t){return Hi(e,"GET","/v2/recaptchaConfig",Bi(e,t))}async function Zi(e,t){return Hi(e,"POST","/v1/accounts:lookup",t)}function er(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(vM){}}function tr(e){return 1e3*Number(e)}function nr(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return Si("JWT malformed, contained fewer than 3 sections"),null;try{const e=Qe(n);return e?JSON.parse(e):(Si("Failed to decode base64 JWT payload"),null)}catch(vM){return Si("Caught error parsing JWT payload as JSON",null===vM||void 0===vM?void 0:vM.toString()),null}}function ir(e){const t=nr(e);return Ai(t,"internal-error"),Ai("undefined"!==typeof t.exp,"internal-error"),Ai("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function rr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(vM){throw vM instanceof at&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(vM)&&e.auth.currentUser===e&&await e.auth.signOut(),vM}}class sr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(vM){return void((null===vM||void 0===vM?void 0:vM.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class or{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ar(e){var t;const n=e.auth,i=await e.getIdToken(),r=await rr(e,Zi(n,{idToken:i}));Ai(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?lr(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new or(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function lr(e){return e.map((e=>{var{providerId:t}=e,n=vi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ai(e.idToken,"internal-error"),Ai("undefined"!==typeof e.idToken,"internal-error"),Ai("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ir(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ai(0!==e.length,"internal-error");const t=ir(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ai(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Wi(e,{},(async()=>{const n=dt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=Gi(e,i,"/v1/token","key=".concat(r)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Vi.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new cr;return n&&(Ai("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(Ai("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(Ai("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cr,this.toJSON())}_performRefresh(){return Pi("not implemented")}}function ur(e,t){Ai("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class hr{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=vi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new or(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await rr(this,this.stsTokenManager.getToken(this.auth,e));return Ai(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=yt(e),i=await n.getIdToken(t),r=nr(i);Ai(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:er(tr(r.auth_time)),issuedAtTime:er(tr(r.iat)),expirationTime:er(tr(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=yt(e);await ar(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ai(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ai(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ar(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await rr(this,async function(e,t){return Hi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:_}=t;Ai(v&&_,e,"internal-error");const S=cr.fromJSON(this.name,_);Ai("string"===typeof v,e,"internal-error"),ur(u,e.name),ur(h,e.name),Ai("boolean"===typeof b,e,"internal-error"),Ai("boolean"===typeof x,e,"internal-error"),ur(d,e.name),ur(f,e.name),ur(p,e.name),ur(m,e.name),ur(g,e.name),ur(y,e.name);const k=new hr({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new cr;i.updateFromServerResponse(t);const r=new hr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ar(r),r}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Ai(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?lr(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length),o=new cr;o.updateFromIdToken(n);const a=new hr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new or(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(null===r||void 0===r?void 0:r.length)};return Object.assign(a,l),a}}const dr=new Map;function fr(e){Ii(e instanceof Function,"Expected a class definition");let t=dr.get(e);return t?(Ii(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dr.set(e,t),t)}class pr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pr.type="NONE";const mr=pr;function gr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class yr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=gr(this.userKey,i.apiKey,r),this.fullPersistenceKey=gr("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new yr(fr(mr),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||fr(mr);const s=gr(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=hr._fromJSON(e,t);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(l){}}))),new yr(r,e,n)):new yr(r,e,n)}}function vr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_r(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(br(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kr(t))return"Blackberry";if(Er(t))return"Webos";if(xr(t))return"Safari";if((t.includes("chrome/")||wr(t))&&!t.includes("edge/"))return"Chrome";if(Sr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/firefox\//i.test(e)}function xr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/crios\//i.test(e)}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/iemobile/i.test(e)}function Sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/android/i.test(e)}function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/blackberry/i.test(e)}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/webos/i.test(e)}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Cr(){return function(){const e=rt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();return Tr(e)||Sr(e)||Er(e)||kr(e)||/windows phone/i.test(e)||_r(e)}function jr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vr(rt());break;case"Worker":t="".concat(vr(rt()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Fn,"/").concat(i)}class Ar{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(vM){i(vM)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(vM){t.reverse();for(const i of t)try{i()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===vM||void 0===vM?void 0:vM.message})}}}class Pr{constructor(e){var t,n,i,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,r,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsLowercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsUppercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class Ir{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mr(this),this.idTokenSubscription=new Mr(this),this.beforeStateQueue=new Ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fr(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await yr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(vM){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Zi(this,{idToken:e}),n=await hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(On(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(vM){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(vM)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ai(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(vM){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ar(e)}catch(vM){if((null===vM||void 0===vM?void 0:vM.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Ci(this));const t=e?yt(e):null;return t&&Ai(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ai(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return On(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Ci(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(fr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Hi(e,"GET","/v2/passwordPolicy",Bi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Pr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Hi(e,"POST","/v2/accounts:revokeToken",Bi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fr(e)||this._popupRedirectResolver;Ai(t,this,"argument-error"),this.redirectPersistenceManager=await yr.create(this,[fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ai(o,this,"internal-error"),o.then((()=>{s||r(this.currentUser)})),"function"===typeof t){const r=e.addObserver(t,n,i);return()=>{s=!0,r()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ai(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(_i.logLevel<=St.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];_i.warn("Auth (".concat(Fn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Dr(e){return yt(e)}class Mr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new mt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ai(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Or={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rr(e){return Or.loadJS(e)}function Lr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Fr{constructor(){this.enterprise=new Vr}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Vr{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zr="NO_RECAPTCHA";class Ur{constructor(e){this.type="recaptcha-enterprise",this.auth=Dr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;Qi(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(zr)}))})):i(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Fr).execute("siteKey",{action:"verify"})}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ji(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new $i(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&Qi(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=Or.recaptchaEnterpriseScript;0!==t.length&&(t+=r),Rr(t).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function Br(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Ur(e);let o;if(r)o=zr;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Hr(e,t,n,i,r){var s,o;if("EMAIL_PASSWORD_PROVIDER"===r){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Br(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await Br(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)}))}if("PHONE_PROVIDER"===r){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const r=await Br(e,t,n);return i(e,r).catch((async r=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(r.code==="auth/".concat("missing-recaptcha-token")||r.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const r=await Br(e,t,n,!1,!0);return i(e,r)}return Promise.reject(r)}))}{const r=await Br(e,t,n,!1,!0);return i(e,r)}}return Promise.reject(r+" provider is not supported.")}async function Wr(e){const t=Dr(e),n=await Ji(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new $i(n);if(null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.isAnyProviderEnabled()){new Ur(t).verify()}}function qr(e,t,n){const i=Dr(e);Ai(i._canInitEmulator,i,"emulator-config-failed"),Ai(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Gr(t),{host:o,port:a}=function(e){const t=Gr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Kr(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Kr(t)}}}(t),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Kr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,t){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}async function Xr(e,t){return Hi(e,"POST","/v1/accounts:signUp",t)}async function Qr(e,t){return qi(e,"POST","/v1/accounts:signInWithPassword",Bi(e,t))}class $r extends Yr{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new $r(e,t,"password")}static _fromEmailAndCode(e,t){return new $r(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Hr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Qr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return qi(e,"POST","/v1/accounts:signInWithEmailLink",Bi(e,t))}(e,{email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Hr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return qi(e,"POST","/v1/accounts:signInWithEmailLink",Bi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ki(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Jr(e,t){return qi(e,"POST","/v1/accounts:signInWithIdp",Bi(e,t))}class Zr extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ki("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=vi(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Zr(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Jr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Jr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dt(t)}return e}}async function es(e,t){return Hi(e,"POST","/v1/accounts:sendVerificationCode",Bi(e,t))}const ts={USER_NOT_FOUND:"user-not-found"};class ns extends Yr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ns({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ns({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return qi(e,"POST","/v1/accounts:signInWithPhoneNumber",Bi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await qi(e,"POST","/v1/accounts:signInWithPhoneNumber",Bi(e,t));if(n.temporaryProof)throw Xi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return qi(e,"POST","/v1/accounts:signInWithPhoneNumber",Bi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ts)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new ns({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class is{constructor(e){var t,n,i,r,s,o;const a=ft(pt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);Ai(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=ft(pt(e)).link,n=t?ft(pt(t)).deep_link_id:null,i=ft(pt(e)).deep_link_id;return(i?ft(pt(i)).link:null)||i||n||t||e}(e);try{return new is(t)}catch(n){return null}}}class rs{constructor(){this.providerId=rs.PROVIDER_ID}static credential(e,t){return $r._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=is.parseLink(t);return Ai(n,"argument-error"),$r._fromEmailAndCode(e,n.code,n.tenantId)}}rs.PROVIDER_ID="password",rs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class os extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends os{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch(n){return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com",as.PROVIDER_ID="facebook.com";class ls extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zr._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return ls.credential(n,i)}catch(r){return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com",ls.PROVIDER_ID="google.com";class cs extends os{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch(n){return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com",cs.PROVIDER_ID="github.com";class us extends os{constructor(){super("twitter.com")}static credential(e,t){return Zr._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return us.credential(n,i)}catch(r){return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com",us.PROVIDER_ID="twitter.com";class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await hr._fromIdTokenResponse(e,n,i),s=ds(n);return new hs({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=ds(n);return new hs({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function ds(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fs extends at{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,fs.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new fs(e,t,n,i)}}function ps(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw fs._fromErrorAndOperation(e,n,t,i);throw n}))}async function ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await rr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hs._forOperation(e,"link",i)}async function gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if(On(i.app))return Promise.reject(Ci(i));const r="reauthenticate";try{const s=await rr(e,ps(i,r,t,e),n);Ai(s.idToken,i,"internal-error");const o=nr(s.idToken);Ai(o,i,"internal-error");const{sub:a}=o;return Ai(e.uid===a,i,"user-mismatch"),hs._forOperation(e,r,s)}catch(vM){throw(null===vM||void 0===vM?void 0:vM.code)==="auth/".concat("user-not-found")&&ki(i,"user-mismatch"),vM}}async function ys(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(On(e.app))return Promise.reject(Ci(e));const i="signIn",r=await ps(e,i,t),s=await hs._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function vs(e,t){return ys(Dr(e),t)}async function bs(e){const t=Dr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function xs(e,t){return Hi(e,"POST","/v2/accounts/mfaEnrollment:start",Bi(e,t))}new WeakMap;const ws="__sak";class _s{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ws,"1"),this.storage.removeItem(ws),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ss extends _s{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Cr()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ss.type="LOCAL";const ks=Ss;class Es extends _s{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Es.type="SESSION";const Ts=Es;class Cs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Cs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Cs.receivers=[];class js{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=Ns("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function As(){return window}function Ps(){return"undefined"!==typeof As().WorkerGlobalScope&&"function"===typeof As().importScripts}const Is="firebaseLocalStorageDb",Ds="firebaseLocalStorage",Ms="fbase_key";class Os{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Rs(e,t){return e.transaction([Ds],t?"readwrite":"readonly").objectStore(Ds)}function Ls(){const e=indexedDB.open(Is,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ds,{keyPath:Ms})}catch(vM){n(vM)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ds)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Is);return new Os(e).toPromise()}(),t(await Ls()))}))}))}async function Fs(e,t,n){const i=Rs(e,!0).put({[Ms]:t,value:n});return new Os(i).toPromise()}function Vs(e,t){const n=Rs(e,!0).delete(t);return new Os(n).toPromise()}class zs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ls()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(vM){if(t++>3)throw vM;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ps()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cs._getInstance(Ps()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new js(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ls();return await Fs(e,ws,"1"),await Vs(e,ws),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Fs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Rs(e,!1).get(t),i=await new Os(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Vs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Rs(e,!1).getAll();return new Os(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zs.type="LOCAL";const Us=zs;function Bs(e,t){return Hi(e,"POST","/v2/accounts/mfaSignIn:start",Bi(e,t))}Lr("rcb"),new Li(3e4,6e4);const Hs="recaptcha";async function Ws(e,t,n){var i;if(!e._getRecaptchaConfig())try{await Wr(e)}catch(r){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"===typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){Ai("enroll"===t.type,e,"internal-error");const i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Hr(e,i,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===zr){Ai((null===n||void 0===n?void 0:n.type)===Hs,e,"argument-error");return xs(e,await qs(e,t,n))}return xs(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Ai("signin"===t.type,e,"internal-error");const s=(null===(i=r.multiFactorHint)||void 0===i?void 0:i.uid)||r.multiFactorUid;Ai(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Hr(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===zr){Ai((null===n||void 0===n?void 0:n.type)===Hs,e,"argument-error");return Bs(e,await qs(e,t,n))}return Bs(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=Hr(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===zr){Ai((null===n||void 0===n?void 0:n.type)===Hs,e,"argument-error");return es(e,await qs(e,t,n))}return es(e,t)}),"PHONE_PROVIDER");return(await i.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function qs(e,t,n){Ai(n.type===Hs,e,"argument-error");const i=await n.verify();Ai("string"===typeof i,e,"argument-error");const r=Object.assign({},t);if("phoneEnrollmentInfo"in r){const e=r.phoneEnrollmentInfo.phoneNumber,t=r.phoneEnrollmentInfo.captchaResponse,n=r.phoneEnrollmentInfo.clientType,s=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:i,captchaResponse:t,clientType:n,recaptchaVersion:s}}),r}if("phoneSignInInfo"in r){const e=r.phoneSignInInfo.captchaResponse,t=r.phoneSignInInfo.clientType,n=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:e,clientType:t,recaptchaVersion:n}}),r}return Object.assign(r,{recaptchaToken:i}),r}class Gs{constructor(e){this.providerId=Gs.PROVIDER_ID,this.auth=Dr(e)}verifyPhoneNumber(e,t){return Ws(this.auth,e,yt(t))}static credential(e,t){return ns._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gs.credentialFromTaggedObject(t)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?ns._fromTokenResponse(n,i):null}}function Ks(e,t){return t?fr(t):(Ai(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gs.PROVIDER_ID="phone",Gs.PHONE_SIGN_IN_METHOD="phone";class Ys extends Yr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xs(e){return ys(e.auth,new Ys(e),e.bypassAuthState)}function Qs(e){const{auth:t,user:n}=e;return Ai(n,t,"internal-error"),gs(n,new Ys(e),e.bypassAuthState)}async function $s(e){const{auth:t,user:n}=e;return Ai(n,t,"internal-error"),ms(n,new Ys(e),e.bypassAuthState)}class Js{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(vM){this.reject(vM)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(vM){this.reject(vM)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xs;case"linkViaPopup":case"linkViaRedirect":return $s;case"reauthViaPopup":case"reauthViaRedirect":return Qs;default:ki(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zs=new Li(2e3,1e4);class eo extends Js{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ai(e,this.auth,"internal-error"),e}async onExecution(){Ii(1===this.filter.length,"Popup operations only handle one event");const e=Ns();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ei(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Zs.get())};e()}}eo.currentPopupAction=null;const to=new Map;class no extends Js{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=to.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=so(t),i=ro(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(vM){e=()=>Promise.reject(vM)}to.set(this.auth._key(),e)}return this.bypassAuthState||to.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function io(e,t){to.set(e._key(),t)}function ro(e){return fr(e._redirectPersistence)}function so(e){return gr("pendingRedirect",e.config.apiKey,e.name)}async function oo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(On(e.app))return Promise.reject(Ci(e));const i=Dr(e),r=Ks(i,t),s=new no(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class ao{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return co(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!co(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ei(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lo(e))}saveEventToCache(e){this.cachedEventUids.add(lo(e)),this.lastProcessedEventTime=Date.now()}}function lo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function co(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const uo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ho=/^https?/;async function fo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Hi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const i of t)try{if(po(i))return}catch(n){}ki(e,"unauthorized-domain")}function po(e){const t=Di(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!ho.test(n))return!1;if(uo.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const mo=new Li(3e4,6e4);function go(){const e=As().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function yo(e){return new Promise(((t,n)=>{var i,r,s;function o(){go(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{go(),n(Ei(e,"network-request-failed"))},timeout:mo.get()})}if(null===(r=null===(i=As().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=As().gapi)||void 0===s?void 0:s.load)){const t=Lr("iframefcb");return As()[t]=()=>{gapi.load?o():n(Ei(e,"network-request-failed"))},Rr("".concat(Or.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw vo=null,e}))}let vo=null;const bo=new Li(5e3,15e3),xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _o(e){const t=e.config;Ai(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Fi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:t.apiKey,appName:e.name,v:Fn},r=wo.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(dt(i).slice(1))}async function So(e){const t=await function(e){return vo=vo||yo(e),vo}(e),n=As().gapi;return Ai(n,e,"internal-error"),t.open({where:document.body,url:_o(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xo,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Ei(e,"network-request-failed"),s=As().setTimeout((()=>{i(r)}),bo.get());function o(){As().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}const ko={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(vM){}}}function To(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ko),{width:i.toString(),height:r.toString(),top:s,left:o}),c=rt().toLowerCase();n&&(a=wr(c)?"_blank":n),br(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return Tr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new Eo(null);const h=window.open(t||"",a,u);Ai(h,e,"popup-blocked");try{h.focus()}catch(vM){}return new Eo(h)}const Co="__/auth/handler",No="emulator/auth/handler",jo=encodeURIComponent("fac");async function Ao(e,t,n,i,r,s){Ai(e.config.authDomain,e,"auth-domain-config-required"),Ai(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Fn,eventId:r};if(t instanceof ss){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof os){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(jo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Co);return Fi(t,No)}(e),"?").concat(dt(a).slice(1)).concat(c)}const Po="webStorageSupport";const Io=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ts,this._completeRedirectFn=oo,this._overrideRedirectResult=io}async _openPopup(e,t,n,i){var r;Ii(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return To(e,await Ao(e,t,n,Di(),i),Ns())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){As().location.href=e}(await Ao(e,t,n,Di(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ii(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await So(e),n=new ao(e);return t.register("authEvent",(t=>{Ai(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Po,{type:Po},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[Po];void 0!==r&&t(!!r),ki(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nr()||xr()||Tr()}};var Do="@firebase/auth",Mo="1.8.1";class Oo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ai(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ro=nt("authIdTokenMaxAge")||300;let Lo=null;var Fo,Vo;Fo={loadJS:e=>new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Ei("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Or=Fo,Vo="Browser",Dn(new vt("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ai(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:Vo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jr(Vo)},c=new Ir(i,r,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Dn(new vt("auth-internal",(e=>(e=>new Oo(e))(Dr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Un(Do,Mo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Vo)),Un(Do,Mo,"esm2017");Un("firebase","11.1.0","app");var zo,Uo,Bo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ho={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var i=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],o=t+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=0|e[r];i&&s==t||(n[r]=s,i=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var i=t-this.blockSize,r=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=i;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,r),s=0;break}}else for(;o<t;)if(r[s++]=e[o++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var r={};function s(e){return-128<=e&&128>e?function(e,t){var n=r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new i([0|e],0>e?-1:0)})):new i([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=t;0>=i.l(e);)n=y(n),i=y(i);var r=v(n,1),s=v(i,1);for(i=v(i,2),n=v(n,2);!u(i);){var c=s.add(i);0>=c.l(e)&&(r=r.add(n),s=c),i=v(i,1),n=v(n,1)}return t=f(e,r.j(t)),new m(r,t)}for(r=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),c=(s=o(n)).j(t);h(c)||0<c.l(e);)c=(s=o(n-=i)).j(t);u(s)&&(s=l),r=r.add(s),e=f(e,c)}return new m(r,e)}function y(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(s,e.h)}(e=i.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.i(n);e+=(0<=i?i:4294967296+i)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,i="";;){var r=g(n,t).g,s=((0<(n=f(n,r.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var l=this.i(r)>>>16,f=65535&this.i(r),m=e.i(s)>>>16,g=65535&e.i(s);n[2*r+2*s]+=f*g,p(n,2*r+2*s),n[2*r+2*s+1]+=l*g,p(n,2*r+2*s+1),n[2*r+2*s+1]+=f*m,p(n,2*r+2*s+1),n[2*r+2*s+2]+=l*m,p(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Uo=Ho.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=o,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=o(Math.pow(n,8)),r=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),r=r.j(l).add(o(c))):r=(r=r.j(i)).add(o(c))}return r},zo=Ho.Integer=i}).apply("undefined"!==typeof Bo?Bo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Wo,qo,Go,Ko,Yo,Xo,Qo,$o,Jo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zo={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Jo&&Jo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,i){if(i)e:{var r=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in r))break e;r=r[o]}(i=i(s=r[e=e[e.length-1]]))!=s&&null!=i&&t(r,e,{configurable:!0,writable:!0,value:i})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return t}))}}));var i=i||{},r=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=r.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){r.setTimeout((()=>{throw e}),0)}function k(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,N=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=r.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){S(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function I(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};r.addEventListener("test",e,t),r.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}h(O,D);var R={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++F,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=Array.prototype.indexOf.call(r,t,void 0);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==i)return r}return-1}U.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=H(e,t,i,r);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new V(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var W="closure_lm_"+(1e6*Math.random()|0),q={};function G(e,t,n,i,r){if(i&&i.once)return Y(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,i,r);return null}return n=te(n),e&&e[L]?e.K(t,n,o(i)?!!i.capture:!!i,r):K(e,t,n,!1,i,r)}function K(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var a=o(r)?!!r.capture:!!r,l=Z(e);if(l||(e[W]=l=new U(e)),(n=l.add(t,n,i,a,s)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)M||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent($(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Y(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y(e,t[s],n,i,r);return null}return n=te(n),e&&e[L]?e.L(t,n,o(i)?!!i.capture:!!i,r):K(e,t,n,!0,i,r)}function X(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)X(e,t[s],n,i,r);else i=o(i)?!!i.capture:!!i,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(s=e.g[t],n,i,r))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,i,r)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent($(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[W]=null)):z(e)}}}function $(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,i=e.ha||e.src;e.fa&&Q(e),e=n.call(i,t)}return e}function Z(e){return(e=e[W])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){I.call(this),this.i=new U(this),this.M=this,this.F=null}function ie(e,t){var n,i=e.F;if(i)for(n=[];i;i=i.F)n.push(i);if(e=e.M,i=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var r=t;w(t=new D(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=re(o,i,!0,t)&&r}if(r=re(o=t.g=e,i,!0,t)&&r,r=re(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=re(o=t.g=n[s],i,!1,t)&&r}function re(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:r.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,I),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,i){X(this,e,t,n,i)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)z(n[i]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},ne.prototype.L=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};class ae extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){I.call(this),this.h=e,this.g={}}h(le,I);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=r.JSON.stringify,de=r.JSON.parse,fe=class{stringify(e){return r.JSON.stringify(e,void 0)}parse(e){return r.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){D.call(this,"d")}function be(){D.call(this,"c")}h(ve,D),h(be,D);var xe={},we=null;function _e(){return we=we||new ne}function Se(e){D.call(this,xe.La,e)}function ke(e){const t=_e();ie(t,new Se(t))}function Ee(e,t){D.call(this,xe.STAT_EVENT,e),this.stat=t}function Te(e){const t=_e();ie(t,new Ee(t,e))}function Ce(e,t){D.call(this,xe.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return r.setTimeout((function(){e()}),t)}function je(){this.g=!0}function Ae(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(i?" "+i:"")}))}xe.La="serverreachability",h(Se,D),xe.STAT_EVENT="statevent",h(Ee,D),xe.Ma="timingevent",h(Ce,D),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Pe,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Me(){}function Oe(e,t,n,i){this.j=e,this.i=t,this.l=n,this.R=i||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}h(Me,pe),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},Pe=new Me;var Le={},Fe={};function Ve(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,i=e.R;Array.isArray(i)||(i=[String(i)]),Et(n.i,"t",i),e.C=0,n=e.j.J,e.h=new Re,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,i=e.ca;var r="readystatechange";Array.isArray(r)||(r&&(ce[0]=r.toString()),r=ce);for(var s=0;s<r.length;s++){var o=G(n,r[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Fe:(n=Number(t.substring(n,i)),isNaN(n)?Le:(i+=1)+n>t.length?Fe:(t=t.slice(i,i+n),e.C=i+n,t))}function He(e){e.S=Date.now()+e.I,We(e,e.I)}function We(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function qe(e){e.B&&(r.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ye(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var i=n.Da.g.parse(t)}catch(u){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),Te(18)}}else n.za=r[1],0<n.za-n.T&&37500>r[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(r=n.Da.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const r=c[4];null!=r&&(n.Aa=r,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(i.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.ya=e,ut(i.I,i.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((i=n).qa=dn(i,i.J?i.ia:null,i.W),o.K){tt(i.h,o);var a=o,l=i.L;l&&(a.I=l),a.B&&(qe(a),He(a)),i.g=o}else nn(i);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Xt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=d||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var i=Gt(this.g);e="";var s=i.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var a="";break t}this.h.i=new r.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:!(o&&t==s-1)});i.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),Ge(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ye(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Fe){4==d&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Te(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ye(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Te(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Ae(this.i,this.l,a,null),Ye(this,a);4==d&&Ke(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(p(e[i]))continue;var n=_(e[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),Ge(this)}}}catch(ea){}},Oe.prototype.cancel=function(){this.J=!0,Ke(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ke(this),this.s=2,Ge(this)):We(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,r.PerformanceNavigationTiming?e=0<(e=r.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function it(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(rt))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,xt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){_t(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return _t(e),t=Tt(e,t),e.g.has(t)}function Et(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(s){}}function Nt(){this.g=new fe}function jt(e,t,n){const i=n||"";try{it(e,(function(e,n){let r=e;o(e)&&(r=he(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(vM){throw t.push(i+"type="+encodeURIComponent("_badmap")),vM}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Mt(e)}function Mt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Rt(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){_t(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,kt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.V(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")},h(At,pe),At.prototype.g=function(){return new Pt(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Mt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||r).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mt(this)),this.g&&(this.readyState=3,Mt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof r.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Mt(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Lt,ne);var Ft=/^https?$/i,Vt=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Ht(e)}function Ut(e){e.A||(e.A=!0,ie(e,"complete"),ie(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof i&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(ie(e,"readystatechange"),4==qt(e)){e.h=!1;try{const i=e.Z();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===i){var o=String(e.D).match(rt)[1]||null;!o&&r.self&&r.self.location&&(o=r.self.location.protocol.slice(0,-1)),s=!Ft.test(o?o.toLowerCase():"")}n=s}if(n)ie(e,"complete"),ie(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Ut(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){Wt(e);const n=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ie(e,"ready");try{n.onreadystatechange=i}catch(vM){}}}function Wt(e){e.I&&(r.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ia){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xt(e){if($t(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,r.navigator&&r.navigator.sendBeacon)try{n=r.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!n&&r.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Qt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function $t(e){Qt(e),e.u&&(r.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&r.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),N||(C(),N=!0),j.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const i=ot(e.I);ut(i,"SID",e.K),ut(i,"RID",n),ut(i,"AID",e.T),en(e,i),e.m&&e.o&&Rt(i,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,i,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&it({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var i=e.l?c(e.l.Na,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=r[o].g;const a=r[o].map;if(n-=t,0>n)t=Math.max(0,r[o].g-100),s=!1;else try{jt(a,e,"req"+n+"_")}catch(ea){i&&i(a)}}if(s){i=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,i}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),N||(C(),N=!0),j.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(r.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,ze(n,e)}function an(e){null!=e.C&&(r.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var i=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),i=1}if(0!=e.G)if(t.o)if(1==i){n=t.m?t.m.length:0,t=Date.now()-t.F;var r=e.B;ie(i=_e(),new Ce(i,n)),Jt(e)}else nn(e);else if(3==(r=t.s)||0==r&&0<t.X||!(1==i&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==i&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),i=e.Xa;const t=!i;i=new st(i||"//www.google.com/images/cleardot.gif"),r.location&&"http"==r.location.protocol||at(i,"https"),ht(i),t?function(e,t){const n=new je;if(r.Image){const i=new Image;i.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,i),i.onerror=u(Ct,n,"TestLoadImage: error",!1,t,i),i.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,i),i.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,i),r.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(i.toString(),n):function(e,t){new je;const n=new AbortController,i=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(i),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(i),Ct(0,0,!1,t)}))}(i.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),$t(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var i=n instanceof st?ot(n):new st(n);if(""!=i.g)t&&(i.g=t+"."+i.g),lt(i,i.s);else{var s=r.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);i&&at(o,i),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),i=o}return n=e.D,t=e.ya,n&&t&&ut(i,n,t),ut(i,"VER",e.la),en(e,i),i}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new At({eb:n})):new Lt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Yt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void zt(this,o)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=r.FormData&&e instanceof r.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,a]of n)this.g.setRequestHeader(r,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){zt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ie(this,"complete"),ie(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Yt.prototype).la=8,e.G=1,e.connect=function(e,t,n,i){Te(0),this.W=e,this.H=t||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.I=dn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const r=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(r.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,r,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Rt(n,this.m,s)),et(this.h,r),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),r.T=!0,Ve(r,n,null)):Ve(r,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Xt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,be),h(bn,pn),bn.prototype.ua=function(){ie(this.g,"a")},bn.prototype.ta=function(e){ie(this.g,new yn(e))},bn.prototype.sa=function(e){ie(this.g,new vn)},bn.prototype.ra=function(){ie(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,$o=Zo.createWebChannelTransport=function(){return new mn},Qo=Zo.getStatEventTarget=function(){return _e()},Xo=Zo.Event=xe,Yo=Zo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Ko=Zo.ErrorCode=Ie,De.COMPLETE="complete",Go=Zo.EventType=De,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,qo=Zo.WebChannel=ge,Zo.FetchXmlHttpFactory=At,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,Wo=Zo.XhrIo=Lt}).apply("undefined"!==typeof Jo?Jo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ea="@firebase/firestore";class ta{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ta.UNAUTHENTICATED=new ta(null),ta.GOOGLE_CREDENTIALS=new ta("google-credentials-uid"),ta.FIRST_PARTY=new ta("first-party-uid"),ta.MOCK_USER=new ta("mock-user");let na="11.0.2";const ia=new Nt("@firebase/firestore");function ra(){return ia.logLevel}function sa(e){if(ia.logLevel<=St.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(la);ia.debug("Firestore (".concat(na,"): ").concat(e),...r)}}function oa(e){if(ia.logLevel<=St.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(la);ia.error("Firestore (".concat(na,"): ").concat(e),...r)}}function aa(e){if(ia.logLevel<=St.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(la);ia.warn("Firestore (".concat(na,"): ").concat(e),...r)}}function la(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ca(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(na,") INTERNAL ASSERTION FAILED: ")+e;throw oa(t),new Error(t)}function ua(e,t){e||ca()}function ha(e,t){return e}const da={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fa extends at{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class pa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ma{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ta.UNAUTHENTICATED)))}shutdown(){}}class ya{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class va{constructor(e){this.t=e,this.currentUser=ta.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ua(void 0===this.o);let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new pa,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{sa("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(sa("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new pa)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(sa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ua("string"==typeof t.accessToken),new ma(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ua(null===e||"string"==typeof e),new ta(e)}}class ba{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ta.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xa{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new ba(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ta.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _a{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ua(void 0===this.o);const n=e=>{null!=e.error&&sa("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,sa("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{sa("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?i(e):sa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ua("string"==typeof e.token),this.R=e.token,new wa(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class ka{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=Sa(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%62))}return n}}function Ea(e,t){return e<t?-1:e>t?1:0}function Ta(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}class Ca{static now(){return Ca.fromMillis(Date.now())}static fromDate(e){return Ca.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ca(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fa(da.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fa(da.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fa(da.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fa(da.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ea(this.nanoseconds,e.nanoseconds):Ea(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Na{static fromTimestamp(e){return new Na(e)}static min(){return new Na(new Ca(0,0))}static max(){return new Na(new Ca(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ja{constructor(e,t,n){void 0===t?t=0:t>e.length&&ca(),void 0===n?n=e.length-t:n>e.length-t&&ca(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ja.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Aa extends ja{construct(e,t,n){return new Aa(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new fa(da.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new Aa(e)}static emptyPath(){return new Aa([])}}const Pa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ia extends ja{construct(e,t,n){return new Ia(e,t,n)}static isValidIdentifier(e){return Pa.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ia.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ia(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new fa(da.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new fa(da.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new fa(da.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new fa(da.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ia(t)}static emptyPath(){return new Ia([])}}class Da{constructor(e){this.path=e}static fromPath(e){return new Da(Aa.fromString(e))}static fromName(e){return new Da(Aa.fromString(e).popFirst(5))}static empty(){return new Da(Aa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Aa.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Aa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Da(new Aa(e.slice()))}}class Ma{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}Ma.UNKNOWN_ID=-1;function Oa(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Na.fromTimestamp(1e9===i?new Ca(n+1,0):new Ca(n,i));return new La(r,Da.empty(),t)}function Ra(e){return new La(e.readTime,e.key,-1)}class La{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new La(Na.min(),Da.empty(),-1)}static max(){return new La(Na.max(),Da.empty(),-1)}}function Fa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Da.comparator(e.documentKey,t.documentKey),0!==n?n:Ea(e.largestBatchId,t.largestBatchId))}const Va="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class za{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ua(e){if(e.code!==da.FAILED_PRECONDITION||e.message!==Va)throw e;sa("LocalStore","Unexpectedly lost primary lease")}class Ba{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ca(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ba(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ba?t:Ba.resolve(t)}catch(e){return Ba.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ba.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ba.reject(t)}static resolve(e){return new Ba(((t,n)=>{t(e)}))}static reject(e){return new Ba(((t,n)=>{n(e)}))}static waitFor(e){return new Ba(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=Ba.resolve(!1);for(const n of e)t=t.next((e=>e?Ba.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new Ba(((n,i)=>{const r=e.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===r&&n(s)}),(e=>i(e)))}}))}static doWhile(e,t){return new Ba(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}function Ha(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(e){return"IndexedDbTransactionError"===e.name}class qa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Ga(e){return null==e}function Ka(e){return 0===e&&1/e==-1/0}function Ya(e){return"number"==typeof e&&Number.isInteger(e)&&!Ka(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Xa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$a(t)),t=Qa(e.get(n),t);return $a(t)}function Qa(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function $a(e){return e+"\x01\x01"}qa.oe=-1;const Ja=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Za=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],el=Za,tl=[...el,"indexConfiguration","indexState","indexEntries"];function nl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function il(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sl{constructor(e,t){this.comparator=e,this.root=t||al.EMPTY}insert(e,t){return new sl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,al.BLACK,null,null))}remove(e){return new sl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,al.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ol(this.root,e,this.comparator,!0)}}class ol{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class al{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:al.RED,this.left=null!=i?i:al.EMPTY,this.right=null!=r?r:al.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new al(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return al.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return al.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,al.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,al.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ca();if(this.right.isRed())throw ca();const e=this.left.check();if(e!==this.right.check())throw ca();return e+(this.isRed()?0:1)}}al.EMPTY=null,al.RED=!0,al.BLACK=!1,al.EMPTY=new class{constructor(){this.size=0}get key(){throw ca()}get value(){throw ca()}get color(){throw ca()}get left(){throw ca()}get right(){throw ca()}copy(e,t,n,i,r){return this}insert(e,t,n){return new al(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ll{constructor(e){this.comparator=e,this.data=new sl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cl(this.data.getIterator())}getIteratorFrom(e){return new cl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ll))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ll(this.comparator);return t.data=e,t}}class cl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ul{constructor(e){this.fields=e,e.sort(Ia.comparator)}static empty(){return new ul([])}unionWith(e){let t=new ll(Ia.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ul(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class hl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hl("Invalid base64 string: "+e):e}}(e);return new dl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new dl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ea(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dl.EMPTY_BYTE_STRING=new dl("");const fl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(e){if(ua(!!e),"string"==typeof e){let t=0;const n=fl.exec(e);if(ua(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ml(e.seconds),nanos:ml(e.nanos)}}function ml(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gl(e){return"string"==typeof e?dl.fromBase64String(e):dl.fromUint8Array(e)}function yl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vl(e){const t=e.mapValue.fields.__previous_value__;return yl(t)?vl(t):t}function bl(e){const t=pl(e.mapValue.fields.__local_write_time__.timestampValue);return new Ca(t.seconds,t.nanos)}class xl{constructor(e,t,n,i,r,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}const _l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Sl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yl(e)?4:zl(e)?9007199254740991:Fl(e)?10:11:ca()}function kl(e,t){if(e===t)return!0;const n=Sl(e);if(n!==Sl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bl(e).isEqual(bl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=pl(e.timestampValue),i=pl(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gl(e.bytesValue).isEqual(gl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ml(e.geoPointValue.latitude)===ml(t.geoPointValue.latitude)&&ml(e.geoPointValue.longitude)===ml(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ml(e.integerValue)===ml(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ml(e.doubleValue),i=ml(t.doubleValue);return n===i?Ka(n)===Ka(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return Ta(e.arrayValue.values||[],t.arrayValue.values||[],kl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(nl(n)!==nl(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!kl(n[r],i[r])))return!1;return!0}(e,t);default:return ca()}}function El(e,t){return void 0!==(e.values||[]).find((e=>kl(e,t)))}function Tl(e,t){if(e===t)return 0;const n=Sl(e),i=Sl(t);if(n!==i)return Ea(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ea(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ml(e.integerValue||e.doubleValue),i=ml(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Cl(e.timestampValue,t.timestampValue);case 4:return Cl(bl(e),bl(t));case 5:return Ea(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gl(e),i=gl(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=Ea(n[r],i[r]);if(0!==e)return e}return Ea(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ea(ml(e.latitude),ml(t.latitude));return 0!==n?n:Ea(ml(e.longitude),ml(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Nl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,i,r,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(i=a.value)||void 0===i?void 0:i.arrayValue,u=Ea((null===(r=null==l?void 0:l.values)||void 0===r?void 0:r.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Nl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_l.mapValue&&t===_l.mapValue)return 0;if(e===_l.mapValue)return 1;if(t===_l.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const e=Ea(i[o],s[o]);if(0!==e)return e;const t=Tl(n[i[o]],r[s[o]]);if(0!==t)return t}return Ea(i.length,s.length)}(e.mapValue,t.mapValue);default:throw ca()}}function Cl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ea(e,t);const n=pl(e),i=pl(t),r=Ea(n.seconds,i.seconds);return 0!==r?r:Ea(n.nanos,i.nanos)}function Nl(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=Tl(n[r],i[r]);if(e)return e}return Ea(n.length,i.length)}function jl(e){return Al(e)}function Al(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=pl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return gl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Da.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=Al(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+="".concat(r,":").concat(Al(e.fields[r]));return n+"}"}(e.mapValue):ca()}function Pl(e){switch(Sl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vl(e);return t?16+Pl(t):16;case 5:return 2*e.stringValue.length;case 6:return gl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Pl(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return il(e.fields,((e,n)=>{t+=e.length+Pl(n)})),t}(e.mapValue);default:throw ca()}}function Il(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dl(e){return!!e&&"integerValue"in e}function Ml(e){return!!e&&"arrayValue"in e}function Ol(e){return!!e&&"nullValue"in e}function Rl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ll(e){return!!e&&"mapValue"in e}function Fl(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return il(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Vl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ul{constructor(e){this.value=e}static empty(){return new Ul({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ll(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}setAll(e){let t=Ia.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=Vl(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());Ll(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Ll(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){il(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new Ul(Vl(this.value))}}function Bl(e){const t=[];return il(e.fields,((e,n)=>{const i=new Ia([e]);if(Ll(n)){const e=Bl(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new ul(t)}class Hl{constructor(e,t,n,i,r,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Hl(e,0,Na.min(),Na.min(),Na.min(),Ul.empty(),0)}static newFoundDocument(e,t,n,i){return new Hl(e,1,t,Na.min(),n,i,0)}static newNoDocument(e,t){return new Hl(e,2,t,Na.min(),Na.min(),Ul.empty(),0)}static newUnknownDocument(e,t){return new Hl(e,3,t,Na.min(),Na.min(),Ul.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Na.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ul.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ul.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Na.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Wl{constructor(e,t){this.position=e,this.inclusive=t}}function ql(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(i=s.field.isKeyField()?Da.comparator(Da.fromName(o.referenceValue),n.key):Tl(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Gl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kl(e.position[n],t.position[n]))return!1;return!0}class Kl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Xl{}class Ql extends Xl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rc(e,t,n):"array-contains"===t?new lc(e,n):"in"===t?new cc(e,n):"not-in"===t?new uc(e,n):"array-contains-any"===t?new hc(e,n):new Ql(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new sc(e,n):new oc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Tl(t,this.value)):null!==t&&Sl(this.value)===Sl(t)&&this.matchesComparison(Tl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ca()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $l extends Xl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $l(e,t)}matches(e){return Jl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jl(e){return"and"===e.op}function Zl(e){return ec(e)&&Jl(e)}function ec(e){for(const t of e.filters)if(t instanceof $l)return!1;return!0}function tc(e){if(e instanceof Ql)return e.field.canonicalString()+e.op.toString()+jl(e.value);if(Zl(e))return e.filters.map((e=>tc(e))).join(",");{const t=e.filters.map((e=>tc(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function nc(e,t){return e instanceof Ql?function(e,t){return t instanceof Ql&&e.op===t.op&&e.field.isEqual(t.field)&&kl(e.value,t.value)}(e,t):e instanceof $l?function(e,t){return t instanceof $l&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&nc(n,t.filters[i])),!0)}(e,t):void ca()}function ic(e){return e instanceof Ql?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(jl(e.value))}(e):e instanceof $l?function(e){return e.op.toString()+" {"+e.getFilters().map(ic).join(" ,")+"}"}(e):"Filter"}class rc extends Ql{constructor(e,t,n){super(e,t,n),this.key=Da.fromName(n.referenceValue)}matches(e){const t=Da.comparator(e.key,this.key);return this.matchesComparison(t)}}class sc extends Ql{constructor(e,t){super(e,"in",t),this.keys=ac("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class oc extends Ql{constructor(e,t){super(e,"not-in",t),this.keys=ac("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ac(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Da.fromName(e.referenceValue)))}class lc extends Ql{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ml(t)&&El(t.arrayValue,this.value)}}class cc extends Ql{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&El(this.value.arrayValue,t)}}class uc extends Ql{constructor(e,t){super(e,"not-in",t)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!El(this.value.arrayValue,t)}}class hc extends Ql{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ml(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>El(this.value.arrayValue,e)))}}class dc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ue=null}}function fc(e){return new dc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function pc(e){const t=ha(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>tc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ga(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>jl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>jl(e))).join(",")),t.ue=e}return t.ue}function mc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Yl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gl(e.startAt,t.startAt)&&Gl(e.endAt,t.endAt)}function gc(e){return Da.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class yc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vc(e,t,n,i,r,s,o,a){return new yc(e,t,n,i,r,s,o,a)}function bc(e){return new yc(e)}function xc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wc(e){return null!==e.collectionGroup}function _c(e){const t=ha(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",i=function(e){let t=new ll(Ia.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);i.forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.ce.push(new Kl(i,n))})),e.has(Ia.keyField().canonicalString())||t.ce.push(new Kl(Ia.keyField(),n))}return t.ce}function Sc(e){const t=ha(e);return t.le||(t.le=kc(t,_c(e))),t.le}function kc(e,t){if("F"===e.limitType)return fc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Kl(e.field,t)}));const n=e.endAt?new Wl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Wl(e.startAt.position,e.startAt.inclusive):null;return fc(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Ec(e,t){const n=e.filters.concat([t]);return new yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Tc(e,t,n){return new yc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return mc(Sc(e),Sc(t))&&e.limitType===t.limitType}function Nc(e){return"".concat(pc(Sc(e)),"|lt:").concat(e.limitType)}function jc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ic(e))).join(", "),"]")),Ga(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>jl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>jl(e))).join(",")),"Target(".concat(t,")")}(Sc(e)),"; limitType=").concat(e.limitType,")")}function Ac(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Da.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of _c(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=ql(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,_c(e),t))&&!(e.endAt&&!function(e,t,n){const i=ql(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,_c(e),t))}(e,t)}function Pc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ic(e){return(t,n)=>{let i=!1;for(const r of _c(e)){const e=Dc(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function Dc(e,t,n){const i=e.field.isKeyField()?Da.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?Tl(i,r):ca()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ca()}}class Mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return rl(this.inner)}size(){return this.innerSize}}const Oc=new sl(Da.comparator);function Rc(){return Oc}const Lc=new sl(Da.comparator);function Fc(){let e=Lc;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.insert(r.key,r);return e}function Vc(e){let t=Lc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function zc(){return Bc()}function Uc(){return Bc()}function Bc(){return new Mc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Hc=new sl(Da.comparator),Wc=new ll(Da.comparator);function qc(){let e=Wc;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.add(r);return e}const Gc=new ll(Ea);function Kc(){return Gc}function Yc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ka(t)?"-0":t}}function Xc(e){return{integerValue:""+e}}function Qc(e,t){return Ya(t)?Xc(t):Yc(e,t)}class $c{constructor(){this._=void 0}}function Jc(e,t,n){return e instanceof tu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&yl(t)&&(t=vl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nu?iu(e,t):e instanceof ru?su(e,t):function(e,t){const n=eu(e,t),i=au(n)+au(e.Pe);return Dl(n)&&Dl(e.Pe)?Xc(i):Yc(e.serializer,i)}(e,t)}function Zc(e,t,n){return e instanceof nu?iu(e,t):e instanceof ru?su(e,t):n}function eu(e,t){return e instanceof ou?function(e){return Dl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class tu extends $c{}class nu extends $c{constructor(e){super(),this.elements=e}}function iu(e,t){const n=lu(t);for(const i of e.elements)n.some((e=>kl(e,i)))||n.push(i);return{arrayValue:{values:n}}}class ru extends $c{constructor(e){super(),this.elements=e}}function su(e,t){let n=lu(t);for(const i of e.elements)n=n.filter((e=>!kl(e,i)));return{arrayValue:{values:n}}}class ou extends $c{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function au(e){return ml(e.integerValue||e.doubleValue)}function lu(e){return Ml(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class cu{constructor(e,t){this.version=e,this.transformResults=t}}class uu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uu}static exists(e){return new uu(void 0,e)}static updateTime(e){return new uu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class du{}function fu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Su(e.key,uu.none()):new vu(e.key,e.data,uu.none());{const n=e.data,i=Ul.empty();let r=new ll(Ia.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new bu(e.key,i,new ul(r.toArray()),uu.none())}}function pu(e,t,n){e instanceof vu?function(e,t,n){const i=e.value.clone(),r=wu(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof bu?function(e,t,n){if(!hu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=wu(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(xu(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function mu(e,t,n,i){return e instanceof vu?function(e,t,n,i){if(!hu(e.precondition,t))return n;const r=e.value.clone(),s=_u(e.fieldTransforms,i,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof bu?function(e,t,n,i){if(!hu(e.precondition,t))return n;const r=_u(e.fieldTransforms,i,t),s=t.data;return s.setAll(xu(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return hu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function gu(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=eu(i.transform,e||null);null!=r&&(null===n&&(n=Ul.empty()),n.set(i.field,r))}return n||null}function yu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ta(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nu&&t instanceof nu||e instanceof ru&&t instanceof ru?Ta(e.elements,t.elements,kl):e instanceof ou&&t instanceof ou?kl(e.Pe,t.Pe):e instanceof tu&&t instanceof tu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vu extends du{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bu extends du{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function xu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function wu(e,t,n){const i=new Map;ua(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,Zc(o,a,n[r]))}return i}function _u(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,Jc(e,s,t))}return i}class Su extends du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ku extends du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Eu{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&pu(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=mu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=mu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Uc();return this.mutations.forEach((i=>{const r=e.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=t.has(i.key)?null:o;const a=fu(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(Na.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qc())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,((e,t)=>yu(e,t)))&&Ta(this.baseMutations,e.baseMutations,((e,t)=>yu(e,t)))}}class Tu{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){ua(e.mutations.length===n.length);let i=Hc;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Tu(e,t,n,i)}}class Cu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Nu{constructor(e,t){this.count=e,this.unchangedNames=t}}var ju,Au;function Pu(e){switch(e){default:return ca();case da.CANCELLED:case da.UNKNOWN:case da.DEADLINE_EXCEEDED:case da.RESOURCE_EXHAUSTED:case da.INTERNAL:case da.UNAVAILABLE:case da.UNAUTHENTICATED:return!1;case da.INVALID_ARGUMENT:case da.NOT_FOUND:case da.ALREADY_EXISTS:case da.PERMISSION_DENIED:case da.FAILED_PRECONDITION:case da.ABORTED:case da.OUT_OF_RANGE:case da.UNIMPLEMENTED:case da.DATA_LOSS:return!0}}function Iu(e){if(void 0===e)return oa("GRPC error has no .code"),da.UNKNOWN;switch(e){case ju.OK:return da.OK;case ju.CANCELLED:return da.CANCELLED;case ju.UNKNOWN:return da.UNKNOWN;case ju.DEADLINE_EXCEEDED:return da.DEADLINE_EXCEEDED;case ju.RESOURCE_EXHAUSTED:return da.RESOURCE_EXHAUSTED;case ju.INTERNAL:return da.INTERNAL;case ju.UNAVAILABLE:return da.UNAVAILABLE;case ju.UNAUTHENTICATED:return da.UNAUTHENTICATED;case ju.INVALID_ARGUMENT:return da.INVALID_ARGUMENT;case ju.NOT_FOUND:return da.NOT_FOUND;case ju.ALREADY_EXISTS:return da.ALREADY_EXISTS;case ju.PERMISSION_DENIED:return da.PERMISSION_DENIED;case ju.FAILED_PRECONDITION:return da.FAILED_PRECONDITION;case ju.ABORTED:return da.ABORTED;case ju.OUT_OF_RANGE:return da.OUT_OF_RANGE;case ju.UNIMPLEMENTED:return da.UNIMPLEMENTED;case ju.DATA_LOSS:return da.DATA_LOSS;default:return ca()}}(Au=ju||(ju={}))[Au.OK=0]="OK",Au[Au.CANCELLED=1]="CANCELLED",Au[Au.UNKNOWN=2]="UNKNOWN",Au[Au.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Au[Au.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Au[Au.NOT_FOUND=5]="NOT_FOUND",Au[Au.ALREADY_EXISTS=6]="ALREADY_EXISTS",Au[Au.PERMISSION_DENIED=7]="PERMISSION_DENIED",Au[Au.UNAUTHENTICATED=16]="UNAUTHENTICATED",Au[Au.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Au[Au.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Au[Au.ABORTED=10]="ABORTED",Au[Au.OUT_OF_RANGE=11]="OUT_OF_RANGE",Au[Au.UNIMPLEMENTED=12]="UNIMPLEMENTED",Au[Au.INTERNAL=13]="INTERNAL",Au[Au.UNAVAILABLE=14]="UNAVAILABLE",Au[Au.DATA_LOSS=15]="DATA_LOSS";let Du=null;function Mu(){return new TextEncoder}const Ou=new zo([4294967295,4294967295],0);function Ru(e){const t=Mu().encode(e),n=new Uo;return n.update(t),new Uint8Array(n.digest())}function Lu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new zo([n,i],0),new zo([r,s],0)]}class Fu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Vu("Invalid padding: ".concat(t));if(n<0)throw new Vu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Vu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Vu("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=zo.fromNumber(this.Te)}Ee(e,t,n){let i=e.add(t.multiply(zo.fromNumber(n)));return 1===i.compare(Ou)&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Ru(e),[n,i]=Lu(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(n,i,r);if(!this.de(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new Fu(r,i,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Ru(e),[n,i]=Lu(t);for(let r=0;r<this.hashCount;r++){const e=this.Ee(n,i,r);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zu{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new zu(Na.min(),i,new sl(Ea),Rc(),qc())}}class Uu{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uu(n,t,qc(),qc(),qc())}}class Bu{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class Hu{constructor(e,t){this.targetId=e,this.me=t}}class Wu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class qu{constructor(){this.fe=0,this.ge=Yu(),this.pe=dl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qc(),t=qc(),n=qc();return this.ge.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:ca()}})),new Uu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Yu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ua(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Gu{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rc(),this.qe=Ku(),this.Qe=Ku(),this.Ke=new sl(Ea)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:ca()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,i=this.Ye(t);if(i){const r=i.target;if(gc(r))if(0===n){const e=new Da(r.path);this.We(t,e,Hl.newNoDocument(e,Na.min()))}else ua(1===n);else{const i=this.Ze(t);if(i!==n){const n=this.Xe(e),r=n?this.et(n,e,i):1;if(0!==r){this.He(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Du||Du.tt(function(e,t,n,i,r){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==i?void 0:i.mightContain(e))&&void 0!==t&&t}}),h}(i,e.me,this.Le.nt(),n,r))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=t;let s,o;try{s=gl(n).toUint8Array()}catch(e){if(e instanceof hl)return aa("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Fu(s,i,r)}catch(e){return aa(e instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach((n=>{const r=this.Le.nt(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),i++)})),i}it(e){const t=new Map;this.Be.forEach(((n,i)=>{const r=this.Ye(i);if(r){if(n.current&&gc(r.target)){const t=new Da(r.target.path);this.st(t).has(i)||this.ot(i,t)||this.We(i,t,Hl.newNoDocument(t,e))}n.be&&(t.set(i,n.ve()),n.Ce())}}));let n=qc();this.Qe.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const i=new zu(e,t,this.Ke,this.ke,n);return this.ke=Rc(),this.qe=Ku(),this.Qe=Ku(),this.Ke=new sl(Ea),i}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new qu,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new ll(Ea),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ll(Ea),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||sa("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new qu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ku(){return new sl(Da.comparator)}function Yu(){return new sl(Da.comparator)}const Xu={asc:"ASCENDING",desc:"DESCENDING"},Qu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$u={and:"AND",or:"OR"};class Ju{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zu(e,t){return e.useProto3Json||Ga(t)?t:{value:t}}function eh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function th(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nh(e,t){return eh(e,t.toTimestamp())}function ih(e){return ua(!!e),Na.fromTimestamp(function(e){const t=pl(e);return new Ca(t.seconds,t.nanos)}(e))}function rh(e,t){return sh(e,t).canonicalString()}function sh(e,t){const n=function(e){return new Aa(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function oh(e){const t=Aa.fromString(e);return ua(Th(t)),t}function ah(e,t){return rh(e.databaseId,t.path)}function lh(e,t){const n=oh(t);if(n.get(1)!==e.databaseId.projectId)throw new fa(da.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fa(da.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Da(dh(n))}function ch(e,t){return rh(e.databaseId,t)}function uh(e){const t=oh(e);return 4===t.length?Aa.emptyPath():dh(t)}function hh(e){return new Aa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dh(e){return ua(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function fh(e,t,n){return{name:ah(e,t),fields:n.value.mapValue.fields}}function ph(e,t){let n;if(t instanceof vu)n={update:fh(e,t.key,t.value)};else if(t instanceof Su)n={delete:ah(e,t.key)};else if(t instanceof bu)n={update:fh(e,t.key,t.data),updateMask:Eh(t.fieldMask)};else{if(!(t instanceof ku))return ca();n={verify:ah(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof tu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ru)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ou)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw ca()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ca()}(e,t.precondition)),n}function mh(e,t){return{documents:[ch(e,t.path)]}}function gh(e,t){const n={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=ch(e,r);const s=function(e){if(0!==e.length)return kh($l.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:_h(e.field),direction:bh(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zu(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:r}}function yh(e){let t=uh(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ua(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=vh(e);return t instanceof $l&&Zl(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Kl(Sh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ga(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wl(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Wl(n,t)}(n.endAt)),vc(t,r,o,s,a,"F",l,c)}function vh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Sh(e.unaryFilter.field);return Ql.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Sh(e.unaryFilter.field);return Ql.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Sh(e.unaryFilter.field);return Ql.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Sh(e.unaryFilter.field);return Ql.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ca()}}(e):void 0!==e.fieldFilter?function(e){return Ql.create(Sh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ca()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $l.create(e.compositeFilter.filters.map((e=>vh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ca()}}(e.compositeFilter.op))}(e):ca()}function bh(e){return Xu[e]}function xh(e){return Qu[e]}function wh(e){return $u[e]}function _h(e){return{fieldPath:e.canonicalString()}}function Sh(e){return Ia.fromServerFormat(e.fieldPath)}function kh(e){return e instanceof Ql?function(e){if("=="===e.op){if(Rl(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NAN"}};if(Ol(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rl(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NOT_NAN"}};if(Ol(e.value))return{unaryFilter:{field:_h(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_h(e.field),op:xh(e.op),value:e.value}}}(e):e instanceof $l?function(e){const t=e.getFilters().map((e=>kh(e)));return 1===t.length?t[0]:{compositeFilter:{op:wh(e.op),filters:t}}}(e):ca()}function Eh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Th(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ch{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Na.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Na.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:dl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Ch(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nh{constructor(e){this.ht=e}}function jh(e){const t=yh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tc(t,t.limit,"L"):t}class Ah{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(ml(e.integerValue));else if("doubleValue"in e){const n=ml(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Ka(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=pl(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(gl(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?zl(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):Fl(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):ca()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const i of Object.keys(n))this.gt(i,t),this.dt(n[i],t)}bt(e,t){var n,i;const r=e.fields||{};this.Rt(t,53);const s="value",o=(null===(i=null===(n=r[s].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.length)||0;this.Rt(t,15),t.Vt(ml(o)),this.gt(s,t),this.dt(r[s],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const i of n)this.dt(i,t)}St(e,t){this.Rt(t,37),Da.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}Ah.Ft=new Ah;class Ph{constructor(){this.ln=new Ih}addToCollectionParentIndex(e,t){return this.ln.add(t),Ba.resolve()}getCollectionParents(e,t){return Ba.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Ba.resolve()}deleteFieldIndex(e,t){return Ba.resolve()}deleteAllFieldIndexes(e){return Ba.resolve()}createTargetIndexes(e,t){return Ba.resolve()}getDocumentsMatchingTarget(e,t){return Ba.resolve(null)}getIndexType(e,t){return Ba.resolve(0)}getFieldIndexes(e,t){return Ba.resolve([])}getNextCollectionGroupToUpdate(e){return Ba.resolve(null)}getMinOffset(e,t){return Ba.resolve(La.min())}getMinOffsetFromCollectionGroup(e,t){return Ba.resolve(La.min())}updateCollectionGroup(e,t,n){return Ba.resolve()}updateIndexEntries(e,t){return Ba.resolve()}}class Ih{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new ll(Aa.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ll(Aa.comparator)).toArray()}}new Uint8Array(0);const Dh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mh{static withCacheSize(e){return new Mh(e,Mh.DEFAULT_COLLECTION_PERCENTILE,Mh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Mh.DEFAULT_COLLECTION_PERCENTILE=10,Mh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mh.DEFAULT=new Mh(41943040,Mh.DEFAULT_COLLECTION_PERCENTILE,Mh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mh.DISABLED=new Mh(-1,0,0);class Oh{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Oh(0)}static Qn(){return new Oh(-1)}}function Rh(e,t){let[n,i]=e,[r,s]=t;const o=Ea(n,r);return 0===o?Ea(i,s):o}class Lh{constructor(e){this.Gn=e,this.buffer=new ll(Rh),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Rh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){sa("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Wa(e)?sa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Ua(e)}await this.Yn(3e5)}))}}class Vh{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ba.resolve(qa.oe);const n=new Lh(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(sa("LruGarbageCollector","Garbage collection skipped; disabled"),Ba.resolve(Dh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(sa("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Dh):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(sa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),ra()<=St.DEBUG&&sa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(i," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ba.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}function zh(e,t){return new Vh(e,t)}class Uh{constructor(){this.changes=new Mc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ba.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hh{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&mu(n.mutation,e,ul.empty(),Ca.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,qc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qc();const i=zc();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=Fc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=zc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,qc())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=Rc();const s=Bc(),o=Bc();return t.forEach(((e,t)=>{const o=n.get(t.key);i.has(t.key)&&(void 0===o||o.mutation instanceof bu)?r=r.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),mu(o.mutation,t,o.mutation.getFieldMask(),Ca.now())):s.set(t.key,ul.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Bh(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Bc();let i=new sl(((e,t)=>e-t)),r=qc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||ul.empty();o=r.applyToLocalView(s,o),n.set(e,o);const a=(i.get(r.batchId)||qc()).add(e);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=Uc();l.forEach((e=>{if(!r.has(e)){const i=fu(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ba.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,i){return function(e){return Da.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):Ba.resolve(zc());let o=-1,a=r;return s.next((t=>Ba.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(t)?Ba.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,a,t,qc()))).next((e=>({batchId:o,changes:Vc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Da(t)).next((e=>{let t=Fc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const r=t.collectionGroup;let s=Fc();return this.indexManager.getCollectionParents(e,r).next((o=>Ba.forEach(o,(o=>{const a=function(e,t){return new yc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n,i).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,i)))).next((e=>{r.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,Hl.newInvalidDocument(i)))}));let n=Fc();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&mu(s.mutation,i,ul.empty(),Ca.now()),Ac(t,i)&&(n=n.insert(e,i))})),n}))}}class Wh{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Ba.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ih(e.createTime)}}(t)),Ba.resolve()}getNamedQuery(e,t){return Ba.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:jh(e.bundledQuery),readTime:ih(e.readTime)}}(t)),Ba.resolve()}}class qh{constructor(){this.overlays=new sl(Da.comparator),this.Er=new Map}getOverlay(e,t){return Ba.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zc();return Ba.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.Tt(e,t,i)})),Ba.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Er.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),Ba.resolve()}getOverlaysForCollection(e,t,n){const i=zc(),r=t.length+1,s=new Da(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Ba.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new sl(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=zc(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=zc(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=i)););return Ba.resolve(o)}Tt(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.Er.get(i.largestBatchId).delete(n.key);this.Er.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Cu(t,n));let r=this.Er.get(t);void 0===r&&(r=qc(),this.Er.set(t,r)),this.Er.set(t,r.add(n.key))}}class Gh{constructor(){this.sessionToken=dl.EMPTY_BYTE_STRING}getSessionToken(e){return Ba.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ba.resolve()}}class Kh{constructor(){this.dr=new ll(Yh.Ar),this.Rr=new ll(Yh.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new Yh(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new Yh(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new Da(new Aa([])),n=new Yh(t,e),i=new Yh(t,e+1),r=[];return this.Rr.forEachInRange([n,i],(e=>{this.gr(e),r.push(e.key)})),r}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Da(new Aa([])),n=new Yh(t,e),i=new Yh(t,e+1);let r=qc();return this.Rr.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new Yh(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Yh{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Da.comparator(e.key,t.key)||Ea(e.br,t.br)}static Vr(e,t){return Ea(e.br,t.br)||Da.comparator(e.key,t.key)}}class Xh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new ll(Yh.Ar)}checkEmpty(e){return Ba.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Eu(r,t,n,i);this.mutationQueue.push(s);for(const o of i)this.vr=this.vr.add(new Yh(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ba.resolve(s)}lookupMutationBatch(e,t){return Ba.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Fr(n),r=i<0?0:i;return Ba.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ba.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return Ba.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yh(t,0),i=new Yh(t,Number.POSITIVE_INFINITY),r=[];return this.vr.forEachInRange([n,i],(e=>{const t=this.Cr(e.br);r.push(t)})),Ba.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ll(Ea);return t.forEach((e=>{const t=new Yh(e,0),i=new Yh(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,i],(e=>{n=n.add(e.br)}))})),Ba.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;Da.isDocumentKey(r)||(r=r.child(""));const s=new Yh(new Da(r),0);let o=new ll(Ea);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.br)),!0)}),s),Ba.resolve(this.Mr(o))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ua(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return Ba.forEach(t.mutations,(i=>{const r=new Yh(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new Yh(t,0),i=this.vr.firstAfterOrEqual(n);return Ba.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ba.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qh{constructor(e){this.Nr=e,this.docs=new sl(Da.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ba.resolve(n?n.document.mutableCopy():Hl.newInvalidDocument(t))}getEntries(e,t){let n=Rc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Hl.newInvalidDocument(e))})),Ba.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=Rc();const s=t.path,o=new Da(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Fa(Ra(o),n)<=0||(i.has(o.key)||Ac(t,o))&&(r=r.insert(o.key,o.mutableCopy()))}return Ba.resolve(r)}getAllFromCollectionGroup(e,t,n,i){ca()}Lr(e,t){return Ba.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new $h(this)}getSize(e){return Ba.resolve(this.size)}}class $h extends Uh{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(n)})),Ba.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Jh{constructor(e){this.persistence=e,this.Br=new Mc((e=>pc(e)),mc),this.lastRemoteSnapshotVersion=Na.min(),this.highestTargetId=0,this.kr=0,this.qr=new Kh,this.targetCount=0,this.Qr=Oh.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),Ba.resolve()}getLastRemoteSnapshotVersion(e){return Ba.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ba.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Ba.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),Ba.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Oh(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Ba.resolve()}updateTargetData(e,t){return this.Un(t),Ba.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Ba.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Br.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Br.delete(s),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Ba.waitFor(r).next((()=>i))}getTargetCount(e){return Ba.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return Ba.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),Ba.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),Ba.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Ba.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return Ba.resolve(n)}containsKey(e,t){return Ba.resolve(this.qr.containsKey(t))}}class Zh{constructor(e,t){this.Kr={},this.overlays={},this.$r=new qa(0),this.Ur=!1,this.Ur=!0,this.Wr=new Gh,this.referenceDelegate=e(this),this.Gr=new Jh(this),this.indexManager=new Ph,this.remoteDocumentCache=function(e){return new Qh(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new Nh(t),this.jr=new Wh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new Xh(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){sa("MemoryPersistence","Starting transaction:",e);const i=new ed(this.$r.next());return this.referenceDelegate.Hr(),n(i).next((e=>this.referenceDelegate.Jr(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Yr(e,t){return Ba.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class ed extends za{constructor(e){super(),this.currentSequenceNumber=e}}class td{constructor(e){this.persistence=e,this.Zr=new Kh,this.Xr=null}static ei(e){return new td(e)}get ti(){if(this.Xr)return this.Xr;throw ca()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),Ba.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),Ba.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Ba.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ba.forEach(this.ti,(n=>{const i=Da.fromPath(n);return this.ni(e,i).next((e=>{e||t.removeEntry(i,Na.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return Ba.or([()=>Ba.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class nd{constructor(e,t){this.persistence=e,this.ri=new Mc((e=>Xa(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=zh(this,t)}static ei(e,t){return new nd(e,t)}Hr(){}Jr(e){return Ba.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return Ba.forEach(this.ri,((n,i)=>this.ir(e,n,i).next((e=>e?Ba.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.Lr(e,(i=>this.ir(e,i,t).next((e=>{e||(n++,r.removeEntry(i,Na.min()))})))).next((()=>r.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Ba.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),Ba.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),Ba.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Ba.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pl(e.data.value)),t}ir(e,t,n){return Ba.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return Ba.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class id{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=i}static zi(e,t){let n=qc(),i=qc();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new id(e,t.fromCache,n,i)}}class rd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sd{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=st()?8:Ha(rt())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,i){const r={result:null};return this.Xi(e,t).next((e=>{r.result=e})).next((()=>{if(!r.result)return this.es(e,t,i,n).next((e=>{r.result=e}))})).next((()=>{if(r.result)return;const n=new rd;return this.ts(e,t,n).next((i=>{if(r.result=i,this.Hi)return this.ns(e,t,n,i.size)}))})).next((()=>r.result))}ns(e,t,n,i){return n.documentReadCount<this.Ji?(ra()<=St.DEBUG&&sa("QueryEngine","SDK will not create cache indexes for query:",jc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Ba.resolve()):(ra()<=St.DEBUG&&sa("QueryEngine","Query:",jc(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Yi*i?(ra()<=St.DEBUG&&sa("QueryEngine","The SDK decides to create cache indexes for query:",jc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sc(t))):Ba.resolve())}Xi(e,t){if(xc(t))return Ba.resolve(null);let n=Sc(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=Tc(t,null,"F"),n=Sc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=qc(...i);return this.Zi.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.rs(t,i);return this.ss(t,s,r,n.readTime)?this.Xi(e,Tc(t,null,"F")):this.os(e,s,t,n)}))))})))))}es(e,t,n,i){return xc(t)||i.isEqual(Na.min())?Ba.resolve(null):this.Zi.getDocuments(e,n).next((r=>{const s=this.rs(t,r);return this.ss(t,s,n,i)?Ba.resolve(null):(ra()<=St.DEBUG&&sa("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jc(t)),this.os(e,s,t,Oa(i,-1)).next((e=>e)))}))}rs(e,t){let n=new ll(Ic(e));return t.forEach(((t,i)=>{Ac(e,i)&&(n=n.add(i))})),n}ss(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}ts(e,t,n){return ra()<=St.DEBUG&&sa("QueryEngine","Using full collection scan to execute query:",jc(t)),this.Zi.getDocumentsMatchingQuery(e,t,La.min(),n)}os(e,t,n,i){return this.Zi.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class od{constructor(e,t,n,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new sl(Ea),this.cs=new Mc((e=>pc(e)),mc),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hh(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function ad(e,t,n,i){return new od(e,t,n,i)}async function ld(e,t){const n=ha(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],s=[];let o=qc();for(const e of i){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ts:e,removedBatchIds:r,addedBatchIds:s})))}))}))}function cd(e){const t=ha(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function ud(e,t,n){let i=qc(),r=qc();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=Rc();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(Na.min())?(t.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),i=i.insert(n,s)):sa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Is:i,Es:r}}))}function hd(e,t){const n=ha(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function dd(e,t){const n=ha(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.Gr.getTargetData(e,t).next((r=>r?(i=r,Ba.resolve(i)):n.Gr.allocateTargetId(e).next((r=>(i=new Ch(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.us.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function fd(e,t,n){const i=ha(e),r=i.us.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!Wa(e))throw e;sa("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.us=i.us.remove(t),i.cs.delete(r.target)}function pd(e,t,n){const i=ha(e);let r=Na.min(),s=qc();return i.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const i=ha(e),r=i.cs.get(n);return void 0!==r?Ba.resolve(i.us.get(r)):i.Gr.getTargetData(t,n)}(i,e,Sc(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i._s.getDocumentsMatchingQuery(e,t,n?r:Na.min(),n?s:qc()))).next((e=>(md(i,Pc(t),e),{documents:e,ds:s})))))}function md(e,t,n){let i=e.ls.get(t)||Na.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.ls.set(t,i)}class gd{constructor(){this.activeTargetIds=Kc()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yd{constructor(){this._o=new gd,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vd{uo(e){}shutdown(){}}class bd{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){sa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){sa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xd=null;function wd(){return null===xd?xd=268435456+Math.round(2147483648*Math.random()):xd++,"0x"+xd.toString(16)}const _d={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sd{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const kd="WebChannelConnection";class Ed extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(i),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}Oo(e,t,n,i,r){const s=wd(),o=this.No(e,t.toUriEncodedString());sa("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,i,r),this.Bo(e,o,a,n).then((t=>(sa("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw aa("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}ko(e,t,n,i,r,s){return this.Oo(e,t,n,i,r)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=_d[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,i){const r=wd();return new Promise(((s,o)=>{const a=new Wo;a.setWithCredentials(!0),a.listenOnce(Go.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ko.NO_ERROR:const t=a.getResponseJson();sa(kd,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),s(t);break;case Ko.TIMEOUT:sa(kd,"RPC '".concat(e,"' ").concat(r," timed out")),o(new fa(da.DEADLINE_EXCEEDED,"Request time out"));break;case Ko.HTTP_ERROR:const n=a.getStatus();if(sa(kd,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(da).indexOf(t)>=0?t:da.UNKNOWN}(t.status);o(new fa(e,t.message))}else o(new fa(da.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new fa(da.UNAVAILABLE,"Connection failed."));break;default:ca()}}finally{sa(kd,"RPC '".concat(e,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);sa(kd,"RPC '".concat(e,"' ").concat(r," sending request:"),i),a.send(t,"POST",l,n,15)}))}qo(e,t,n){const i=wd(),r=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$o(),o=Qo(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=r.join("");sa(kd,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Sd({Eo:t=>{d?sa(kd,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(h||(sa(kd,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),u.open(),h=!0),sa(kd,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),u.send(t))},Ao:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,qo.EventType.OPEN,(()=>{d||(sa(kd,"RPC '".concat(e,"' stream ").concat(i," transport opened.")),f.So())})),p(u,qo.EventType.CLOSE,(()=>{d||(d=!0,sa(kd,"RPC '".concat(e,"' stream ").concat(i," transport closed")),f.Do())})),p(u,qo.EventType.ERROR,(t=>{d||(d=!0,aa(kd,"RPC '".concat(e,"' stream ").concat(i," transport errored:"),t),f.Do(new fa(da.UNAVAILABLE,"The operation could not be completed")))})),p(u,qo.EventType.MESSAGE,(t=>{var n;if(!d){const r=t.data[0];ua(!!r);const s=r,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){sa(kd,"RPC '".concat(e,"' stream ").concat(i," received error:"),o);const t=o.status;let n=function(e){const t=ju[e];if(void 0!==t)return Iu(t)}(t),r=o.message;void 0===n&&(n=da.INTERNAL,r="Unknown error status: "+t+" with message "+o.message),d=!0,f.Do(new fa(n,r)),u.close()}else sa(kd,"RPC '".concat(e,"' stream ").concat(i," received:"),r),f.vo(r)}})),p(o,Xo.STAT_EVENT,(t=>{t.stat===Yo.PROXY?sa(kd,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===Yo.NOPROXY&&sa(kd,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{f.bo()}),0),f}}function Td(){return"undefined"!=typeof document?document:null}function Cd(e){return new Ju(e,!0)}class Nd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=i,this.$o=r,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-n);i>0&&sa("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class jd{constructor(e,t,n,i,r,s,o,a){this.li=e,this.Yo=n,this.Zo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Nd(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===da.RESOURCE_EXHAUSTED?(oa(t.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===da.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,i]=e;this.Xo===t&&this.I_(n,i)}),(t=>{e((()=>{const e=new fa(da.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return sa("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(sa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ad extends jd{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ca()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ua(void 0===t||"string"==typeof t),dl.fromBase64String(t||"")):(ua(void 0===t||t instanceof Buffer||t instanceof Uint8Array),dl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?da.UNKNOWN:Iu(e.code);return new fa(t,e.message||"")}(o);n=new Wu(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=lh(e,i.document.name),s=ih(i.document.updateTime),o=i.document.createTime?ih(i.document.createTime):Na.min(),a=new Ul({mapValue:{fields:i.document.fields}}),l=Hl.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Bu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=lh(e,i.document),s=i.readTime?ih(i.readTime):Na.min(),o=Hl.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Bu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=lh(e,i.document),s=i.removedTargetIds||[];n=new Bu([],s,r,null)}else{if(!("filter"in t))return ca();{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,s=new Nu(i,r),o=e.targetId;n=new Hu(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Na.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Na.min():t.readTime?ih(t.readTime):Na.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=hh(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=gc(i)?{documents:mh(e,i)}:{query:gh(e,i).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=th(e,t.resumeToken);const i=Zu(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Na.min())>0){n.readTime=eh(e,t.snapshotVersion.toTimestamp());const i=Zu(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ca()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=hh(this.serializer),t.removeTarget=e,this.c_(t)}}class Pd extends jd{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ua(!!e.streamToken),this.lastStreamToken=e.streamToken,ua(!e.writeResults||0===e.writeResults.length),this.listener.p_()}onNext(e){ua(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=function(e,t){return e&&e.length>0?(ua(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ih(e.updateTime):ih(t);return n.isEqual(Na.min())&&(n=ih(t)),new cu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ih(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=hh(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ph(this.serializer,e)))};this.c_(t)}}class Id extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new fa(da.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,o]=r;return this.connection.Oo(e,sh(t,n),i,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===da.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new fa(da.UNKNOWN,e.toString())}))}ko(e,t,n,i,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.ko(e,sh(t,n),i,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===da.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new fa(da.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class Dd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(oa(t),this.C_=!1):sa("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class Md{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=r,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{Hd(this)&&(sa("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ha(e);t.k_.add(4),await Rd(t),t.K_.set("Unknown"),t.k_.delete(4),await Od(t)}(this))}))})),this.K_=new Dd(n,i)}}async function Od(e){if(Hd(e))for(const t of e.q_)await t(!0)}async function Rd(e){for(const t of e.q_)await t(!1)}function Ld(e,t){const n=ha(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),Bd(n)?Ud(n):cf(n).s_()&&Vd(n,t))}function Fd(e,t){const n=ha(e),i=cf(n);n.B_.delete(t),i.s_()&&zd(n,t),0===n.B_.size&&(i.s_()?i.a_():Hd(n)&&n.K_.set("Unknown"))}function Vd(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Na.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}cf(e).V_(t)}function zd(e,t){e.U_.xe(t),cf(e).m_(t)}function Ud(e){e.U_=new Gu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),cf(e).start(),e.K_.F_()}function Bd(e){return Hd(e)&&!cf(e).i_()&&e.B_.size>0}function Hd(e){return 0===ha(e).k_.size}function Wd(e){e.U_=void 0}async function qd(e){e.K_.set("Online")}async function Gd(e){e.B_.forEach(((t,n)=>{Vd(e,t)}))}async function Kd(e,t){Wd(e),Bd(e)?(e.K_.O_(t),Ud(e)):e.K_.set("Unknown")}async function Yd(e,t,n){if(e.K_.set("Online"),t instanceof Wu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.B_.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.B_.delete(i),e.U_.removeTarget(i))}(e,t)}catch(n){sa("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Xd(e,n)}else if(t instanceof Bu?e.U_.$e(t):t instanceof Hu?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Na.min()))try{const t=await cd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.B_.get(i);r&&e.B_.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.B_.get(t);if(!i)return;e.B_.set(t,i.withResumeToken(dl.EMPTY_BYTE_STRING,i.snapshotVersion)),zd(e,t);const r=new Ch(i.target,t,n,i.sequenceNumber);Vd(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){sa("RemoteStore","Failed to raise snapshot:",t),await Xd(e,t)}}async function Xd(e,t,n){if(!Wa(t))throw t;e.k_.add(1),await Rd(e),e.K_.set("Offline"),n||(n=()=>cd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{sa("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await Od(e)}))}function Qd(e,t){return t().catch((n=>Xd(e,n,t)))}async function $d(e){const t=ha(e),n=uf(t);let i=t.L_.length>0?t.L_[t.L_.length-1].batchId:-1;for(;Jd(t);)try{const e=await hd(t.localStore,i);if(null===e){0===t.L_.length&&n.a_();break}i=e.batchId,Zd(t,e)}catch(e){await Xd(t,e)}ef(t)&&tf(t)}function Jd(e){return Hd(e)&&e.L_.length<10}function Zd(e,t){e.L_.push(t);const n=uf(e);n.s_()&&n.f_&&n.g_(t.mutations)}function ef(e){return Hd(e)&&!uf(e).i_()&&e.L_.length>0}function tf(e){uf(e).start()}async function nf(e){uf(e).w_()}async function rf(e){const t=uf(e);for(const n of e.L_)t.g_(n.mutations)}async function sf(e,t,n){const i=e.L_.shift(),r=Tu.from(i,t,n);await Qd(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await $d(e)}async function of(e,t){t&&uf(e).f_&&await async function(e,t){if(function(e){return Pu(e)&&e!==da.ABORTED}(t.code)){const n=e.L_.shift();uf(e).__(),await Qd(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await $d(e)}}(e,t),ef(e)&&tf(e)}async function af(e,t){const n=ha(e);n.asyncQueue.verifyOperationInProgress(),sa("RemoteStore","RemoteStore received new credentials");const i=Hd(n);n.k_.add(3),await Rd(n),i&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await Od(n)}async function lf(e,t){const n=ha(e);t?(n.k_.delete(2),await Od(n)):t||(n.k_.add(2),await Rd(n),n.K_.set("Unknown"))}function cf(e){return e.W_||(e.W_=function(e,t,n){const i=ha(e);return i.b_(),new Ad(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Ro:qd.bind(null,e),mo:Gd.bind(null,e),po:Kd.bind(null,e),R_:Yd.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),Bd(e)?Ud(e):e.K_.set("Unknown")):(await e.W_.stop(),Wd(e))}))),e.W_}function uf(e){return e.G_||(e.G_=function(e,t,n){const i=ha(e);return i.b_(),new Pd(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Ro:()=>Promise.resolve(),mo:nf.bind(null,e),po:of.bind(null,e),p_:rf.bind(null,e),y_:sf.bind(null,e)}),e.q_.push((async t=>{t?(e.G_.__(),await $d(e)):(await e.G_.stop(),e.L_.length>0&&(sa("RemoteStore","Stopping write stream with ".concat(e.L_.length," pending writes")),e.L_=[]))}))),e.G_}class hf{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new hf(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fa(da.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function df(e,t){if(oa("AsyncQueue","".concat(t,": ").concat(e)),Wa(e))return new fa(da.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class ff{static emptySet(e){return new ff(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Da.comparator(t.key,n.key):(e,t)=>Da.comparator(e.key,t.key),this.keyedMap=Fc(),this.sortedSet=new sl(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ff;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class pf{constructor(){this.z_=new sl(Da.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ca():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class mf{constructor(e,t,n,i,r,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new mf(e,t,ff.emptySet(t),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class gf{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class yf{constructor(){this.queries=vf(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=ha(e),i=n.queries;n.queries=vf(),i.forEach(((e,n)=>{for(const i of n.J_)i.onError(t)}))}(this,new fa(da.ABORTED,"Firestore shutting down"))}}function vf(){return new Mc((e=>Nc(e)),Cc)}async function bf(e,t){const n=ha(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.Y_()&&t.Z_()&&(i=2):(s=new gf,i=t.Z_()?0:1);try{switch(i){case 0:s.H_=await n.onListen(r,!0);break;case 1:s.H_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(e){const n=df(e,"Initialization of query '".concat(jc(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.J_.push(t),t.ea(n.onlineState),s.H_&&t.ta(s.H_)&&Sf(n)}async function xf(e,t){const n=ha(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const e=s.J_.indexOf(t);e>=0&&(s.J_.splice(e,1),0===s.J_.length?r=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function wf(e,t){const n=ha(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(r)&&(i=!0);t.H_=r}}i&&Sf(n)}function _f(e,t,n){const i=ha(e),r=i.queries.get(t);if(r)for(const s of r.J_)s.onError(n);i.queries.delete(t)}function Sf(e){e.X_.forEach((e=>{e.next()}))}var kf,Ef;(Ef=kf||(kf={})).na="default",Ef.Cache="cache";class Tf{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new mf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==kf.Cache}}class Cf{constructor(e){this.key=e}}class Nf{constructor(e){this.key=e}}class jf{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=qc(),this.mutatedKeys=qc(),this.Va=Ic(e),this.ma=new ff(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new pf,i=t?t.ma:this.ma;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),u=Ac(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ya(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Va(u,a)>0||l&&this.Va(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{ma:s,pa:n,ss:o,mutatedKeys:r}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const r=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ca()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),i=null!=i&&i;const o=t&&!i?this.Sa():[],a=0===this.Ra.size&&this.current&&!i?1:0,l=a!==this.Aa;return this.Aa=a,0!==s.length||l?{snapshot:new mf(this.query,e.ma,r,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new pf,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=qc(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new Nf(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new Cf(n))})),t}va(e){this.da=e.ds,this.Ra=qc();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return mf.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Af{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Pf{constructor(e){this.key=e,this.Fa=!1}}class If{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Mc((e=>Nc(e)),Cc),this.Oa=new Map,this.Na=new Set,this.La=new sl(Da.comparator),this.Ba=new Map,this.ka=new Kh,this.qa={},this.Qa=new Map,this.Ka=Oh.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Df(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=ep(e);let r;const s=i.xa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Ca()):r=await Of(i,t,n,!0),r}async function Mf(e,t){const n=ep(e);await Of(n,t,!0,!1)}async function Of(e,t,n,i){const r=await dd(e.localStore,Sc(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await Rf(e,t,s,"current"===o,r.resumeToken)),e.isPrimaryClient&&n&&Ld(e.remoteStore,r),a}async function Rf(e,t,n,i,r){e.Ua=(t,n,i)=>async function(e,t,n,i){let r=t.view.ga(n);r.ss&&(r=await pd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,r)})));const s=i&&i.targetChanges.get(t.targetId),o=i&&null!=i.targetMismatches.get(t.targetId),a=t.view.applyChanges(r,e.isPrimaryClient,s,o);return Yf(e,t.targetId,a.ba),a.snapshot}(e,t,n,i);const s=await pd(e.localStore,t,!0),o=new jf(t,s.ds),a=o.ga(s.documents),l=Uu.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=o.applyChanges(a,e.isPrimaryClient,l);Yf(e,n,c.ba);const u=new Af(t,n,o);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function Lf(e,t,n){const i=ha(e),r=i.xa.get(t),s=i.Oa.get(r.targetId);if(s.length>1)return i.Oa.set(r.targetId,s.filter((e=>!Cc(e,t)))),void i.xa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await fd(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Fd(i.remoteStore,r.targetId),Gf(i,r.targetId)})).catch(Ua)):(Gf(i,r.targetId),await fd(i.localStore,r.targetId,!0))}async function Ff(e,t){const n=ha(e),i=n.xa.get(t),r=n.Oa.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Fd(n.remoteStore,i.targetId))}async function Vf(e,t){const n=ha(e);try{const e=await function(e,t){const n=ha(e),i=t.snapshotVersion;let r=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});r=n.us;const o=[];t.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Gr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(dl.EMPTY_BYTE_STRING,Na.min()).withLastLimboFreeSnapshotVersion(Na.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Gr.updateTargetData(e,c))}));let a=Rc(),l=qc();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),o.push(ud(e,s,t.documentUpdates).next((e=>{a=e.Is,l=e.Es}))),!i.isEqual(Na.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,i)));o.push(t)}return Ba.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.us=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.Ba.get(t);i&&(ua(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.Fa=!0:e.modifiedDocuments.size>0?ua(i.Fa):e.removedDocuments.size>0&&(ua(i.Fa),i.Fa=!1))})),await $f(n,e,t)}catch(e){await Ua(e)}}function zf(e,t,n){const i=ha(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.xa.forEach(((n,i)=>{const r=i.view.ea(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=ha(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.J_)r.ea(t)&&(i=!0)})),i&&Sf(n)}(i.eventManager,t),e.length&&i.Ma.R_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Uf(e,t,n){const i=ha(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Ba.get(t),s=r&&r.key;if(s){let e=new sl(Da.comparator);e=e.insert(s,Hl.newNoDocument(s,Na.min()));const n=qc().add(s),r=new zu(Na.min(),new Map,new sl(Ea),e,n);await Vf(i,r),i.La=i.La.remove(s),i.Ba.delete(t),Qf(i)}else await fd(i.localStore,t,!1).then((()=>Gf(i,t,n))).catch(Ua)}async function Bf(e,t){const n=ha(e),i=t.batch.batchId;try{const e=await function(e,t){const n=ha(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.hs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let o=Ba.resolve();return s.forEach((e=>{o=o.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ua(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=qc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);qf(n,i,null),Wf(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $f(n,e)}catch(e){await Ua(e)}}async function Hf(e,t,n){const i=ha(e);try{const e=await function(e,t){const n=ha(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ua(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);qf(i,t,n),Wf(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await $f(i,e)}catch(n){await Ua(n)}}function Wf(e,t){(e.Qa.get(t)||[]).forEach((e=>{e.resolve()})),e.Qa.delete(t)}function qf(e,t,n){const i=ha(e);let r=i.qa[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.qa[i.currentUser.toKey()]=r}}function Gf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Oa.get(t))e.xa.delete(i),n&&e.Ma.Wa(i,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||Kf(e,t)}))}function Kf(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(Fd(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),Qf(e))}function Yf(e,t,n){for(const i of n)i instanceof Cf?(e.ka.addReference(i.key,t),Xf(e,i)):i instanceof Nf?(sa("SyncEngine","Document no longer in limbo: "+i.key),e.ka.removeReference(i.key,t),e.ka.containsKey(i.key)||Kf(e,i.key)):ca()}function Xf(e,t){const n=t.key,i=n.path.canonicalString();e.La.get(n)||e.Na.has(i)||(sa("SyncEngine","New document in limbo: "+n),e.Na.add(i),Qf(e))}function Qf(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new Da(Aa.fromString(t)),i=e.Ka.next();e.Ba.set(i,new Pf(n)),e.La=e.La.insert(n,i),Ld(e.remoteStore,new Ch(Sc(bc(n.path)),i,"TargetPurposeLimboResolution",qa.oe))}}async function $f(e,t,n){const i=ha(e),r=[],s=[],o=[];i.xa.isEmpty()||(i.xa.forEach(((e,a)=>{o.push(i.Ua(a,t,n).then((e=>{var t;if((e||n)&&i.isPrimaryClient){const r=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;i.sharedClientState.updateQueryState(a.targetId,r?"current":"not-current")}if(e){r.push(e);const t=id.zi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),i.Ma.R_(r),await async function(e,t){const n=ha(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ba.forEach(t,(t=>Ba.forEach(t.Wi,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>Ba.forEach(t.Gi,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!Wa(e))throw e;sa("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.us.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.us=n.us.insert(e,r)}}}(i.localStore,s))}async function Jf(e,t){const n=ha(e);if(!n.currentUser.isEqual(t)){sa("SyncEngine","User change. New user:",t.toKey());const e=await ld(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new fa(da.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $f(n,e.Ts)}}function Zf(e,t){const n=ha(e),i=n.Ba.get(t);if(i&&i.Fa)return qc().add(i.key);{let e=qc();const i=n.Oa.get(t);if(!i)return e;for(const t of i){const i=n.xa.get(t);e=e.unionWith(i.view.fa)}return e}}function ep(e){const t=ha(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Uf.bind(null,t),t.Ma.R_=wf.bind(null,t.eventManager),t.Ma.Wa=_f.bind(null,t.eventManager),t}function tp(e){const t=ha(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hf.bind(null,t),t}class np{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return ad(this.persistence,new sd,e.initialUser,this.serializer)}ja(e){return new Zh(td.ei,this.serializer)}za(e){return new yd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}np.provider={build:()=>new np};class ip extends np{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ua(this.persistence.referenceDelegate instanceof nd);const n=this.persistence.referenceDelegate.garbageCollector;return new Fh(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?Mh.withCacheSize(this.cacheSizeBytes):Mh.DEFAULT;return new Zh((e=>nd.ei(e,t)),this.serializer)}}class rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jf.bind(null,this.syncEngine),await lf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yf}createDatastore(e){const t=Cd(e.databaseInfo.databaseId),n=function(e){return new Ed(e)}(e.databaseInfo);return function(e,t,n,i){return new Id(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,i,r){return new Md(e,t,n,i,r)}(this.localStore,this.datastore,e.asyncQueue,(e=>zf(this.syncEngine,e,0)),bd.p()?new bd:new vd)}createSyncEngine(e,t){return function(e,t,n,i,r,s,o){const a=new If(e,t,n,i,r,s);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ha(e);sa("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await Rd(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}rp.provider={build:()=>new rp};class sp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class op{constructor(e,t,n,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ta.UNAUTHENTICATED,this.clientId=ka.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,(async e=>{sa("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(sa("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=df(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ap(e,t){e.asyncQueue.verifyOperationInProgress(),sa("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await ld(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function lp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await cp(e);sa("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>af(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>af(t.remoteStore,n))),e._onlineComponents=t}async function cp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){sa("FirestoreClient","Using user provided OfflineComponentProvider");try{await ap(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===da.FAILED_PRECONDITION||e.code===da.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await ap(e,new np)}}else sa("FirestoreClient","Using default OfflineComponentProvider"),await ap(e,new ip(void 0));return e._offlineComponents}async function up(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sa("FirestoreClient","Using user provided OnlineComponentProvider"),await lp(e,e._uninitializedComponentsProvider._online)):(sa("FirestoreClient","Using default OnlineComponentProvider"),await lp(e,new rp))),e._onlineComponents}function hp(e){return up(e).then((e=>e.syncEngine))}async function dp(e){const t=await up(e),n=t.eventManager;return n.onListen=Df.bind(null,t.syncEngine),n.onUnlisten=Lf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Mf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ff.bind(null,t.syncEngine),n}function fp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new pa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new sp({next:a=>{s.eu(),t.enqueueAndForget((()=>xf(e,o)));const l=a.docs.has(n);!l&&a.fromCache?r.reject(new fa(da.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&i&&"server"===i.source?r.reject(new fa(da.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(a)},error:e=>r.reject(e)}),o=new Tf(bc(n.path),s,{includeMetadataChanges:!0,ua:!0});return bf(e,o)}(await dp(e),e.asyncQueue,t,n,i))),i.promise}function pp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new pa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new sp({next:n=>{s.eu(),t.enqueueAndForget((()=>xf(e,o))),n.fromCache&&"server"===i.source?r.reject(new fa(da.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),o=new Tf(n,s,{includeMetadataChanges:!0,ua:!0});return bf(e,o)}(await dp(e),e.asyncQueue,t,n,i))),i.promise}function mp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const gp=new Map;function yp(e,t,n){if(!n)throw new fa(da.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function vp(e){if(!Da.isDocumentKey(e))throw new fa(da.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bp(e){if(Da.isDocumentKey(e))throw new fa(da.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function xp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ca()}function wp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fa(da.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(e);throw new fa(da.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class _p{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new fa(da.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fa(da.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new fa(da.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new fa(da.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new fa(da.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new fa(da.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sp{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _p({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fa(da.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fa(da.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _p(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ga;switch(e.type){case"firstParty":return new xa(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new fa(da.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gp.get(e);t&&(sa("ComponentProvider","Removing Datastore"),gp.delete(e),t.terminate())}(this),Promise.resolve()}}function kp(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(e=wp(e,Sp))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=ta.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xe(JSON.stringify({alg:"none",type:"JWT"})),Xe(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new fa(da.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ta(s)}e._authCredentials=new ya(new ma(t,n))}}class Ep{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ep(this.firestore,e,this._query)}}class Tp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tp(this.firestore,e,this._key)}}class Cp extends Ep{constructor(e,t,n){super(e,t,bc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tp(this.firestore,null,new Da(e))}withConverter(e){return new Cp(this.firestore,e,this._path)}}function Np(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=yt(e),yp("collection","path",t),e instanceof Sp){const n=Aa.fromString(t,...i);return bp(n),new Cp(e,null,n)}{if(!(e instanceof Tp||e instanceof Cp))throw new fa(da.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Aa.fromString(t,...i));return bp(n),new Cp(e.firestore,null,n)}}function jp(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=yt(e),1===arguments.length&&(t=ka.newId()),yp("doc","path",t),e instanceof Sp){const n=Aa.fromString(t,...i);return vp(n),new Tp(e,null,new Da(n))}{if(!(e instanceof Tp||e instanceof Cp))throw new fa(da.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Aa.fromString(t,...i));return vp(n),new Tp(e.firestore,e instanceof Cp?e.converter:null,new Da(n))}}class Ap{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Nd(this,"async_queue_retry"),this.fu=()=>{const e=Td();e&&sa("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=Td();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Td();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new pa;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(vM){if(!Wa(vM))throw vM;sa("AsyncQueue","Operation failed with retryable error: "+vM)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw oa("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=hf.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(i),i}pu(){this.Au&&ca()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Pp extends Sp{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Ap,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ap(e),this._firestoreClient=void 0,await e}}}function Ip(e){if(e._terminated)throw new fa(da.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Dp(e),e._firestoreClient}function Dp(e){var t,n,i;const r=e._freezeSettings(),s=function(e,t,n,i){return new xl(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,mp(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new op(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Mp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mp(dl.fromBase64String(e))}catch(e){throw new fa(da.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Mp(dl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Op{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new fa(da.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ia(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rp{constructor(e){this._methodName=e}}class Lp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fa(da.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fa(da.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ea(this._lat,e._lat)||Ea(this._long,e._long)}}class Fp{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Vp=/^__.*__$/;class zp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new vu(e,this.data,t,this.fieldTransforms)}}class Up{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ca()}}class Hp{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Fu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Lu(e),i}Bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.xu({path:n,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return rm(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(Bp(this.Mu)&&Vp.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Wp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Cd(e)}$u(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Hp({Mu:e,methodName:t,Ku:n,path:Ia.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qp(e){const t=e._freezeSettings(),n=Cd(e._databaseId);return new Wp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Gp(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.$u(s.merge||s.mergeFields?2:0,t,n,r);em("Data must be an object, but it was:",o,i);const a=Jp(i,o);let l,c;if(s.merge)l=new ul(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=tm(t,i,n);if(!o.contains(r))throw new fa(da.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));sm(e,r)||e.push(r)}l=new ul(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new zp(new Ul(a),l,c)}class Kp extends Rp{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kp}}function Yp(e,t,n,i){const r=e.$u(1,t,n);em("Data must be an object, but it was:",r,i);const s=[],o=Ul.empty();il(i,((e,i)=>{const a=im(t,e,n);i=yt(i);const l=r.Bu(a);if(i instanceof Kp)s.push(a);else{const e=$p(i,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new ul(s);return new Up(o,a,r.fieldTransforms)}function Xp(e,t,n,i,r,s){const o=e.$u(1,t,n),a=[tm(t,i,n)],l=[r];if(s.length%2!=0)throw new fa(da.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(tm(t,s[d])),l.push(s[d+1]);const c=[],u=Ul.empty();for(let d=a.length-1;d>=0;--d)if(!sm(c,a[d])){const e=a[d];let t=l[d];t=yt(t);const n=o.Bu(e);if(t instanceof Kp)c.push(e);else{const i=$p(t,n);null!=i&&(c.push(e),u.set(e,i))}}const h=new ul(c);return new Up(u,h,o.fieldTransforms)}function Qp(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return $p(n,e.$u(i?4:3,t))}function $p(e,t){if(Zp(e=yt(e)))return em("Unsupported field value:",t,e),Jp(e,t);if(e instanceof Rp)return function(e,t){if(!Bp(t.Mu))throw t.qu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=$p(r,t.ku(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=yt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ca.fromDate(e);return{timestampValue:eh(t.serializer,n)}}if(e instanceof Ca){const n=new Ca(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:eh(t.serializer,n)}}if(e instanceof Lp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Mp)return{bytesValue:th(t.serializer,e._byteString)};if(e instanceof Tp){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.qu("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:rh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Fp)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.qu("VectorValues must only contain numeric values.");return Yc(t.serializer,e)}))}}}}}}(e,t);throw t.qu("Unsupported field value: ".concat(xp(e)))}(e,t)}function Jp(e,t){const n={};return rl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):il(e,((e,i)=>{const r=$p(i,t.Ou(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function Zp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ca||e instanceof Lp||e instanceof Mp||e instanceof Tp||e instanceof Rp||e instanceof Fp)}function em(e,t,n){if(!Zp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=xp(n);throw"an object"===i?t.qu(e+" a custom object"):t.qu(e+" "+i)}}function tm(e,t,n){if((t=yt(t))instanceof Op)return t._internalPath;if("string"==typeof t)return im(e,t);throw rm("Field path arguments must be of type string or ",e,!1,void 0,n)}const nm=new RegExp("[~\\*/\\[\\]]");function im(e,t,n){if(t.search(nm)>=0)throw rm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Op(...t.split("."))._internalPath}catch(i){throw rm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rm(e,t,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new fa(da.INVALID_ARGUMENT,a+e+l)}function sm(e,t){return e.some((e=>e.isEqual(t)))}class om{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Tp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new am(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class am extends om{data(){return super.data()}}function lm(e,t){return"string"==typeof t?im(e,t):t instanceof Op?t._internalPath:t._delegate._internalPath}function cm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new fa(da.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class um{}class hm extends um{}function dm(e,t){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];t instanceof um&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof mm)).length,n=e.filter((e=>e instanceof fm)).length;if(t>1||t>0&&n>0)throw new fa(da.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class fm extends hm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new fm(e,t,n)}_apply(e){const t=this._parse(e);return vm(e._query,t),new Ep(e.firestore,e.converter,Ec(e._query,t))}_parse(e){const t=qp(e.firestore),n=function(e,t,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new fa(da.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){ym(o,s);const t=[];for(const n of o)t.push(gm(i,e,n));a={arrayValue:{values:t}}}else a=gm(i,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ym(o,s),a=Qp(n,t,o,"in"===s||"not-in"===s);return Ql.create(r,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function pm(e,t,n){const i=t,r=lm("where",e);return fm._create(r,i,n)}class mm extends um{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$l.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)vm(n,r),n=Ec(n,r)}(e._query,t),new Ep(e.firestore,e.converter,Ec(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function gm(e,t,n){if("string"==typeof(n=yt(n))){if(""===n)throw new fa(da.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wc(t)&&-1!==n.indexOf("/"))throw new fa(da.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(Aa.fromString(n));if(!Da.isDocumentKey(i))throw new fa(da.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return Il(e,new Da(i))}if(n instanceof Tp)return Il(e,n._key);throw new fa(da.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(xp(n),"."))}function ym(e,t){if(!Array.isArray(e)||0===e.length)throw new fa(da.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function vm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new fa(da.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new fa(da.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class bm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ml(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ca()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return il(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertVectorValue(e){var t,n,i;const r=null===(i=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map((e=>ml(e.doubleValue)));return new Fp(r)}convertGeoPoint(e){return new Lp(ml(e.latitude),ml(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const t=pl(e);return new Ca(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Aa.fromString(e);ua(Th(n));const i=new wl(n.get(1),n.get(3)),r=new Da(n.popFirst(5));return i.isEqual(t)||oa("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function xm(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class wm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _m extends om{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Sm extends _m{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class km{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Sm(this._firestore,this._userDataWriter,n.key,n,new wm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new fa(da.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new Sm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new wm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new Sm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Em(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Em(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ca()}}function Tm(e){e=wp(e,Tp);const t=wp(e.firestore,Pp);return fp(Ip(t),e._key).then((n=>Pm(t,e,n)))}class Cm extends bm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tp(this.firestore,null,t)}}function Nm(e){e=wp(e,Ep);const t=wp(e.firestore,Pp),n=Ip(t),i=new Cm(t);return cm(e._query),pp(n,e._query).then((n=>new km(t,i,e,n)))}function jm(e,t){const n=wp(e.firestore,Pp),i=jp(e),r=xm(e.converter,t);return Am(n,[Gp(qp(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,uu.exists(!1))]).then((()=>i))}function Am(e,t){return function(e,t){const n=new pa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=tp(e);try{const e=await function(e,t){const n=ha(e),i=Ca.now(),r=t.reduce(((e,t)=>e.add(t.key)),qc());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Rc(),l=qc();return n.hs.getEntries(e,r).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((r=>{s=r;const o=[];for(const e of t){const t=gu(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new bu(e.key,t,Bl(t.value.mapValue),uu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,o,t)})).next((t=>{o=t;const i=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:Vc(s)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.qa[e.currentUser.toKey()];i||(i=new sl(Ea)),i=i.insert(t,n),e.qa[e.currentUser.toKey()]=i}(i,e.batchId,n),await $f(i,e.changes),await $d(i.remoteStore)}catch(e){const t=df(e,"Failed to persist write");n.reject(t)}}(await hp(e),t,n))),n.promise}(Ip(e),t)}function Pm(e,t,n){const i=n.docs.get(t._key),r=new Cm(e);return new _m(e,r,t._key,i,new wm(n.hasPendingWrites,n.fromCache),t.converter)}class Im{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qp(e)}set(e,t,n){this._verifyNotCommitted();const i=Dm(e,this._firestore),r=xm(i.converter,t,n),s=Gp(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,uu.none())),this}update(e,t,n){this._verifyNotCommitted();const i=Dm(e,this._firestore);let r;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return r="string"==typeof(t=yt(t))||t instanceof Op?Xp(this._dataReader,"WriteBatch.update",i._key,t,n,o):Yp(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,uu.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Dm(e,this._firestore);return this._mutations=this._mutations.concat(new Su(t._key,uu.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fa(da.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dm(e,t){if((e=yt(e)).firestore!==t)throw new fa(da.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){na=e}(Fn),Dn(new vt("firestore",((e,n)=>{let{instanceIdentifier:i,options:r}=n;const s=e.getProvider("app").getImmediate(),o=new Pp(new va(e.getProvider("auth-internal")),new _a(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fa(da.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(e.options.projectId,t)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),Un(ea,"4.7.5",e),Un(ea,"4.7.5","esm2017")}();const Mm=Vn({apiKey:"AIzaSyDGOzYOUhD5g5QT7kwOTdfXmSTYeE1aghg",authDomain:"athena-439002.firebaseapp.com",databaseURL:"https://athena-439002-default-rtdb.firebaseio.com",projectId:"athena-439002",storageBucket:"athena-439002.appspot.com",messagingSenderId:"389834718899",appId:"1:389834718899:web:f785f4f7cf78504cc93ac6",measurementId:"G-SSBTLQRHYD"}),Om=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();const t=Mn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ut(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ki(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Io,persistence:[Us,ks,Ts]}),i=nt("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=(r=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ro)return;const i=null===t||void 0===t?void 0:t.token;Lo!==i&&(Lo=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});!function(e,t,n){yt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,i){yt(e).onIdTokenChanged(t,n,i)}(n,(e=>t(e)))}}var r;const s=Ze("auth");return s&&qr(n,"http://".concat(s)),n}(Mm),Rm=function(e,t){const n="string"==typeof e?e:t||"(default)",i=Mn("object"==typeof e?e:zn(),"firestore").getImmediate({identifier:n});if(!i._initialized){const e=et("firestore");e&&kp(i,...e)}return i}(Mm);gi(Mm);var Lm=n(579);const Fm=(0,t.createContext)();function Vm(e){let{children:n}=e;const[i,r]=(0,t.useState)(null);(0,t.useEffect)((()=>{const e=function(e,t,n,i){return yt(e).onAuthStateChanged(t,n,i)}(Om,(e=>{console.log("Auth",e),r(e)}));return()=>{e()}}),[]);const s={user:i,setUser:r,logIn:function(e,t,n){return function(e,t,n){return On(e.app)?Promise.reject(Ci(e)):vs(yt(e),rs.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&bs(e),t}))}(Om,e,t)},logOut:function(){return function(e){return yt(e).signOut()}(Om).then((()=>{r(null)}))},googleSignIn:function(){const e=new ls;return async function(e,t,n){if(On(e.app))return Promise.reject(Ei(e,"operation-not-supported-in-this-environment"));const i=Dr(e);Ni(e,t,ss);const r=Ks(i,n);return new eo(i,"signInViaPopup",t,r).executeNotNull()}(Om,e)}};return(0,Lm.jsx)(Fm.Provider,{value:s,children:n})}function zm(){return(0,t.useContext)(Fm)}const Um=e=>{let{onClose:n}=e;const[i,r]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),{logIn:h,googleSignIn:d}=zm(),f=Z();return(0,Lm.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,Lm.jsxs)("div",{className:"bg-black p-6 rounded-lg shadow-lg w-96 relative",children:[(0,Lm.jsx)("button",{onClick:n,className:"absolute top-2 right-2 text-gray-400 hover:text-gray-200",children:"\u2715"}),(0,Lm.jsx)("h2",{className:"text-3xl font-bold text-yellow-400 text-center",children:"Welcome to Athena"}),(0,Lm.jsx)("p",{className:"text-center text-gray-300 mt-2",children:"Unlock the wisdom of the gods"}),c&&(0,Lm.jsx)("p",{className:"text-red-500 text-center mt-4",children:c}),(0,Lm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u("");const t=yi(gi(),"loginUser");try{const e=await t({username:a||null,email:i||null,password:s});console.log(e.data.message),"Student"===e.data.role?f("/student-dashboard/home"):"Teacher"===e.data.role&&f("/teacher-dashboard/home"),n&&n()}catch(r){u(r.message)}},className:"mt-6",children:[(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-yellow-400",children:"Username"}),(0,Lm.jsx)("input",{type:"username",id:"username",className:"w-full mt-1 p-2 bg-black text-white rounded-md border border-gray-600 focus:outline-none focus:ring focus:ring-yellow-400",placeholder:"Enter your username",value:a,onChange:e=>l(e.target.value),required:!0})]}),(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-yellow-400",children:"Email Address (optional)"}),(0,Lm.jsx)("input",{type:"email",id:"email",className:"w-full mt-1 p-2 bg-black text-white rounded-md border border-gray-600 focus:outline-none focus:ring focus:ring-yellow-400",placeholder:"Enter your email",value:i,onChange:e=>r(e.target.value)})]}),(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-yellow-400",children:"Password"}),(0,Lm.jsx)("input",{type:"password",id:"password",className:"w-full mt-1 p-2 bg-black text-white rounded-md border border-gray-600 focus:outline-none focus:ring focus:ring-yellow-400",placeholder:"Enter your password",value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,Lm.jsx)("button",{type:"submit",className:"w-full py-2 bg-yellow-400 text-black font-semibold rounded-md hover:bg-yellow-300 focus:outline-none focus:ring focus:ring-yellow-400",children:"Log In"})]}),(0,Lm.jsx)("div",{className:"my-4 text-center text-gray-400",children:"OR"}),(0,Lm.jsx)("button",{onClick:async()=>{try{await d();const e=yi(gi(),"googleLogin"),t=await e();console.log(t.data.message),"Student"===t.data.role?f("/student-dashboard"):"Teacher"===t.data.role&&f("/teacher-dashboard"),n&&n()}catch(c){u(c.message)}},className:"w-full py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-500",children:"Sign in with Google"})]})})},Bm=e=>{let{onClose:n}=e;const[i,r]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),m=Z(),{setUser:g}=zm();return(0,Lm.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,Lm.jsxs)("div",{className:"bg-black p-6 rounded-lg shadow-lg w-96 relative",children:[(0,Lm.jsx)("button",{onClick:n,className:"absolute top-2 right-2 text-white hover:text-gray-200",children:"\u2715"}),(0,Lm.jsx)("h2",{className:"text-3xl font-bold text-yellow-400 text-center",children:"Create Your Account"}),(0,Lm.jsx)("p",{className:"text-center text-gray-300 mt-2",children:"Join the Athena platform today"}),a&&(0,Lm.jsx)("p",{className:"text-red-500 text-center mt-4",children:a}),(0,Lm.jsxs)("form",{onSubmit:async e=>{console.log("Form submitted!"),e.preventDefault(),l("");const t=yi(gi(),"registerStudent");try{console.log("Role being sent:",f);const e=await t({username:s,name:h,email:""===i.trim()?null:i,password:c,role:f});console.log("Response from registration:",e.data),"Student"===f?m("/student-dashboard/home"):"Teacher"===f&&m("/teacher-dashboard/home"),n&&n()}catch(a){console.error("Error from Cloud Function:",a),l(a.message)}},className:"mt-6",children:[(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-yellow-400",children:"Username"}),(0,Lm.jsx)("input",{type:"text",id:"username",className:"w-full mt-1 p-2 bg-black text-white rounded-md border border-gray-600 focus:outline-none focus:ring focus:ring-yellow-400",placeholder:"Create a username",value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("label",{htmlFor:"firstLastName",className:"block text-sm font-medium text-yellow-400",children:"Name"}),(0,Lm.jsx)("input",{type:"text",id:"firstLastName",className:"w-full mt-1 p-2 bg-black text-white rounded-md border border-gray-600 focus:outline-none focus:ring focus:ring-yellow-400",placeholder:"Enter your name",value:h,onChange:e=>d(e.target.value),required:!0})]}),(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-yellow-400",children:"Email Address (Optional for Students)"}),(0,Lm.jsx)("input",{type:"email",id:"email",className:"w-full mt-1 p-2 bg-black text-white rounded-md border border-gray-600 focus:outline-none focus:ring focus:ring-yellow-400",placeholder:"Enter your email",value:i,onChange:e=>r(e.target.value)})]}),(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-yellow-400",children:"Password"}),(0,Lm.jsx)("input",{type:"password",id:"password",className:"w-full mt-1 p-2 bg-black text-white rounded-md border border-gray-600 focus:outline-none focus:ring focus:ring-yellow-400",placeholder:"Enter your password",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium text-yellow-400",children:"Select Your Role"}),(0,Lm.jsxs)("div",{className:"flex space-x-4 mt-2",children:[(0,Lm.jsx)("button",{type:"button",className:"w-full py-2 rounded-md ".concat("Student"===f?"bg-yellow-400 text-black":"bg-black text-white"," border border-gray-600 hover:bg-yellow-300 focus:outline-none focus:ring focus:ring-yellow-400"),onClick:()=>p("Student"),children:"Student"}),(0,Lm.jsx)("button",{type:"button",className:"w-full py-2 rounded-md ".concat("Teacher"===f?"bg-yellow-400 text-black":"bg-black text-white"," border border-gray-600 hover:bg-yellow-300 focus:outline-none focus:ring focus:ring-yellow-400"),onClick:()=>p("Teacher"),children:"Teacher"})]})]}),(0,Lm.jsx)("button",{type:"submit",className:"w-full py-2 bg-yellow-400 text-black font-semibold rounded-md hover:bg-yellow-300 focus:outline-none focus:ring focus:ring-yellow-400",children:"Sign Up"})]})]})})},Hm=()=>{const[e,n]=(0,t.useState)(!1),[i,r]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),a=()=>{r(!0)},l=()=>{o(!0)};return(0,t.useEffect)((()=>{const e=()=>{window.innerWidth>=768&&n(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,Lm.jsxs)("div",{className:"flex justify-between items-center h-20 max-w-[2000px] mx-auto px-6 text-black bg-white shadow-md",children:[(0,Lm.jsxs)("div",{className:"flex items-center",children:[(0,Lm.jsx)("a",{href:"/",children:(0,Lm.jsx)("img",{src:qe,alt:"Athena Logo",className:"items-center h-8 w-auto mr-10"})}),(0,Lm.jsxs)("ul",{className:"hidden md:flex space-x-6 text-gray-600 font-medium",children:[(0,Lm.jsx)("a",{href:"/",children:(0,Lm.jsx)("li",{className:"p-2 hover:text-yellow-500 cursor-pointer transition duration-300",children:"Home"})}),(0,Lm.jsx)("a",{href:"/features",children:(0,Lm.jsx)("li",{className:"p-2 hover:text-yellow-500 cursor-pointer transition duration-300",children:"Features"})}),(0,Lm.jsx)("a",{href:"/resources",children:(0,Lm.jsx)("li",{className:"p-2 hover:text-yellow-500 cursor-pointer transition duration-300",children:"Resources"})}),(0,Lm.jsx)("a",{href:"/pricing",children:(0,Lm.jsx)("li",{className:"p-2 hover:text-yellow-500 cursor-pointer transition duration-300",children:"Pricing"})})]})]}),(0,Lm.jsxs)("div",{className:"hidden md:flex space-x-4",children:[(0,Lm.jsx)("button",{onClick:a,className:"px-4 py-2 border border-yellow-500 text-yellow-500 rounded hover:bg-yellow-500 hover:text-white transition duration-300",children:"Log in"}),(0,Lm.jsx)("button",{onClick:l,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition duration-300",children:"Sign up"})]}),(0,Lm.jsx)("div",{onClick:()=>{n(!e)},className:"block md:hidden",children:e?(0,Lm.jsx)(He,{size:20}):(0,Lm.jsx)(We,{size:20})}),(0,Lm.jsxs)("ul",{className:e?"fixed left-0 top-0 w-[60%] h-full bg-white shadow-lg ease-linear duration-200 z-50":"ease-linear h-full duration-200 z-50 fixed left-[-100%] top-0",children:[(0,Lm.jsxs)("a",{href:"/",children:[(0,Lm.jsx)("img",{src:qe,alt:"Athena Logo",className:"h-8 w-auto mr-4 mt-6 ml-8"}),(0,Lm.jsx)("li",{className:"p-4 mt-6 border-b hover:bg-gray-100",children:"Home"})]}),(0,Lm.jsx)("a",{href:"/features",children:(0,Lm.jsx)("li",{className:"p-4 border-b hover:bg-gray-100",children:"Features"})}),(0,Lm.jsx)("li",{className:"p-4 border-b hover:bg-gray-100",children:"Resources"}),(0,Lm.jsx)("li",{className:"p-4 border-b hover:bg-gray-100",children:"Pricing"}),(0,Lm.jsx)("li",{onClick:a,className:"p-4 border-t hover:bg-gray-100 text-yellow-500 font-semibold cursor-pointer",children:"Log in"}),(0,Lm.jsx)("li",{onClick:l,className:"p-4 hover:bg-gray-100 text-yellow-500 font-semibold cursor-pointer",children:"Sign up"})]}),i&&(0,Lm.jsx)(Um,{onClose:()=>{r(!1)}}),s&&(0,Lm.jsx)(Bm,{onClose:()=>{o(!1)}})]})};function Wm(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const qm=!1,Gm=!1,Km=e=>e;const Ym=["read","resolveKeyframes","update","preRender","render","postRender"];function Xm(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ym.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:function(e){const r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),r.has(e)||r.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{o=e,i?r=!0:(i=!0,[t,n]=[n,t],t.forEach(a),t.clear(),i=!1,r&&(r=!1,l.process(e)))}};return l}(s),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=o,f=()=>{const s=Gm?r.timestamp:performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(s-r.timestamp,40),1),r.timestamp=s,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),h.process(r),d.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(f))},p=Ym.reduce(((t,s)=>{const a=o[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,i=!0,r.isProcessing||e(f)),a.schedule(t,s,o)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<Ym.length;t++)o[Ym[t]].cancel(e)},state:r,steps:o}}const{schedule:Qm,cancel:$m,state:Jm,steps:Zm}=Xm("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Km,!0);let eg;function tg(){eg=void 0}const ng={now:()=>(void 0===eg&&ng.set(Jm.isProcessing||Gm?Jm.timestamp:performance.now()),eg),set:e=>{eg=e,queueMicrotask(tg)}};function ig(e,t){-1===e.indexOf(t)&&e.push(t)}function rg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class sg{constructor(){this.subscriptions=[]}add(e){return ig(this.subscriptions,e),()=>rg(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function og(e,t){return t?e*(1e3/t):0}const ag={current:void 0};class lg{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.18.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=ng.now();t.updatedAt!==i&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=ng.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new sg);const n=this.events[e].add(t);return"change"===e?()=>{n(),Qm.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ag.current&&ag.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ng.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return og(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cg(e,t){return new lg(e,t)}function ug(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}let hg=Km,dg=Km;function fg(e){let t;return()=>(void 0===t&&(t=e()),t)}const pg=fg((()=>void 0!==window.ScrollTimeline));class mg{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>pg()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class gg extends mg{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function yg(e,t){return e?e[t]||e.default||e:void 0}const vg=2e4;function bg(e){let t=0;let n=e.next(t);for(;!n.done&&t<vg;)t+=50,n=e.next(t);return t>=vg?1/0:t}function xg(e){return"function"===typeof e}function wg(e,t){e.timeline=t,e.onfinish=null}const _g=e=>Array.isArray(e)&&"number"===typeof e[0],Sg={linearEasing:void 0};function kg(e,t){const n=fg(e);return()=>{var e;return null!==(e=Sg[t])&&void 0!==e?e:n()}}const Eg=kg((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(vM){return!1}return!0}),"linearEasing"),Tg=(e,t,n)=>{const i=t-e;return 0===i?1:(n-e)/i},Cg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=e(Tg(0,r-1,s))+", ";return"linear(".concat(i.substring(0,i.length-2),")")};function Ng(e){return Boolean("function"===typeof e&&Eg()||!e||"string"===typeof e&&(e in Ag||Eg())||_g(e)||Array.isArray(e)&&e.every(Ng))}const jg=e=>{let[t,n,i,r]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(i,", ").concat(r,")")},Ag={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jg([0,.65,.55,1]),circOut:jg([.55,0,1,.45]),backIn:jg([.31,.01,.66,-.59]),backOut:jg([.33,1.53,.69,.99])};function Pg(e,t){return e?"function"===typeof e&&Eg()?Cg(e,t):_g(e)?jg(e):Array.isArray(e)?e.map((e=>Pg(e,t)||Ag.easeOut)):Ag[e]:void 0}const Ig={x:!1,y:!1};function Dg(){return Ig.x||Ig.y}function Mg(e,t,n){var i;if(e instanceof Element)return[e];if("string"===typeof e){let r=document;t&&(r=t.current);const s=null!==(i=null===n||void 0===n?void 0:n[e])&&void 0!==i?i:r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function Og(e,t){const n=Mg(e),i=new AbortController;return[n,Dt(Dt({passive:!0},t),{},{signal:i.signal}),()=>i.abort()]}function Rg(e){return t=>{"touch"===t.pointerType||Dg()||e(t)}}const Lg=(e,t)=>!!t&&(e===t||Lg(e,t.parentElement)),Fg=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,Vg=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const zg=new WeakSet;function Ug(e){return t=>{"Enter"===t.key&&e(t)}}function Bg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Hg(e){return Fg(e)&&!Dg()}function Wg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,s]=Og(e,n),o=e=>{const i=e.currentTarget;if(!Hg(e)||zg.has(i))return;zg.add(i);const s=t(e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),Hg(e)&&zg.has(i)&&(zg.delete(i),"function"===typeof s&&s(e,{success:t}))},a=e=>{o(e,n.useGlobalTarget||Lg(i,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,r),window.addEventListener("pointercancel",l,r)};return i.forEach((e=>{(function(e){return Vg.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,r),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const i=Ug((()=>{if(zg.has(n))return;Bg(n,"down");const e=Ug((()=>{Bg(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>Bg(n,"cancel")),t)}));n.addEventListener("keydown",i,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",i)),t)})(e,r)),r)})),s}const qg=e=>1e3*e,Gg=e=>e/1e3;function Kg(e,t){let n;const i=()=>{const{currentTime:i}=t,r=(null===i?0:i.value)/100;n!==r&&e(r),n=r};return Qm.update(i,!0),()=>$m(i)}const Yg=new WeakMap;let Xg;function Qg(e){let{target:t,contentRect:n,borderBoxSize:i}=e;var r;null===(r=Yg.get(t))||void 0===r||r.forEach((e=>{e({target:t,contentSize:n,get size(){return function(e,t){if(t){const{inlineSize:e,blockSize:n}=t[0];return{width:e,height:n}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}(t,i)}})}))}function $g(e){e.forEach(Qg)}function Jg(e,t){Xg||"undefined"!==typeof ResizeObserver&&(Xg=new ResizeObserver($g));const n=Mg(e);return n.forEach((e=>{let n=Yg.get(e);n||(n=new Set,Yg.set(e,n)),n.add(t),null===Xg||void 0===Xg||Xg.observe(e)})),()=>{n.forEach((e=>{const n=Yg.get(e);null===n||void 0===n||n.delete(t),(null===n||void 0===n?void 0:n.size)||null===Xg||void 0===Xg||Xg.unobserve(e)}))}}const Zg=new Set;let ey;function ty(e){return Zg.add(e),ey||(ey=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Zg.forEach((e=>e(t)))},window.addEventListener("resize",ey)),()=>{Zg.delete(e),!Zg.size&&ey&&(ey=void 0)}}const ny={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function iy(e,t,n,i){const r=n[t],{length:s,position:o}=ny[t],a=r.current,l=n.time;r.current=e["scroll".concat(o)],r.scrollLength=e["scroll".concat(s)]-e["client".concat(s)],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Tg(0,r.scrollLength,r.current);const c=i-l;r.velocity=c>50?0:og(r.current-a,c)}const ry=(e,t,n)=>n>t?t:n<e?e:n,sy=(e,t,n)=>e+(t-e)*n;function oy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const ay={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ly=Dt(Dt({},ay),{},{transform:e=>ry(0,1,e)}),cy=Dt(Dt({},ay),{},{default:1}),uy=e=>Math.round(1e5*e)/1e5,hy=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const dy=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,fy=(e,t)=>n=>Boolean("string"===typeof n&&dy.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),py=(e,t,n)=>i=>{if("string"!==typeof i)return i;const[r,s,o,a]=i.match(hy);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},my=Dt(Dt({},ay),{},{transform:e=>Math.round((e=>ry(0,255,e))(e))}),gy={test:fy("rgb","red"),parse:py("red","green","blue"),transform:e=>{let{red:t,green:n,blue:i,alpha:r=1}=e;return"rgba("+my.transform(t)+", "+my.transform(n)+", "+my.transform(i)+", "+uy(ly.transform(r))+")"}};const yy={test:fy("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:gy.transform},vy=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),by=vy("deg"),xy=vy("%"),wy=vy("px"),_y=vy("vh"),Sy=vy("vw"),ky=Dt(Dt({},xy),{},{parse:e=>xy.parse(e)/100,transform:e=>xy.transform(100*e)}),Ey={test:fy("hsl","hue"),parse:py("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:i,alpha:r=1}=e;return"hsla("+Math.round(t)+", "+xy.transform(uy(n))+", "+xy.transform(uy(i))+", "+uy(ly.transform(r))+")"}};function Ty(e,t){return n=>n>0?t:e}const Cy=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},Ny=[yy,gy,Ey];function jy(e){const t=(e=>Ny.find((t=>t.test(e))))(e);if(hg(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let n=t.parse(e);return t===Ey&&(n=function(e){let{hue:t,saturation:n,lightness:i,alpha:r}=e;t/=360,n/=100,i/=100;let s=0,o=0,a=0;if(n){const e=i<.5?i*(1+n):i+n-i*n,r=2*i-e;s=oy(r,e,t+1/3),o=oy(r,e,t),a=oy(r,e,t-1/3)}else s=o=a=i;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}(n)),n}const Ay=(e,t)=>{const n=jy(e),i=jy(t);if(!n||!i)return Ty(e,t);const r=Dt({},n);return e=>(r.red=Cy(n.red,i.red,e),r.green=Cy(n.green,i.green,e),r.blue=Cy(n.blue,i.blue,e),r.alpha=sy(n.alpha,i.alpha,e),gy.transform(r))},Py=(e,t)=>n=>t(e(n)),Iy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Py)},Dy={test:e=>gy.test(e)||yy.test(e)||Ey.test(e),parse:e=>gy.test(e)?gy.parse(e):Ey.test(e)?Ey.parse(e):yy.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?gy.transform(e):Ey.transform(e)},My=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Oy="number",Ry="color",Ly=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Fy(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=t.replace(Ly,(e=>(Dy.test(e)?(i.color.push(s),r.push(Ry),n.push(Dy.parse(e))):e.startsWith("var(")?(i.var.push(s),r.push("var"),n.push(e)):(i.number.push(s),r.push(Oy),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:o,indexes:i,types:r}}function Vy(e){return Fy(e).values}function zy(e){const{split:t,types:n}=Fy(e),i=t.length;return e=>{let r="";for(let s=0;s<i;s++)if(r+=t[s],void 0!==e[s]){const t=n[s];r+=t===Oy?uy(e[s]):t===Ry?Dy.transform(e[s]):e[s]}return r}}const Uy=e=>"number"===typeof e?0:e;const By={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(hy))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(My))||void 0===n?void 0:n.length)||0)>0},parse:Vy,createTransformer:zy,getAnimatableNone:function(e){const t=Vy(e);return zy(e)(t.map(Uy))}},Hy=e=>t=>"string"===typeof t&&t.startsWith(e),Wy=Hy("--"),qy=Hy("var(--"),Gy=e=>!!qy(e)&&Ky.test(e.split("/*")[0].trim()),Ky=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Yy=new Set(["none","hidden"]);function Xy(e,t){return n=>sy(e,t,n)}function Qy(e){return"number"===typeof e?Xy:"string"===typeof e?Gy(e)?Ty:Dy.test(e)?Ay:Zy:Array.isArray(e)?$y:"object"===typeof e?Dy.test(e)?Ay:Jy:Ty}function $y(e,t){const n=[...e],i=n.length,r=e.map(((e,n)=>Qy(e)(e,t[n])));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function Jy(e,t){const n=Dt(Dt({},e),t),i={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=Qy(e[r])(e[r],t[r]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const Zy=(e,t)=>{const n=By.createTransformer(t),i=Fy(e),r=Fy(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Yy.has(e)&&!r.values.length||Yy.has(t)&&!i.values.length?function(e,t){return Yy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Iy($y(function(e,t){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][r[o]],l=null!==(n=e.values[a])&&void 0!==n?n:0;i[s]=l,r[o]++}return i}(i,r),r.values),n):(hg(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Ty(e,t))};function ev(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return sy(e,t,n);return Qy(e)(e,t)}function tv(e,t){let{clamp:n=!0,ease:i,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(dg(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const i=[],r=n||ev,s=e.length-1;for(let o=0;o<s;o++){let n=r(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Km:t;n=Iy(e,n)}i.push(n)}return i}(t,i,r),l=a.length,c=n=>{if(o&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);const r=Tg(e[i],e[i+1],n);return a[i](r)};return n?t=>c(ry(e[0],e[s-1],t)):c}function nv(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Tg(0,t,i);e.push(sy(n,1,r))}}(t,e.length-1),t}const iv={start:0,center:.5,end:1};function rv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;if(e in iv&&(e=iv[e]),"string"===typeof e){const t=parseFloat(e);e.endsWith("px")?i=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?i=t/100*document.documentElement.clientWidth:e.endsWith("vh")?i=t/100*document.documentElement.clientHeight:e=t}return"number"===typeof e&&(i=t*e),n+i}const sv=[0,0];function ov(e,t,n,i){let r=Array.isArray(e)?e:sv,s=0,o=0;return"number"===typeof e?r=[e,e]:"string"===typeof e&&(r=(e=e.trim()).includes(" ")?e.split(" "):[e,iv[e]?e:"0"]),s=rv(r[0],n,i),o=rv(r[1],t),s-o}const av={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},lv={x:0,y:0};function cv(e,t,n){const{offset:i=av.All}=n,{target:r=e,axis:s="y"}=n,o="y"===s?"height":"width",a=r!==e?function(e,t){const n={x:0,y:0};let i=e;for(;i&&i!==t;)if(i instanceof HTMLElement)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if("svg"===i.tagName){const e=i.getBoundingClientRect();i=i.parentElement;const t=i.getBoundingClientRect();n.x+=e.left-t.left,n.y+=e.top-t.top}else{if(!(i instanceof SVGGraphicsElement))break;{const{x:e,y:t}=i.getBBox();n.x+=e,n.y+=t;let r=null,s=i.parentNode;for(;!r;)"svg"===s.tagName&&(r=s),s=i.parentNode;i=r}}return n}(r,e):lv,l=r===e?{width:e.scrollWidth,height:e.scrollHeight}:function(e){return"getBBox"in e&&"svg"!==e.tagName?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}(r),c={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let u=!t[s].interpolate;const h=i.length;for(let d=0;d<h;d++){const e=ov(i[d],c[o],l[o],a[s]);u||e===t[s].interpolatorOffsets[d]||(u=!0),t[s].offset[d]=e}u&&(t[s].interpolate=tv(t[s].offset,nv(i),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=ry(0,1,t[s].interpolate(t[s].current))}function uv(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{measure:()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0;if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let i=t;for(;i&&i!==e;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,i.target,n),update:t=>{!function(e,t,n){iy(e,"x",t,n),iy(e,"y",t,n),t.time=n}(e,n,t),(i.offset||i.target)&&cv(e,n,i)},notify:()=>t(n)}}const hv=["container"],dv=new WeakMap,fv=new WeakMap,pv=new WeakMap,mv=e=>e===document.documentElement?window:e;function gv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{container:n=document.documentElement}=t,i=Wm(t,hv),r=pv.get(n);r||(r=new Set,pv.set(n,r));const s=uv(n,e,{time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}},i);if(r.add(s),!dv.has(n)){const e=()=>{for(const e of r)e.measure()},t=()=>{for(const e of r)e.update(Jm.timestamp)},i=()=>{for(const e of r)e.notify()},s=()=>{Qm.read(e,!1,!0),Qm.read(t,!1,!0),Qm.update(i,!1,!0)};dv.set(n,s);const o=mv(n);window.addEventListener("resize",s,{passive:!0}),n!==document.documentElement&&fv.set(n,function(e,t){return"function"===typeof e?ty(e):Jg(e,t)}(n,s)),o.addEventListener("scroll",s,{passive:!0})}const o=dv.get(n);return Qm.read(o,!1,!0),()=>{var e;$m(o);const t=pv.get(n);if(!t)return;if(t.delete(s),t.size)return;const i=dv.get(n);dv.delete(n),i&&(mv(n).removeEventListener("scroll",i),null===(e=fv.get(n))||void 0===e||e(),window.removeEventListener("resize",i))}}const yv=["axis"];const vv=new Map;function bv(){let{source:e,container:t=document.documentElement,axis:n="y"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(t=e),vv.has(t)||vv.set(t,{});const i=vv.get(t);return i[n]||(i[n]=pg()?new ScrollTimeline({source:t,axis:n}):function(e){let{source:t,container:n,axis:i="y"}=e;t&&(n=t);const r={value:0},s=gv((e=>{r.value=100*e[i].progress}),{container:n,axis:i});return{currentTime:r,cancel:s}}({source:t,axis:n})),i[n]}function xv(e){return e&&(e.target||e.offset)}function wv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{axis:n="y"}=t;const i=Dt({axis:n},Wm(t,yv));return"function"===typeof e?function(e,t){return function(e){return 2===e.length}(e)||xv(t)?gv((n=>{e(n[t.axis].progress,n)}),t):Kg(e,bv(t))}(e,i):function(e,t){if(e.flatten(),xv(t))return e.pause(),gv((n=>{e.time=e.duration*n[t.axis].progress}),t);{const n=bv(t);return e.attachTimeline?e.attachTimeline(n,(e=>(e.pause(),Kg((t=>{e.time=e.duration*t}),n)))):Km}}(e,i)}const _v="undefined"!==typeof window,Sv=_v?t.useLayoutEffect:t.useEffect,kv=["container","target","layoutEffect"];function Ev(e,t){hg(Boolean(!t||t.current),"You have defined a ".concat(e," options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its `layoutEffect: false` option."))}const Tv=()=>({scrollX:cg(0),scrollY:cg(0),scrollXProgress:cg(0),scrollYProgress:cg(0)});const Cv=e=>(e=>e&&"object"===typeof e&&e.mix)(e)?e.mix:void 0;const Nv=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jv(e,n){const i=function(e){const n=ug((()=>cg(e))),{isStatic:i}=(0,t.useContext)(Nv);if(i){const[,i]=(0,t.useState)(e);(0,t.useEffect)((()=>n.on("change",i)),[])}return n}(n()),r=()=>i.set(n());return r(),Sv((()=>{const t=()=>Qm.preRender(r,!1,!0),n=e.map((e=>e.on("change",t)));return()=>{n.forEach((e=>e())),$m(r)}})),i}function Av(e,t,n,i){if("function"===typeof e)return function(e){ag.current=[],e();const t=jv(ag.current,e);return ag.current=void 0,t}(e);const r="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],i=2+t<0||arguments.length<=2+t?void 0:arguments[2+t],r=3+t<0||arguments.length<=3+t?void 0:arguments[3+t],s=tv(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],i,Dt({mixer:Cv(i[0])},r));return e?s(n):s}(t,n,i);return Array.isArray(e)?Pv(e,r):Pv([e],(e=>{let[t]=e;return r(t)}))}function Pv(e,t){const n=ug((()=>[]));return jv(e,(()=>{n.length=0;const i=e.length;for(let t=0;t<i;t++)n[t]=e[t].get();return t(n)}))}function Iv(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,i)=>"create"===i?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function Dv(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Mv=e=>Array.isArray(e);function Ov(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Rv(e){return"string"===typeof e||Array.isArray(e)}function Lv(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Fv(e,t,n,i){if("function"===typeof t){const[r,s]=Lv(i);t=t(void 0!==n?n:e.custom,r,s)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[r,s]=Lv(i);t=t(void 0!==n?n:e.custom,r,s)}return t}function Vv(e,t,n){const i=e.getProps();return Fv(i,t,void 0!==n?n:i.custom,e)}const zv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uv=["initial",...zv],Bv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hv=new Set(Bv),Wv=new Set(["width","height","top","left","right","bottom",...Bv]),qv=e=>Mv(e)?e[e.length-1]||0:e,Gv=["transitionEnd","transition"];function Kv(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,cg(n))}const Yv=e=>Boolean(e&&e.getVelocity);function Xv(e,t){const n=e.getValue("willChange");if(i=n,Boolean(Yv(i)&&i.add))return n.add(t);var i}const Qv=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),$v="data-"+Qv("framerAppearId");function Jv(e){return e.props[$v]}const Zv=!1,eb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function tb(e,t,n,i){if(e===t&&n===i)return Km;const r=t=>function(e,t,n,i,r){let s,o,a=0;do{o=t+(n-t)/2,s=eb(o,i,r)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:eb(r(e),t,i)}const nb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ib=e=>t=>1-e(1-t),rb=tb(.33,1.53,.69,.99),sb=ib(rb),ob=nb(sb),ab=e=>(e*=2)<1?.5*sb(e):.5*(2-Math.pow(2,-10*(e-1))),lb=e=>1-Math.sin(Math.acos(e)),cb=ib(lb),ub=nb(lb),hb=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const db=new Set(["brightness","contrast","saturate","opacity"]);function fb(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[i]=n.match(hy)||[];if(!i)return e;const r=n.replace(i,"");let s=db.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const pb=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,mb=Dt(Dt({},By),{},{getAnimatableNone:e=>{const t=e.match(pb);return t?t.map(fb).join(" "):e}}),gb={borderWidth:wy,borderTopWidth:wy,borderRightWidth:wy,borderBottomWidth:wy,borderLeftWidth:wy,borderRadius:wy,radius:wy,borderTopLeftRadius:wy,borderTopRightRadius:wy,borderBottomRightRadius:wy,borderBottomLeftRadius:wy,width:wy,maxWidth:wy,height:wy,maxHeight:wy,top:wy,right:wy,bottom:wy,left:wy,padding:wy,paddingTop:wy,paddingRight:wy,paddingBottom:wy,paddingLeft:wy,margin:wy,marginTop:wy,marginRight:wy,marginBottom:wy,marginLeft:wy,backgroundPositionX:wy,backgroundPositionY:wy},yb={rotate:by,rotateX:by,rotateY:by,rotateZ:by,scale:cy,scaleX:cy,scaleY:cy,scaleZ:cy,skew:by,skewX:by,skewY:by,distance:wy,translateX:wy,translateY:wy,translateZ:wy,x:wy,y:wy,z:wy,perspective:wy,transformPerspective:wy,opacity:ly,originX:ky,originY:ky,originZ:wy},vb=Dt(Dt({},ay),{},{transform:Math.round}),bb=Dt(Dt(Dt({},gb),yb),{},{zIndex:vb,size:wy,fillOpacity:ly,strokeOpacity:ly,numOctaves:vb}),xb=Dt(Dt({},bb),{},{color:Dy,backgroundColor:Dy,outlineColor:Dy,fill:Dy,stroke:Dy,borderColor:Dy,borderTopColor:Dy,borderRightColor:Dy,borderBottomColor:Dy,borderLeftColor:Dy,filter:mb,WebkitFilter:mb}),wb=e=>xb[e];function _b(e,t){let n=wb(e);return n!==mb&&(n=By),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Sb=new Set(["auto","none","0"]);const kb=e=>e===ay||e===wy,Eb=(e,t)=>parseFloat(e.split(", ")[t]),Tb=(e,t)=>(n,i)=>{let{transform:r}=i;if("none"===r||!r)return 0;const s=r.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(s)return Eb(s[1],t);{const t=r.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?Eb(t[1],e):0}},Cb=new Set(["x","y","z"]),Nb=Bv.filter((e=>!Cb.has(e)));const jb={width:(e,t)=>{let{x:n}=e,{paddingLeft:i="0",paddingRight:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},height:(e,t)=>{let{y:n}=e,{paddingTop:i="0",paddingBottom:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:i}=t;return parseFloat(i)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:i}=t;return parseFloat(i)+(n.max-n.min)},x:Tb(4,13),y:Tb(5,14)};jb.translateX=jb.x,jb.translateY=jb.y;const Ab=new Set;let Pb=!1,Ib=!1;function Db(){if(Ib){const e=Array.from(Ab).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Nb.forEach((n=>{const i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,i]=t;var r;null===(r=e.getValue(n))||void 0===r||r.set(i)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Ib=!1,Pb=!1,Ab.forEach((e=>e.complete())),Ab.clear()}function Mb(){Ab.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Ib=!0)}))}class Ob{constructor(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ab.add(this),Pb||(Pb=!0,Qm.read(Mb),Qm.resolveKeyframes(Db))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let r=0;r<e.length;r++)if(null===e[r])if(0===r){const r=null===i||void 0===i?void 0:i.get(),s=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const i=n.readValue(t,s);void 0!==i&&null!==i&&(e[0]=i)}void 0===e[0]&&(e[0]=s),i&&void 0===r&&i.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ab.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ab.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Rb=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Lb=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Fb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;dg(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[i,r]=function(e){const t=Lb.exec(e);if(!t)return[,];const[,n,i,r]=t;return["--".concat(null!==n&&void 0!==n?n:i),r]}(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const e=s.trim();return Rb(e)?parseFloat(e):e}return Gy(r)?Fb(r,t,n+1):r}const Vb=e=>t=>t.test(e),zb=[ay,wy,xy,by,Sy,_y,{test:e=>"auto"===e,parse:e=>e}],Ub=e=>zb.find(Vb(e));class Bb extends Ob{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Gy(n))){const i=Fb(n,t.current);void 0!==i&&(e[a]=i),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Wv.has(n)||2!==e.length)return;const[i,r]=e,s=Ub(i),o=Ub(r);if(s!==o)if(kb(s)&&kb(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)("number"===typeof(i=e[r])?0===i:null===i||"none"===i||"0"===i||hb(i))&&n.push(r);var i;n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){const t=e[r];"string"===typeof t&&!Sb.has(t)&&Fy(t).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=_b(n,i)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jb[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=jb[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,i]=e;t.getValue(n).set(i)})),this.resolveNoneKeyframes()}}const Hb=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!By.test(e)&&"0"!==e||e.startsWith("url(")));function Wb(e,t,n,i){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=Hb(r,t),a=Hb(s,t);return hg(o===a,"You are trying to animate ".concat(t,' from "').concat(r,'" to "').concat(s,'". ').concat(r," is not an animatable value - to enable this animation set ").concat(r," to a value animatable to ").concat(s," via the `style` property.")),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||xg(n))&&i)}const qb=e=>null!==e;function Gb(e,t,n){let{repeat:i,repeatType:r="loop"}=t;const s=e.filter(qb),o=i&&"loop"!==r&&i%2===1?0:s.length-1;return o&&void 0!==n?n:s[o]}const Kb=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class Yb{constructor(e){let{autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop"}=e,a=Wm(e,Kb);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ng.now(),this.options=Dt({autoplay:t,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o},a),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Mb(),Db()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ng.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:r,delay:s,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!Wb(e,n,i,r)){if(Zv||!s)return null===a||void 0===a||a(Gb(e,this.options,t)),null===o||void 0===o||o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved=Dt({keyframes:e,finalKeyframe:t},c),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function Xb(e,t,n){const i=Math.max(t-5,0);return og(n-e(i),t-i)}const Qb={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$b=.001;function Jb(e){let t,n,{duration:i=Qb.duration,bounce:r=Qb.bounce,velocity:s=Qb.velocity,mass:o=Qb.mass}=e;hg(i<=qg(Qb.maxDuration),"Spring duration must be 10 seconds or less");let a=1-r;a=ry(Qb.minDamping,Qb.maxDamping,a),i=ry(Qb.minDuration,Qb.maxDuration,Gg(i)),a<1?(t=e=>{const t=e*a,n=t*i,r=t-s,o=ex(e,a),l=Math.exp(-n);return $b-r/o*l},n=e=>{const n=e*a*i,r=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*i,l=Math.exp(-n),c=ex(Math.pow(e,2),a);return(-t(e)+$b>0?-1:1)*((r-o)*l)/c}):(t=e=>Math.exp(-e*i)*((e-s)*i+1)-.001,n=e=>Math.exp(-e*i)*(i*i*(s-e)));const l=function(e,t,n){let i=n;for(let r=1;r<Zb;r++)i-=e(i)/t(i);return i}(t,n,5/i);if(i=qg(i),isNaN(l))return{stiffness:Qb.stiffness,damping:Qb.damping,duration:i};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:i}}}const Zb=12;function ex(e,t){return e*Math.sqrt(1-t*t)}const tx=["duration","bounce"],nx=["stiffness","damping","mass"];function ix(e,t){return t.some((t=>void 0!==e[t]))}function rx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qb.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qb.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t=Dt({velocity:Qb.velocity,stiffness:Qb.stiffness,damping:Qb.damping,mass:Qb.mass,isResolvedFromDuration:!1},e);if(!ix(e,nx)&&ix(e,tx))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),r=i*i,s=2*ry(.05,1,1-(e.bounce||0))*Math.sqrt(r);t=Dt(Dt({},t),{},{mass:Qb.mass,stiffness:r,damping:s})}else{const n=Jb(e);t=Dt(Dt(Dt({},t),n),{},{mass:Qb.mass}),t.isResolvedFromDuration=!0}return t}(Dt(Dt({},n),{},{velocity:-Gg(n.velocity||0)})),p=d||0,m=c/(2*Math.sqrt(l*u)),g=o-s,y=Gg(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(i||(i=v?Qb.restSpeed.granular:Qb.restSpeed.default),r||(r=v?Qb.restDelta.granular:Qb.restDelta.default),m<1){const e=ex(y,m);b=t=>{const n=Math.exp(-m*y*t);return o-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>o-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),i=Math.min(e*t,300);return o-n*((p+m*y*g)*Math.sinh(i)+e*g*Math.cosh(i))/e}}const x={calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)a.done=e>=h;else{let n=0;m<1&&(n=0===e?qg(p):Xb(b,e,t));const s=Math.abs(n)<=i,l=Math.abs(o-t)<=r;a.done=s&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(bg(x),vg),t=Cg((t=>x.next(e*t).value),e,30);return e+"ms "+t}};return x}function sx(e){let{keyframes:t,velocity:n=0,power:i=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=i*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/r),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,_;const S=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(w=e,_=rx({keyframes:[f.value,p(f.value)],velocity:Xb(b,e,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:h}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?_.next(e-w):(!t&&x(e),f)}}}const ox=tb(.42,0,1,1),ax=tb(0,0,.58,1),lx=tb(.42,0,.58,1),cx={linear:Km,easeIn:ox,easeInOut:lx,easeOut:ax,circIn:lb,circInOut:ub,circOut:cb,backIn:sb,backInOut:ob,backOut:rb,anticipate:ab},ux=e=>{if(_g(e)){dg(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,i,r]=e;return tb(t,n,i,r)}return"string"===typeof e?(dg(void 0!==cx[e],"Invalid easing type '".concat(e,"'")),cx[e]):e};function hx(e){let{duration:t=300,keyframes:n,times:i,ease:r="easeInOut"}=e;const s=(e=>Array.isArray(e)&&"number"!==typeof e[0])(r)?r.map(ux):ux(r),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(i&&i.length===n.length?i:nv(n),t),l=tv(a,n,{ease:Array.isArray(s)?s:(c=n,u=s,c.map((()=>u||lx)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const dx=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Qm.update(t,!0),stop:()=>$m(t),now:()=>Jm.isProcessing?Jm.timestamp:ng.now()}},fx={decay:sx,inertia:sx,tween:hx,keyframes:hx,spring:rx},px=e=>e/100;class mx extends Yb{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:i,keyframes:r}=this.options,s=(null===i||void 0===i?void 0:i.KeyframeResolver)||Ob;this.resolver=new s(r,((e,t)=>this.onKeyframesResolved(e,t)),t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:s=0}=this.options,o=xg(t)?t:fx[t]||hx;let a,l;o!==hx&&"number"!==typeof e[0]&&(a=Iy(px,ev(e[0],e[1])),e=[0,100]);const c=o(Dt(Dt({},this.options),{},{keyframes:e}));"mirror"===r&&(l=o(Dt(Dt({},this.options),{},{keyframes:[...e].reverse(),velocity:-s}))),null===c.calculatedDuration&&(c.calculatedDuration=bg(c));const{calculatedDuration:u}=c,h=u+i;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-i}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:i,generator:r,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return r.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=r;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=s)),v=ry(0,1,n)*u}const x=y?{done:!1,value:a[0]}:b.next(v);o&&(x.value=o(x.value));let{done:w}=x;y||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return _&&void 0!==i&&(x.value=Gb(a,this.options,i)),m&&m(x.value),_&&this.finish(),x}get duration(){const{resolved:e}=this;return e?Gg(e.calculatedDuration):0}get time(){return Gg(this.currentTime)}set time(e){e=qg(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Gg(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=dx,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const i=this.driver.now();null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=i):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const gx=new Set(["opacity","clipPath","filter","transform"]);const yx=fg((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),vx=["onComplete","onUpdate","motionValue","element"],bx=["motionValue","onUpdate","onComplete","element"];const xx={anticipate:ab,backInOut:ob,circInOut:ub};class wx extends Yb{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:r}=this.options;this.resolver=new Bb(r,((e,t)=>this.onKeyframesResolved(e,t)),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!(null===(n=a.owner)||void 0===n?void 0:n.current))return!1;var u;if("string"===typeof s&&Eg()&&s in xx&&(s=xx[s]),xg((u=this.options).type)||"spring"===u.type||!Ng(u.ease)){const t=this.options,{onComplete:n,onUpdate:a,motionValue:l,element:c}=t,u=Wm(t,vx),h=function(e,t){const n=new mx(Dt(Dt({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let i={done:!1,value:e[0]};const r=[];let s=0;for(;!i.done&&s<2e4;)i=n.sample(s),r.push(i.value),s+=10;return{times:void 0,keyframes:r,duration:s-10,ease:"linear"}}(e,u);1===(e=h.keyframes).length&&(e[1]=e[0]),i=h.duration,r=h.times,s=h.ease,o="keyframes"}const h=function(e,t,n){let{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=Pg(a,r);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(a.owner.current,l,e,Dt(Dt({},this.options),{},{duration:i,times:r,ease:s}));return h.startTime=null!==c&&void 0!==c?c:this.calcStartTime(),this.pendingTimeline?(wg(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:n}=this.options;a.set(Gb(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Gg(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Gg(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=qg(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Km;const{animation:n}=t;wg(n,e)}else this.pendingTimeline=e;return Km}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:r,ease:s,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:a,onComplete:l,element:c}=e,u=Wm(e,bx),h=new mx(Dt(Dt({},u),{},{keyframes:n,duration:i,type:r,ease:s,times:o,isGenerator:!0})),d=qg(this.time);t.setWithVelocity(h.sample(d-10).value,h.sample(d).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=e;return yx()&&n&&gx.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!i&&"mirror"!==r&&0!==s&&"inertia"!==o}}const _x={type:"spring",stiffness:500,damping:25,restSpeed:10},Sx={type:"keyframes",duration:.8},kx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ex=(e,t)=>{let{keyframes:n}=t;return n.length>2?Sx:Hv.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:_x:kx},Tx=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Cx=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return o=>{const a=yg(i,e)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c-=qg(l);let u=Dt(Dt({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{},{delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:r});(function(e){let{when:t,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u}=e,h=Wm(e,Tx);return!!Object.keys(h).length})(a)||(u=Dt(Dt({},u),Ex(e,u))),u.duration&&(u.duration=qg(u.duration)),u.repeatDelay&&(u.repeatDelay=qg(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),(Zv||qm)&&(h=!0,u.duration=0,u.delay=0),h&&!s&&void 0!==t.get()){const e=Gb(u.keyframes,a);if(void 0!==e)return Qm.update((()=>{u.onUpdate(e),u.onComplete()})),new gg([])}return!s&&wx.supports(u)?new wx(u):new mx(u)}},Nx=["transition","transitionEnd"];function jx(e,t){let{protectedKeys:n,needsAnimating:i}=e;const r=n.hasOwnProperty(t)&&!0!==i[t];return i[t]=!1,r}function Ax(e,t){let{delay:n=0,transitionOverride:i,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a}=t,l=Wm(t,Nx);i&&(o=i);const c=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const h in l){const t=e.getValue(h,null!==(s=e.latestValues[h])&&void 0!==s?s:null),i=l[h];if(void 0===i||u&&jx(u,h))continue;const r=Dt({delay:n},yg(o||{},h));let a=!1;if(window.MotionHandoffAnimation){const t=Jv(e);if(t){const e=window.MotionHandoffAnimation(t,h,Qm);null!==e&&(r.startTime=e,a=!0)}}Xv(e,h),t.start(Cx(h,t,i,e.shouldReduceMotion&&Wv.has(h)?{type:!1}:r,e,a));const d=t.animation;d&&c.push(d)}return a&&Promise.all(c).then((()=>{Qm.update((()=>{a&&function(e,t){let n=Vv(e,t)||{},{transitionEnd:i={},transition:r={}}=n,s=Wm(n,Gv);s=Dt(Dt({},s),i);for(const o in s)Kv(e,o,qv(s[o]))}(e,a)}))})),c}function Px(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;const r=Vv(e,t,"exit"===n.type?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(Ax(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:r=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*i,l=1===r?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i};return Array.from(e.variantChildren).sort(Ix).forEach(((e,i)=>{e.notify("AnimationStart",t),o.push(Px(e,t,Dt(Dt({},s),{},{delay:n+l(i)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,r+i,o,a,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function Ix(e,t){return e.sortNodePosition(t)}const Dx=Uv.length;function Mx(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Mx(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Dx;n++){const i=Uv[n],r=e.props[i];(Rv(r)||!1===r)&&(t[i]=r)}return t}const Ox=["transition","transitionEnd"],Rx=[...zv].reverse(),Lx=zv.length;function Fx(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:i}=t;return function(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map((t=>Px(e,t,i)));n=Promise.all(r)}else if("string"===typeof t)n=Px(e,t,i);else{const r="function"===typeof t?Vv(e,t,i.custom):t;n=Promise.all(Ax(e,r,i))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,i)})))}function Vx(e){let t=Fx(e),n=Bx(),i=!0;const r=t=>(n,i)=>{var r;const s=Vv(e,i,"exit"===t?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,i=Wm(s,Ox);n=Dt(Dt(Dt({},n),i),t)}return n};function s(s){const{props:o}=e,a=Mx(e.parent)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<Lx;t++){const d=Rx[t],f=n[d],p=void 0!==o[d]?o[d]:a[d],m=Rv(p),g=d===s?f.isActive:null;!1===g&&(h=t);let y=p===a[d]&&p!==o[d]&&m;if(y&&i&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=Dt({},u),!f.isActive&&null===g||!p&&!f.prevProp||Dv(p)||"boolean"===typeof p)continue;const v=zx(f.prevProp,p);let b=v||d===s&&f.isActive&&!y&&m||t>h&&m,x=!1;const w=Array.isArray(p)?p:[p];let _=w.reduce(r(d),{});!1===g&&(_={});const{prevResolvedValues:S={}}=f,k=Dt(Dt({},S),_),E=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=_[e],n=S[e];if(u.hasOwnProperty(e))continue;let i=!1;i=Mv(t)&&Mv(n)?!Ov(t,n):t!==n,i?void 0!==t&&null!==t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=_,f.isActive&&(u=Dt(Dt({},u),_)),i&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&l.push(...w.map((e=>({animation:e,options:{type:d}}))))}if(c.size){const t={};c.forEach((n=>{const i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=null!==i&&void 0!==i?i:null})),l.push({animation:t})}let d=Boolean(l.length);return!i||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(d=!1),i=!1,d?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null===(r=e.variantChildren)||void 0===r||r.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,i)})),n[t].isActive=i;const o=s(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Bx(),i=!0}}}function zx(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Ov(t,e)}function Ux(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bx(){return{animate:Ux(!0),whileInView:Ux(),whileHover:Ux(),whileTap:Ux(),whileDrag:Ux(),whileFocus:Ux(),exit:Ux()}}class Hx{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Wx=0;const qx={animation:{Feature:class extends Hx{constructor(e){super(e),e.animationState||(e.animationState=Vx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Hx{constructor(){super(...arguments),this.id=Wx++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function Gx(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Kx(e){return{point:{x:e.pageX,y:e.pageY}}}function Yx(e,t,n,i){return Gx(e,t,(e=>t=>Fg(t)&&e(t,Kx(t)))(n),i)}const Xx=(e,t)=>Math.abs(e-t);class Qx{constructor(e,t){let{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Zx(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Xx(e.x,t.x),i=Xx(e.y,t.y);return Math.sqrt(n**2+i**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:i}=e,{timestamp:r}=Jm;this.history.push(Dt(Dt({},i),{},{timestamp:r}));const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=$x(t,this.transformPagePoint),Qm.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Zx("pointercancel"===e.type?this.lastMoveEventInfo:$x(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),i&&i(e,s)},!Fg(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const s=$x(Kx(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=Jm;this.history=[Dt(Dt({},o),{},{timestamp:a})];const{onSessionStart:l}=t;l&&l(e,Zx(s,this.history)),this.removeListeners=Iy(Yx(this.contextWindow,"pointermove",this.handlePointerMove),Yx(this.contextWindow,"pointerup",this.handlePointerUp),Yx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$m(this.updatePoint)}}function $x(e,t){return t?{point:t(e.point)}:e}function Jx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zx(e,t){let{point:n}=e;return{point:n,delta:Jx(n,tw(t)),offset:Jx(n,ew(t)),velocity:nw(t,.1)}}function ew(e){return e[0]}function tw(e){return e[e.length-1]}function nw(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=tw(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>qg(t)));)n--;if(!i)return{x:0,y:0};const s=Gg(r.timestamp-i.timestamp);if(0===s)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function iw(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function rw(e){return e.max-e.min}function sw(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=i,e.originPoint=sy(t.min,t.max,e.origin),e.scale=rw(n)/rw(t),e.translate=sy(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function ow(e,t,n,i){sw(e.x,t.x,n.x,i?i.originX:void 0),sw(e.y,t.y,n.y,i?i.originY:void 0)}function aw(e,t,n){e.min=n.min+t.min,e.max=e.min+rw(t)}function lw(e,t,n){e.min=t.min-n.min,e.max=e.min+rw(t)}function cw(e,t,n){lw(e.x,t.x,n.x),lw(e.y,t.y,n.y)}function uw(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function hw(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}const dw=.35;function fw(e,t,n){return{min:pw(e,t),max:pw(e,n)}}function pw(e,t){return"number"===typeof e?e:e[t]||0}const mw=()=>({x:{min:0,max:0},y:{min:0,max:0}});function gw(e){return[e("x"),e("y")]}function yw(e){let{top:t,left:n,right:i,bottom:r}=e;return{x:{min:n,max:i},y:{min:t,max:r}}}function vw(e){return void 0===e||1===e}function bw(e){let{scale:t,scaleX:n,scaleY:i}=e;return!vw(t)||!vw(n)||!vw(i)}function xw(e){return bw(e)||ww(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ww(e){return _w(e.x)||_w(e.y)}function _w(e){return e&&"0%"!==e}function Sw(e,t,n){return n+t*(e-n)}function kw(e,t,n,i,r){return void 0!==r&&(e=Sw(e,r,i)),Sw(e,n,i)+t}function Ew(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.min=kw(e.min,t,n,i,r),e.max=kw(e.max,t,n,i,r)}function Tw(e,t){let{x:n,y:i}=t;Ew(e.x,n.translate,n.scale,n.originPoint),Ew(e.y,i.translate,i.scale,i.originPoint)}const Cw=.999999999999,Nw=1.0000000000001;function jw(e,t){e.min=e.min+t,e.max=e.max+t}function Aw(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Ew(e,t,n,sy(e.min,e.max,r),i)}function Pw(e,t){Aw(e.x,t.x,t.scaleX,t.scale,t.originX),Aw(e.y,t.y,t.scaleY,t.scale,t.originY)}function Iw(e,t){return yw(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}const Dw=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Mw=new WeakMap;class Ow{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new Qx(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Kx(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?Ig[s]?null:(Ig[s]=!0,()=>{Ig[s]=!1}):Ig.x||Ig.y?null:(Ig.x=Ig.y=!0,()=>{Ig.x=Ig.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gw((e=>{let t=this.getAxisMotionValue(e).get()||0;if(xy.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[e];if(i){t=rw(i)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),r&&Qm.postRender((()=>r(e,t))),Xv(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(i&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>gw((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,contextWindow:Dw(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&Qm.postRender((()=>r(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Rw(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:i,max:r}=t;return void 0!==i&&e<i?e=n?sy(i,e,n.min):Math.max(e,i):void 0!==r&&e>r&&(e=n?sy(r,e,n.max):Math.min(e,r)),e}(s,this.constraints[e],this.elastic[e])),r.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,r=this.constraints;t&&iw(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!i)&&function(e,t){let{top:n,left:i,bottom:r,right:s}=t;return{x:uw(e.x,i,s),y:uw(e.y,n,r)}}(i.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dw;return!1===e?e=0:!0===e&&(e=dw),{x:fw(e,"left","right"),y:fw(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gw((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!iw(e))return!1;const n=e.current;dg(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(e,t,n){const i=Iw(e,n),{scroll:r}=t;return r&&(jw(i.x,r.offset.x),jw(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:hw(e.x,t.x),y:hw(e.y,t.y)}}(i.layout.layoutBox,r);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=yw(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=gw((o=>{if(!Rw(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=i?200:1e6,u=i?40:1e7,h=Dt(Dt({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},r),l);return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Xv(this.visualElement,e),n.start(Cx(e,n,0,t,this.visualElement,!1))}stopAnimation(){gw((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){gw((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){gw((t=>{const{drag:n}=this.getProps();if(!Rw(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:n,max:s}=i.layout.layoutBox[t];r.set(e[t]-sy(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!iw(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gw((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();i[e]=function(e,t){let n=.5;const i=rw(e),r=rw(t);return r>i?n=Tg(t.min,t.max-i,e.min):i>r&&(n=Tg(e.min,e.max-r,t.min)),ry(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gw((t=>{if(!Rw(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];n.set(sy(r,s,i[t]))}))}addListeners(){if(!this.visualElement.current)return;Mw.set(this.visualElement,this);const e=Yx(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();iw(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Qm.read(t);const r=Gx(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(gw((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{r(),e(),i(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=dw,dragMomentum:o=!0}=e;return Dt(Dt({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:o})}}function Rw(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Lw=e=>(t,n)=>{e&&Qm.postRender((()=>e(t,n)))};const Fw=(0,t.createContext)(null);function Vw(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(Fw);if(null===n)return[!0,null];const{isPresent:i,onExitComplete:r,register:s}=n,o=(0,t.useId)();(0,t.useEffect)((()=>{e&&s(o)}),[e]);const a=(0,t.useCallback)((()=>e&&r&&r(o)),[o,r,e]);return!i&&r?[!1,a]:[!0]}const zw=(0,t.createContext)({}),Uw=(0,t.createContext)({}),Bw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ww={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!wy.test(e))return e;e=parseFloat(e)}const n=Hw(e,t.target.x),i=Hw(e,t.target.y);return"".concat(n,"% ").concat(i,"%")}},qw={correct:(e,t)=>{let{treeScale:n,projectionDelta:i}=t;const r=e,s=By.parse(e);if(s.length>5)return r;const o=By.createTransformer(e),a="number"!==typeof s[0]?1:0,l=i.x.scale*n.x,c=i.y.scale*n.y;s[0+a]/=l,s[1+a]/=c;const u=sy(l,c,.5);return"number"===typeof s[2+a]&&(s[2+a]/=u),"number"===typeof s[3+a]&&(s[3+a]/=u),o(s)}},Gw={};const{schedule:Kw,cancel:Yw}=Xm(queueMicrotask,!1);class Xw extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;var s;s=$w,Object.assign(Gw,s),r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",(()=>{this.safeToRemove()})),r.setOptions(Dt(Dt({},r.options),{},{onExitComplete:()=>this.safeToRemove()}))),Bw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,s=n.projection;return s?(s.isPresent=r,i||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?s.promote():s.relegate()||Qm.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Kw.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qw(e){const[n,i]=Vw(),r=(0,t.useContext)(zw);return(0,Lm.jsx)(Xw,Dt(Dt({},e),{},{layoutGroup:r,switchLayoutGroup:(0,t.useContext)(Uw),isPresent:n,safeToRemove:i}))}const $w={borderRadius:Dt(Dt({},Ww),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ww,borderTopRightRadius:Ww,borderBottomLeftRadius:Ww,borderBottomRightRadius:Ww,boxShadow:qw};const Jw=(e,t)=>e.depth-t.depth;class Zw{constructor(){this.children=[],this.isDirty=!1}add(e){ig(this.children,e),this.isDirty=!0}remove(e){rg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Jw),this.isDirty=!1,this.children.forEach(e)}}function e_(e,t){const n=ng.now(),i=r=>{let{timestamp:s}=r;const o=s-n;o>=t&&($m(i),e(o-t))};return Qm.read(i,!0),()=>$m(i)}function t_(e){const t=Yv(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const n_=["TopLeft","TopRight","BottomLeft","BottomRight"],i_=n_.length,r_=e=>"string"===typeof e?parseFloat(e):e,s_=e=>"number"===typeof e||wy.test(e);function o_(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const a_=c_(0,.5,cb),l_=c_(.5,.95,Km);function c_(e,t,n){return i=>i<e?0:i>t?1:n(Tg(e,t,i))}function u_(e,t){e.min=t.min,e.max=t.max}function h_(e,t){u_(e.x,t.x),u_(e.y,t.y)}function d_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function f_(e,t,n,i,r){return e=Sw(e-=t,1/n,i),void 0!==r&&(e=Sw(e,1/r,i)),e}function p_(e,t,n,i,r){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;xy.test(t)&&(t=parseFloat(t),t=sy(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=sy(s.min,s.max,i);e===s&&(a-=t),e.min=f_(e.min,t,n,a,r),e.max=f_(e.max,t,n,a,r)}(e,t[s],t[o],t[a],t.scale,i,r)}const m_=["x","scaleX","originX"],g_=["y","scaleY","originY"];function y_(e,t,n,i){p_(e.x,t,m_,n?n.x:void 0,i?i.x:void 0),p_(e.y,t,g_,n?n.y:void 0,i?i.y:void 0)}function v_(e){return 0===e.translate&&1===e.scale}function b_(e){return v_(e.x)&&v_(e.y)}function x_(e,t){return e.min===t.min&&e.max===t.max}function w_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function __(e,t){return w_(e.x,t.x)&&w_(e.y,t.y)}function S_(e){return rw(e.x)/rw(e.y)}function k_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class E_{constructor(){this.members=[]}add(e){ig(this.members,e),e.scheduleRender()}remove(e){if(rg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let i=t;i>=0;i--){const e=this.members[i];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const T_={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},C_="undefined"!==typeof window&&void 0!==window.MotionDebug,N_=["","X","Y","Z"],j_={visibility:"hidden"};let A_=0;function P_(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function I_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Jv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Qm,!(t||i))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&I_(i)}function D_(e){let{attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=A_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,C_&&(T_.totalNodes=T_.resolvedTargetDeltas=T_.recalculatedProjection=0),this.nodes.forEach(R_),this.nodes.forEach(H_),this.nodes.forEach(W_),this.nodes.forEach(L_),C_&&window.MotionDebug.record(T_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zw)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new sg),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t&&t.notify(...i)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var i;this.isSVG=(i=e)instanceof SVGElement&&"svg"!==i.tagName,this.instance=e;const{layoutId:r,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||r)&&(this.isLayoutDirty=!0),t){let n;const i=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=e_(i,250),Bw.hasAnimatedSinceResize&&(Bw.hasAnimatedSinceResize=!1,this.nodes.forEach(B_))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:i,layout:r}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||Q_,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!__(this.targetLayout,r)||i,u=!n&&i;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=Dt(Dt({},yg(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||B_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$m(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q_),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(V_);this.isUpdating||this.nodes.forEach(z_),this.isUpdating=!1,this.nodes.forEach(U_),this.nodes.forEach(M_),this.nodes.forEach(O_),this.clearAllSnapshots();const e=ng.now();Jm.delta=ry(0,1e3/60,e-Jm.timestamp),Jm.timestamp=e,Jm.isProcessing=!0,Zm.update.process(Jm),Zm.preRender.process(Jm),Zm.render.process(Jm),Jm.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(F_),this.sharedNodes.forEach(G_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qm.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qm.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!b_(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;e&&(t||xw(this.latestValues)||r)&&(s(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var i;return e&&(n=this.removeTransform(n)),Z_((i=n).x),Z_(i.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(tS))){const{scroll:e}=this.root;e&&(jw(n.x,e.offset.x),jw(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(h_(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let i=0;i<this.path.length;i++){const t=this.path[i],{scroll:r,options:s}=t;t!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&h_(n,e),jw(n.x,r.offset.x),jw(n.y,r.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};h_(n,e);for(let i=0;i<this.path.length;i++){const e=this.path[i];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Pw(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),xw(e.latestValues)&&Pw(n,e.latestValues)}return xw(this.latestValues)&&Pw(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};h_(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!xw(e.latestValues))continue;bw(e.latestValues)&&e.updateSnapshot();const i={x:{min:0,max:0},y:{min:0,max:0}};h_(i,e.measurePageBox()),y_(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,i)}return xw(this.latestValues)&&y_(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Dt(Dt(Dt({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jm.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=Jm.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},cw(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),h_(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,aw(o.x,a.x,l.x),aw(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):h_(this.target,this.layout.layoutBox),Tw(this.target,this.targetDelta)):h_(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},cw(this.relativeTargetOrigin,this.target,e.target),h_(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}C_&&T_.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!bw(this.parent.latestValues)&&!ww(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let i=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===Jm.timestamp&&(i=!1),i)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;h_(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=n.length;if(!r)return;let s,o;t.x=t.y=1;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:r}=s.options;r&&r.props.style&&"contents"===r.props.style.display||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Pw(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Tw(e,o)),i&&xw(s.latestValues)&&Pw(e,s.latestValues))}t.x<Nw&&t.x>Cw&&(t.x=1),t.y<Nw&&t.y>Cw&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(d_(this.prevProjectionDelta.x,this.projectionDelta.x),d_(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ow(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&k_(this.projectionDelta.x,this.prevProjectionDelta.x)&&k_(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),C_&&T_.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,i=n?n.latestValues:{},r=Dt({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(X_));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;K_(s.x,e.x,n),K_(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cw(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,i){Y_(e.x,t.x,n.x,i),Y_(e.y,t.y,n.y,i)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return x_(e.x,t.x)&&x_(e.y,t.y)}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),h_(h,this.relativeTarget)),a&&(this.animationValues=r,function(e,t,n,i,r,s){r?(e.opacity=sy(0,void 0!==n.opacity?n.opacity:1,a_(i)),e.opacityExit=sy(void 0!==t.opacity?t.opacity:1,0,l_(i))):s&&(e.opacity=sy(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,i));for(let o=0;o<i_;o++){const r="border".concat(n_[o],"Radius");let s=o_(t,r),a=o_(n,r);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||s_(s)===s_(a)?(e[r]=Math.max(sy(r_(s),r_(a),i),0),(xy.test(a)||xy.test(s))&&(e[r]+="%")):e[r]=a)}(t.rotate||n.rotate)&&(e.rotate=sy(t.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($m(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qm.update((()=>{Bw.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const i=Yv(e)?e:cg(e);return i.start(Cx("",i,t,n)),i.animation}(0,1e3,Dt(Dt({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&eS(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=rw(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const i=rw(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}h_(t,n),Pw(t,r),ow(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new E_);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const i={};n.z&&P_("z",e,i,this.animationValues);for(let r=0;r<N_.length;r++)P_("rotate".concat(N_[r]),e,i,this.animationValues),P_("skew".concat(N_[r]),e,i,this.animationValues);e.render();for(const r in i)e.setStaticValue(r,i[r]),this.animationValues&&(this.animationValues[r]=i[r]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return j_;const i={visibility:""},r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=t_(null===e||void 0===e?void 0:e.pointerEvents)||"",i.transform=r?r(this.latestValues,""):"none",i;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=t_(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!xw(this.latestValues)&&(t.transform=r?r({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),i.transform=function(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((r||s||o)&&(i="translate3d(".concat(r,"px, ").concat(s,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(i+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:s,skewX:o,skewY:a}=n;e&&(i="perspective(".concat(e,"px) ").concat(i)),t&&(i+="rotate(".concat(t,"deg) ")),r&&(i+="rotateX(".concat(r,"deg) ")),s&&(i+="rotateY(".concat(s,"deg) ")),o&&(i+="skewX(".concat(o,"deg) ")),a&&(i+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(i+="scale(".concat(a,", ").concat(l,")")),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),r&&(i.transform=r(o,i.transform));const{x:a,y:l}=this.projectionDelta;i.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?i.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:i.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in Gw){if(void 0===o[c])continue;const{correct:e,applyTo:t}=Gw[c],n="none"===i.transform?o[c]:e(o[c],s);if(t){const e=t.length;for(let r=0;r<e;r++)i[t[r]]=n}else i[c]=n}return this.options.layoutId&&(i.pointerEvents=s===this?t_(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(V_),this.root.sharedNodes.clear()}}}function M_(e){e.updateLayout()}function O_(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,s=n.source!==e.layout.source;"size"===r?gw((e=>{const i=s?n.measuredBox[e]:n.layoutBox[e],r=rw(i);i.min=t[e].min,i.max=i.min+r})):eS(r,n.layoutBox,t)&&gw((i=>{const r=s?n.measuredBox[i]:n.layoutBox[i],o=rw(t[i]);r.max=r.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ow(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?ow(a,e.applyTransform(i,!0),n.measuredBox):ow(a,t,n.layoutBox);const l=!b_(o);let c=!1;if(!e.resumeFrom){const i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:s}=i;if(r&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};cw(o,n.layoutBox,r.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};cw(a,t,s.layoutBox),__(o,a)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function R_(e){C_&&T_.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function L_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function F_(e){e.clearSnapshot()}function V_(e){e.clearMeasurements()}function z_(e){e.isLayoutDirty=!1}function U_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function B_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function H_(e){e.resolveTargetDelta()}function W_(e){e.calcProjection()}function q_(e){e.resetSkewAndRotation()}function G_(e){e.removeLeadSnapshot()}function K_(e,t,n){e.translate=sy(t.translate,0,n),e.scale=sy(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Y_(e,t,n,i){e.min=sy(t.min,n.min,i),e.max=sy(t.max,n.max,i)}function X_(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Q_={duration:.45,ease:[.4,0,.1,1]},$_=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),J_=$_("applewebkit/")&&!$_("chrome/")?Math.round:Km;function Z_(e){e.min=J_(e.min),e.max=J_(e.max)}function eS(e,t,n){return"position"===e||"preserve-aspect"===e&&(i=S_(t),r=S_(n),s=.2,!(Math.abs(i-r)<=s));var i,r,s}function tS(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const nS=D_({attachResizeListener:(e,t)=>Gx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iS={current:void 0},rS=D_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iS.current){const e=new nS({});e.mount(window),e.setOptions({layoutScroll:!0}),iS.current=e}return iS.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),sS={pan:{Feature:class extends Hx{constructor(){super(...arguments),this.removePointerDownListener=Km}onPointerDown(e){this.session=new Qx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lw(e),onStart:Lw(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&Qm.postRender((()=>i(e,t)))}}}mount(){this.removePointerDownListener=Yx(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Hx{constructor(e){super(e),this.removeGroupControls=Km,this.removeListeners=Km,this.controls=new Ow(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Km}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:rS,MeasureLayout:Qw}};function oS(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=i["onHover"+n];r&&Qm.postRender((()=>r(t,Kx(t))))}function aS(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=i["onTap"+("End"===n?"":n)];r&&Qm.postRender((()=>r(t,Kx(t))))}const lS=["root"],cS=new WeakMap,uS=new WeakMap,hS=e=>{const t=cS.get(e.target);t&&t(e)},dS=e=>{e.forEach(hS)};function fS(e,t,n){const i=function(e){let{root:t}=e,n=Wm(e,lS);const i=t||document;uS.has(i)||uS.set(i,{});const r=uS.get(i),s=JSON.stringify(n);return r[s]||(r[s]=new IntersectionObserver(dS,Dt({root:t},n))),r[s]}(t);return cS.set(e,n),i.observe(e),()=>{cS.delete(e),i.unobserve(e)}}const pS={some:0,all:1};const mS={inView:{Feature:class extends Hx{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof i?i:pS[i]};return fS(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=t?n:i;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Hx{mount(){const{current:e}=this.node;e&&(this.unmount=Wg(e,(e=>(aS(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return aS(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Hx{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(vM){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Iy(Gx(this.node.current,"focus",(()=>this.onFocus())),Gx(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Hx{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r,s]=Og(e,n),o=Rg((e=>{const{target:n}=e,i=t(e);if("function"!==typeof i||!n)return;const s=Rg((e=>{i(e),n.removeEventListener("pointerleave",s)}));n.addEventListener("pointerleave",s,r)}));return i.forEach((e=>{e.addEventListener("pointerenter",o,r)})),s}(e,(e=>(oS(this.node,e,"Start"),e=>oS(this.node,e,"End")))))}unmount(){}}}},gS={layout:{ProjectionNode:rS,MeasureLayout:Qw}},yS=(0,t.createContext)({strict:!1}),vS=(0,t.createContext)({});function bS(e){return Dv(e.animate)||Uv.some((t=>Rv(e[t])))}function xS(e){return Boolean(bS(e)||e.variants)}function wS(e){const{initial:n,animate:i}=function(e,t){if(bS(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Rv(t)?t:void 0,animate:Rv(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(vS));return(0,t.useMemo)((()=>({initial:n,animate:i})),[_S(n),_S(i)])}function _S(e){return Array.isArray(e)?e.join(" "):e}const SS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kS={};for(const n in SS)kS[n]={isEnabled:e=>SS[n].some((t=>!!e[t]))};const ES=Symbol.for("motionComponentSymbol");function TS(e,n,i){return(0,t.useCallback)((t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),i&&("function"===typeof i?i(t):iw(i)&&(i.current=t))}),[n])}function CS(e,n,i,r,s){var o,a;const{visualElement:l}=(0,t.useContext)(vS),c=(0,t.useContext)(yS),u=(0,t.useContext)(Fw),h=(0,t.useContext)(Nv).reducedMotion,d=(0,t.useRef)(null);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:n,parent:l,props:i,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h}));const f=d.current,p=(0,t.useContext)(Uw);!f||f.projection||!s||"html"!==f.type&&"svg"!==f.type||function(e,t,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:NS(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:Boolean(o)||a&&iw(a),visualElement:e,animationType:"string"===typeof s?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}(d.current,i,s,p);const m=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{f&&m.current&&f.update(i,u)}));const g=i[$v],y=(0,t.useRef)(Boolean(g)&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return Sv((()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Kw.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())})),(0,t.useEffect)((()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),y.current=!1))})),f}function NS(e){if(e)return!1!==e.options.allowProjection?e.projection:NS(e.parent)}function jS(e){let{preloadedFeatures:n,createVisualElement:i,useRender:r,useVisualState:s,Component:o}=e;var a,l;function c(e,n){let a;const l=Dt(Dt(Dt({},(0,t.useContext)(Nv)),e),{},{layoutId:AS(e)}),{isStatic:c}=l,u=wS(e),h=s(e,c);if(!c&&_v){!function(){(0,t.useContext)(yS).strict;0}();const e=function(e){const{drag:t,layout:n}=kS;if(!t&&!n)return{};const i=Dt(Dt({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(l);a=e.MeasureLayout,u.visualElement=CS(o,h,l,i,e.ProjectionNode)}return(0,Lm.jsxs)(vS.Provider,{value:u,children:[a&&u.visualElement?(0,Lm.jsx)(a,Dt({visualElement:u.visualElement},l)):null,r(o,e,TS(h,u.visualElement,n),h,c,u.visualElement)]})}n&&function(e){for(const t in e)kS[t]=Dt(Dt({},kS[t]),e[t])}(n),c.displayName="motion.".concat("string"===typeof o?o:"create(".concat(null!==(l=null!==(a=o.displayName)&&void 0!==a?a:o.name)&&void 0!==l?l:"",")"));const u=(0,t.forwardRef)(c);return u[ES]=o,u}function AS(e){let{layoutId:n}=e;const i=(0,t.useContext)(zw).id;return i&&void 0!==n?i+"-"+n:n}const PS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IS(e){return"string"===typeof e&&!e.includes("-")&&!!(PS.indexOf(e)>-1||/[A-Z]/.test(e))}const DS=["transitionEnd","transition"];const MS=e=>(n,i)=>{const r=(0,t.useContext)(vS),s=(0,t.useContext)(Fw),o=()=>function(e,t,n,i){let{scrapeMotionValuesFromProps:r,createRenderState:s,onUpdate:o}=e;const a={latestValues:OS(t,n,i,r),renderState:s()};return o&&(a.onMount=e=>o(Dt({props:t,current:e},a)),a.onUpdate=e=>o(e)),a}(e,n,r,s);return i?o():ug(o)};function OS(e,t,n,i){const r={},s=i(e,{});for(const d in s)r[d]=t_(s[d]);let{initial:o,animate:a}=e;const l=bS(e),c=xS(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const h=u?a:o;if(h&&"boolean"!==typeof h&&!Dv(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const i=Fv(e,t[n]);if(i){const{transitionEnd:e,transition:t}=i,n=Wm(i,DS);for(const i in n){let e=n[i];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(r[i]=e)}for(const i in e)r[i]=e[i]}}}return r}const RS=(e,t)=>t&&"number"===typeof e?t.transform(e):e,LS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FS=Bv.length;function VS(e,t,n){const{style:i,vars:r,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(Hv.has(l))o=!0;else if(Wy(l))r[l]=e;else{const t=RS(e,bb[l]);l.startsWith("origin")?(a=!0,s[l]=t):i[l]=t}}if(t.transform||(o||n?i.transform=function(e,t,n){let i="",r=!0;for(let s=0;s<FS;s++){const o=Bv[s],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=RS(a,bb[o]);l||(r=!1,i+="".concat(LS[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const zS={offset:"stroke-dashoffset",array:"stroke-dasharray"},US={offset:"strokeDashoffset",array:"strokeDasharray"};function BS(e,t,n){return"string"===typeof e?e:wy.transform(t+n*e)}const HS=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function WS(e,t,n,i){let{attrX:r,attrY:s,attrScale:o,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0}=t;if(VS(e,Wm(t,HS),i),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:f,dimensions:p}=e;d.transform&&(p&&(f.transform=d.transform),delete d.transform),p&&(void 0!==a||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){const i=BS(t,e.x,e.width),r=BS(n,e.y,e.height);return"".concat(i," ").concat(r)}(p,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==r&&(d.x=r),void 0!==s&&(d.y=s),void 0!==o&&(d.scale=o),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=r?zS:US;e[s.offset]=wy.transform(-i);const o=wy.transform(t),a=wy.transform(n);e[s.array]="".concat(o," ").concat(a)}(d,c,u,h,!1)}const qS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),GS=()=>Dt(Dt({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),KS=e=>"string"===typeof e&&"svg"===e.toLowerCase();function YS(e,t,n,i){let{style:r,vars:s}=t;Object.assign(e.style,r,i&&i.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QS(e,t,n,i){YS(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(XS.has(r)?r:Qv(r),t.attrs[r])}function $S(e,t){let{layout:n,layoutId:i}=t;return Hv.has(e)||e.startsWith("origin")||(n||void 0!==i)&&(!!Gw[e]||"opacity"===e)}function JS(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Yv(r[o])||t.style&&Yv(t.style[o])||$S(o,e)||void 0!==(null===(i=null===n||void 0===n?void 0:n.getValue(o))||void 0===i?void 0:i.liveStyle))&&(s[o]=r[o]);return s}function ZS(e,t,n){const i=JS(e,t,n);for(const r in e)if(Yv(e[r])||Yv(t[r])){i[-1!==Bv.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return i}const ek=["x","y","width","height","cx","cy","r"],tk={useVisualState:MS({scrapeMotionValuesFromProps:ZS,createRenderState:GS,onUpdate:e=>{let{props:t,prevProps:n,current:i,renderState:r,latestValues:s}=e;if(!i)return;let o=!!t.drag;if(!o)for(const l in s)if(Hv.has(l)){o=!0;break}if(!o)return;let a=!n;if(n)for(let l=0;l<ek.length;l++){const e=ek[l];t[e]!==n[e]&&(a=!0)}a&&Qm.read((()=>{!function(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(vM){t.dimensions={x:0,y:0,width:0,height:0}}}(i,r),Qm.render((()=>{WS(r,s,KS(i.tagName),t.transformTemplate),QS(i,r)}))}))}})},nk={useVisualState:MS({scrapeMotionValuesFromProps:JS,createRenderState:qS})};function ik(e,t,n){for(const i in t)Yv(t[i])||$S(i,n)||(e[i]=t[i])}function rk(e,n){const i={};return ik(i,e.style||{},e),Object.assign(i,function(e,n){let{transformTemplate:i}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return VS(e,n,i),Object.assign({},e.vars,e.style)}),[n])}(e,n)),i}function sk(e,t){const n={},i=rk(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const ok=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ak(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ok.has(e)}let lk=e=>!ak(e);try{(ck=require("@emotion/is-prop-valid").default)&&(lk=e=>e.startsWith("on")?!ak(e):ck(e))}catch(bM){}var ck;function uk(e,n,i,r){const s=(0,t.useMemo)((()=>{const t=GS();return WS(t,n,KS(r),e.transformTemplate),Dt(Dt({},t.attrs),{},{style:Dt({},t.style)})}),[n]);if(e.style){const t={};ik(t,e.style,e),s.style=Dt(Dt({},t),s.style)}return s}function hk(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,i,r,s,o)=>{let{latestValues:a}=s;const l=(IS(n)?uk:sk)(i,a,o,n),c=function(e,t,n){const i={};for(const r in e)"values"===r&&"object"===typeof e.values||(lk(r)||!0===n&&ak(r)||!t&&!ak(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(i,"string"===typeof n,e),u=n!==t.Fragment?Dt(Dt(Dt({},c),l),{},{ref:r}):{},{children:h}=i,d=(0,t.useMemo)((()=>Yv(h)?h.get():h),[h]);return(0,t.createElement)(n,Dt(Dt({},u),{},{children:d}))}}function dk(e,t){return function(n){let{forwardMotionProps:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return jS(Dt(Dt({},IS(n)?tk:nk),{},{preloadedFeatures:e,useRender:hk(i),createVisualElement:t,Component:n}))}}const fk={current:null},pk={current:!1};const mk=[...zb,Dy,By],gk=new WeakMap;const yk=["willChange"],vk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bk{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ob,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=ng.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Qm.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget=Dt({},l),this.initialValues=n.initial?Dt({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=bS(n),this.isVariantNode=xS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:d}=h,f=Wm(h,yk);for(const p in f){const e=f[p];void 0!==l[p]&&Yv(e)&&e.set(l[p],!1)}}mount(e){this.current=e,gk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),pk.current||function(){if(pk.current=!0,_v)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fk.current=e.matches;e.addListener(t),t()}else fk.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||fk.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gk.delete(this.current),this.projection&&this.projection.unmount(),$m(this.notifyUpdate),$m(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Hv.has(e),i=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Qm.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),r=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{i(),r(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in kS){const t=kS[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<vk.length;n++){const t=vk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const i=e["on"+t];i&&(this.propEventSubscriptions[t]=this.on(t,i))}this.prevMotionValues=function(e,t,n){for(const i in t){const r=t[i],s=n[i];if(Yv(r))e.addValue(i,r);else if(Yv(s))e.addValue(i,cg(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(i);e.addValue(i,cg(void 0!==t?t:r,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=cg(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==i&&null!==i&&("string"===typeof i&&(Rb(i)||hb(i))?i=parseFloat(i):!(e=>mk.find(Vb(e)))(i)&&By.test(t)&&(i=_b(e,t)),this.setBaseTarget(e,Yv(i)?i.get():i)),Yv(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if("string"===typeof n||"object"===typeof n){const r=Fv(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);r&&(i=r[e])}if(n&&void 0!==i)return i;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Yv(r)?void 0!==this.initialValues[e]&&void 0===i?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new sg),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e].notify(...n)}}}class xk extends bk{constructor(){super(...arguments),this.KeyframeResolver=Bb}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:i}=t;delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yv(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}class wk extends xk{constructor(){super(...arguments),this.type="html",this.renderInstance=YS}readValueFromInstance(e,t){if(Hv.has(t)){const e=wb(t);return e&&e.default||0}{const i=(n=e,window.getComputedStyle(n)),r=(Wy(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof r?r.trim():r}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Iw(e,n)}build(e,t,n){VS(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return JS(e,t,n)}}class _k extends xk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mw}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Hv.has(t)){const e=wb(t);return e&&e.default||0}return t=XS.has(t)?t:Qv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ZS(e,t,n)}build(e,t,n){WS(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){QS(e,t,0,i)}mount(e){this.isSVGTag=KS(e.tagName),super.mount(e)}}const Sk=(e,n)=>IS(e)?new _k(n):new wk(n,{allowProjection:e!==t.Fragment}),kk=Iv(dk(Dt(Dt(Dt(Dt({},qx),mS),sS),gS),Sk)),Ek=n.p+"static/media/AthenaChat.2e5216218fea931585a0.png",Tk=n.p+"static/media/Feedback.67e62f9048f3460e4bc8.png",Ck=n.p+"static/media/ResponseAndGrading.927e3319cf0e573a432a.png",Nk=n.p+"static/media/Rubric.d0e6f31cdbd9bcd993a0.png",jk=n.p+"static/media/TeacherDashboard.b109a6e47661f08f7897.png",Ak=n.p+"static/media/PerfectAthenaPhotoUpdated2.403ae59e5e50d49d7996.png",Pk=e=>{let{title:t,description:n,image:i,delay:r=0}=e;return(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r},whileHover:{y:-5,transition:{duration:.2}},className:"bg-gray-900 rounded-lg p-6 hover:shadow-xl hover:shadow-yellow-400/10 transition-all duration-300",children:[(0,Lm.jsx)("div",{className:"h-48 mb-4 overflow-hidden rounded-lg",children:(0,Lm.jsx)(kk.img,{whileHover:{scale:1.05},transition:{duration:.3},src:i,alt:t,className:"w-full h-full object-cover"})}),(0,Lm.jsx)("h3",{className:"text-xl font-semibold mb-2 text-yellow-400",children:t}),(0,Lm.jsx)("p",{className:"text-gray-400",children:n})]})},Ik=e=>{let{title:t,links:n}=e;return(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("h3",{className:"text-yellow-400 font-semibold mb-4",children:t}),(0,Lm.jsx)("ul",{className:"space-y-2",children:n.map(((e,t)=>(0,Lm.jsx)("li",{children:e.to?(0,Lm.jsx)(je,{to:e.to,className:"hover:text-yellow-400 transition-colors",children:e.text}):(0,Lm.jsx)("a",{href:e.href,className:"hover:text-yellow-400 transition-colors",children:e.text})},t)))})]})},Dk=()=>{const[e,n]=(0,t.useState)(!1),{scrollY:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{container:n,target:i,layoutEffect:r=!0}=e,s=Wm(e,kv);const o=ug(Tv);return(r?Sv:t.useEffect)((()=>(Ev("target",i),Ev("container",n),wv(((e,t)=>{let{x:n,y:i}=t;o.scrollX.set(n.current),o.scrollXProgress.set(n.progress),o.scrollY.set(i.current),o.scrollYProgress.set(i.progress)}),Dt(Dt({},s),{},{container:(null===n||void 0===n?void 0:n.current)||void 0,target:(null===i||void 0===i?void 0:i.current)||void 0})))),[n,i,JSON.stringify(s.offset)]),o}(),r=Av(i,[0,300],[1,0]),s=Av(i,[0,300],[1,.8]),o=Av(i,[0,500],[0,-100]),[a,l]=(0,t.useState)(0);return(0,Lm.jsxs)("div",{className:"bg-black min-h-screen text-white",children:[(0,Lm.jsx)(Hm,{}),(0,Lm.jsxs)("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[(0,Lm.jsxs)(kk.div,{style:{y:o},className:"absolute inset-0 z-0",children:[(0,Lm.jsx)("img",{src:Ak,alt:"Athena Background",className:"w-full h-full object-cover opacity-75"}),(0,Lm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-black/60 to-black"})]}),(0,Lm.jsxs)(kk.div,{style:{opacity:r,scale:s},className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[(0,Lm.jsx)(kk.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-7xl font-bold mb-6 bg-gradient-to-r from-yellow-400 to-yellow-200 bg-clip-text text-transparent",children:"Transform Your Teaching"}),(0,Lm.jsx)(kk.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-2xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Empower your classroom with AI-driven insights, automated grading, and personalized learning paths."}),(0,Lm.jsx)(kk.button,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},onClick:()=>n(!0),className:"bg-yellow-400 text-black px-8 py-4 rounded-lg text-lg font-semibold hover:bg-yellow-300 transition-all duration-300 transform hover:scale-105",children:"Get Started"})]}),(0,Lm.jsx)(kk.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:1},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:(0,Lm.jsx)(kk.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"w-6 h-10 border-2 border-yellow-400 rounded-full flex justify-center",children:(0,Lm.jsx)(kk.div,{className:"w-1 h-2 bg-yellow-400 rounded-full mt-2"})})})]}),(0,Lm.jsx)("section",{className:"py-20 px-4 relative",children:(0,Lm.jsxs)(kk.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},className:"max-w-6xl mx-auto",children:[(0,Lm.jsx)(kk.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-5xl font-bold text-center mb-16 text-yellow-400",children:"Why Choose Athena?"}),(0,Lm.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Lm.jsx)(Pk,{title:"AI Grading",description:"Save hours with intelligent automated grading that provides detailed feedback.",image:Ck,delay:.2}),(0,Lm.jsx)(Pk,{title:"Smart Feedback",description:"Generate personalized feedback that helps students improve.",image:Tk,delay:.4}),(0,Lm.jsx)(Pk,{title:"Interactive Rubrics",description:"Create and manage detailed rubrics with ease.",image:Nk,delay:.6})]})]})}),(0,Lm.jsx)("section",{className:"py-20 bg-gradient-to-b from-black via-yellow-900/10 to-black",children:(0,Lm.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,Lm.jsx)(kk.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-center mb-16 text-yellow-400",children:"The Journey to Success"}),(0,Lm.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Empowering Teachers",description:"From hours of grading to minutes of insight. Athena transforms the way teachers evaluate and guide their students.",stat:"Save 15+ hours weekly",icon:"\u23f1\ufe0f"},{title:"Engaging Students",description:"Personalized feedback that speaks to each student's unique journey, helping them understand and grow.",stat:"90% improvement in student engagement",icon:"\ud83d\udcc8"},{title:"Building Future Leaders",description:"Through AI-powered insights and adaptive learning paths, we're helping shape the next generation of innovators.",stat:"85% better learning outcomes",icon:"\ud83c\udf93"}].map(((e,t)=>(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2*t},whileHover:{y:-10},className:"bg-gray-900/50 backdrop-blur-sm rounded-lg p-8 border border-yellow-400/20 hover:border-yellow-400/50 transition-all duration-300",children:[(0,Lm.jsx)(kk.div,{initial:{scale:0},whileInView:{scale:1},transition:{type:"spring",stiffness:200,delay:.2*t},className:"text-4xl mb-6",children:e.icon}),(0,Lm.jsx)("h3",{className:"text-2xl font-bold text-yellow-400 mb-4",children:e.title}),(0,Lm.jsx)("p",{className:"text-gray-300 mb-6",children:e.description}),(0,Lm.jsx)("div",{className:"text-yellow-400 font-bold text-lg",children:e.stat})]},t)))}),(0,Lm.jsx)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-20 text-center",children:(0,Lm.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)(kk.div,{initial:{scale:0},whileInView:{scale:1},transition:{type:"spring",stiffness:200},className:"text-4xl font-bold text-yellow-400 mb-2",children:"500+"}),(0,Lm.jsx)("p",{className:"text-gray-300",children:"Schools Using Athena"})]}),(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)(kk.div,{initial:{scale:0},whileInView:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"text-4xl font-bold text-yellow-400 mb-2",children:"1M+"}),(0,Lm.jsx)("p",{className:"text-gray-300",children:"Assignments Graded"})]}),(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)(kk.div,{initial:{scale:0},whileInView:{scale:1},transition:{type:"spring",stiffness:200,delay:.4},className:"text-4xl font-bold text-yellow-400 mb-2",children:"98%"}),(0,Lm.jsx)("p",{className:"text-gray-300",children:"Teacher Satisfaction"})]})]})})]})}),(0,Lm.jsx)("section",{className:"py-20 bg-black",children:(0,Lm.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[(0,Lm.jsx)("h2",{className:"text-3xl font-bold text-yellow-400 mb-12",children:"What Educators Are Saying"}),(0,Lm.jsxs)(kk.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.6},className:"bg-gray-900/50 backdrop-blur-sm p-8 rounded-lg border border-yellow-400/20",children:[(0,Lm.jsx)("p",{className:"text-xl text-gray-300 italic mb-6",children:'"Athena has revolutionized how I teach. The AI grading is incredibly accurate, and the personalized feedback helps my students understand exactly where they need to improve. It\'s like having a teaching assistant that works 24/7."'}),(0,Lm.jsx)("div",{className:"text-yellow-400 font-semibold",children:"Dr. Sarah Mitchell"}),(0,Lm.jsx)("div",{className:"text-gray-400",children:"High School English Teacher"})]})]})})}),(0,Lm.jsx)("section",{className:"py-20 bg-gradient-to-b from-black to-yellow-900/10",children:(0,Lm.jsx)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto px-4",children:(0,Lm.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[(0,Lm.jsxs)("div",{className:"lg:w-1/2",children:[(0,Lm.jsx)(kk.h2,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},className:"text-4xl font-bold mb-6 text-yellow-400",children:"Experience the Future of Education"}),(0,Lm.jsx)(kk.p,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"text-gray-300 mb-8 text-lg",children:"Our intuitive dashboard puts everything you need at your fingertips. Grade assignments, track progress, and communicate with students - all in one place."}),(0,Lm.jsx)(kk.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:(0,Lm.jsx)(je,{to:"/features",className:"inline-block border-2 border-yellow-400 text-yellow-400 px-6 py-3 rounded-lg hover:bg-yellow-400 hover:text-black transition-all duration-300 transform hover:scale-105",children:"Learn More"})})]}),(0,Lm.jsx)(kk.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.8},className:"lg:w-1/2",children:(0,Lm.jsx)("img",{src:jk,alt:"Athena Dashboard",className:"rounded-lg shadow-2xl hover:shadow-yellow-400/20 transition-shadow duration-300"})})]})})}),(0,Lm.jsx)("footer",{className:"bg-black text-gray-400 py-12",children:(0,Lm.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,Lm.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[(0,Lm.jsx)(Ik,{title:"Product",links:[{text:"Features",to:"/features"},{text:"Pricing",to:"/pricing"},{text:"Resources",to:"/resources"}]}),(0,Lm.jsx)(Ik,{title:"Company",links:[{text:"About",to:"/about"},{text:"Contact",to:"/contact"},{text:"Careers",to:"/careers"}]}),(0,Lm.jsx)(Ik,{title:"Legal",links:[{text:"Privacy",to:"/privacy"},{text:"Terms",to:"/terms"}]}),(0,Lm.jsx)(Ik,{title:"Connect",links:[{text:"Twitter",href:"#"},{text:"LinkedIn",href:"#"},{text:"Facebook",href:"#"}]})]}),(0,Lm.jsx)("div",{className:"mt-12 pt-8 border-t border-gray-800 text-center",children:(0,Lm.jsx)("p",{children:"\xa9 2024 Athena. All rights reserved."})})]})}),e&&(0,Lm.jsx)(Bm,{onClose:()=>n(!1)})]})},Mk=(0,t.createContext)(),Ok=()=>(0,t.useContext)(Mk),Rk=e=>{let{children:n}=e;const{user:i}=zm(),[r,s]=(0,t.useState)([]),[o,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0);(0,t.useEffect)((()=>{i?u():(s([]),a([]),c(!1))}),[i]);const u=async()=>{try{if(!i)return;const t=(await Tm(jp(Rm,"Users",i.uid))).data();if(console.log("userData:",t),console.log("User Role:",null===t||void 0===t?void 0:t.Role),!t)return console.log("No user data found, creating new user document"),await function(e,t,n){e=wp(e,Tp);const i=wp(e.firestore,Pp),r=xm(e.converter,t,n);return Am(i,[Gp(qp(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,uu.none())])}(jp(Rm,"Users",i.uid),{email:i.email,Role:"Student",enrolledClasses:{},classes:{},createdAt:(new Date).toISOString()}),s([]),a([]),void c(!1);if("Teacher"===t.Role)try{console.log("Fetching classes for teacher:",i.uid);const e=dm(Np(Rm,"classes"),pm("teacherId","==",i.uid)),t=(await Nm(e)).docs.map((e=>Dt({id:e.id},e.data())));console.log("Found classes:",t),s(t)}catch(e){console.error("Error fetching teacher classes:",e)}try{const n=t.enrolledClasses||{};console.log("Enrolled Class IDs:",n);const i=await Promise.all(Object.keys(n).map((async t=>{try{const e=await Tm(jp(Rm,"classes",t));return console.log("Fetched class doc:",t,e.exists(),e.data()),e.exists()?Dt({id:e.id},e.data()):null}catch(e){return console.error("Error fetching enrolled class ".concat(t,":"),e),null}})));console.log("Enrolled classes before filter:",i);const r=i.filter(Boolean);console.log("Enrolled classes after filter:",r),a(r)}catch(e){console.error("Error fetching enrolled classes:",e)}c(!1)}catch(e){console.error("Error in fetchUserClasses:",e),c(!1)}},h={userClasses:r,enrolledClasses:o,loading:l,createClass:async e=>{try{const t=Math.random().toString(36).substring(2,8).toUpperCase(),n={name:e,code:t,teacherId:i.uid,teacherEmail:i.email,students:{},assignments:{},createdAt:(new Date).toISOString()};console.log("Creating new class:",n);const r=await jm(Np(Rm,"classes"),n);return console.log("Class created with ID:",r.id),await function(e,t,n){e=wp(e,Tp);const i=wp(e.firestore,Pp),r=qp(i);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=yt(t))||t instanceof Op?Xp(r,"updateDoc",e._key,t,n,a):Yp(r,"updateDoc",e._key,t),Am(i,[s.toMutation(e._key,uu.exists(!0))])}(jp(Rm,"Users",i.uid),{["classes.".concat(r.id)]:!0}),await u(),t}catch(t){throw console.error("Error creating class:",t.message),t}},joinClass:async e=>{try{if(!i)throw new Error("Must be logged in to join a class");const n=(await Tm(jp(Rm,"Users",i.uid))).data(),r=e.toUpperCase();console.log("Attempting to join class with code:",r);const s=dm(Np(Rm,"classes"),pm("code","==",r)),o=await Nm(s);if(o.empty)throw new Error("Invalid class code");const a=o.docs[0],l=a.id,c=a.data();if(c.students&&c.students[i.uid])throw new Error("You are already enrolled in this class");const h=(Ip(t=wp(t=Rm,Pp)),new Im(t,(e=>Am(t,e)))),d=jp(Rm,"classes",l);h.update(d,{["students.".concat(i.uid)]:{email:i.email,name:n.name||"Unknown",joinedAt:(new Date).toISOString(),role:n.Role}});const f=jp(Rm,"Users",i.uid);h.update(f,{["enrolledClasses.".concat(l)]:{joined:(new Date).toISOString(),className:c.name,teacherEmail:c.teacherEmail}}),await h.commit(),console.log("Successfully joined class"),await u()}catch(n){throw console.error("Error joining class:",n),n}var t},fetchUserClasses:u,createAssignment:async(e,t)=>{try{return(await jm(Np(Rm,"classes",e,"assignments"),Dt(Dt({},t),{},{createdAt:(new Date).toISOString(),submissions:{}}))).id}catch(n){throw console.error("Error creating assignment:",n),n}},getClassAssignments:async e=>{try{return(await Nm(Np(Rm,"classes",e,"assignments"))).docs.map((e=>Dt({id:e.id},e.data())))}catch(t){throw console.error("Error fetching assignments:",t),t}}};return(0,Lm.jsx)(Mk.Provider,{value:h,children:n})},Lk=()=>(0,Lm.jsxs)("div",{className:"calendar",style:{backgroundColor:"#ECF0F1",padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[(0,Lm.jsx)("h2",{children:"My Progress"}),(0,Lm.jsx)("div",{style:{height:"150px",backgroundColor:"#BDC3C7",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px"},children:"Calendar Placeholder"})]});function Fk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M187.7 153.7c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7s61.7-26 61.7-57.7c0-32-27.7-57.7-61.7-57.7zm143.4 0c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7 34.3 0 61.7-26 61.7-57.7.1-32-27.4-57.7-61.7-57.7zm156.6 90l-6 4.3V49.7c0-27.4-20.6-49.7-46-49.7H76.6c-25.4 0-46 22.3-46 49.7V248c-2-1.4-4.3-2.9-6.3-4.3-15.1-10.6-25.1 4-16 17.7 18.3 22.6 53.1 50.3 106.3 72C58.3 525.1 252 555.7 248.9 457.5c0-.7.3-56.6.3-96.6 5.1 1.1 9.4 2.3 13.7 3.1 0 39.7.3 92.8.3 93.5-3.1 98.3 190.6 67.7 134.3-124 53.1-21.7 88-49.4 106.3-72 9.1-13.8-.9-28.3-16.1-17.8zm-30.5 19.2c-68.9 37.4-128.3 31.1-160.6 29.7-23.7-.9-32.6 9.1-33.7 24.9-10.3-7.7-18.6-15.5-20.3-17.1-5.1-5.4-13.7-8-27.1-7.7-31.7 1.1-89.7 7.4-157.4-28V72.3c0-34.9 8.9-45.7 40.6-45.7h317.7c30.3 0 40.9 12.9 40.9 45.7v190.6z"},child:[]}]})(e)}function Vk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function zk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Uk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(e)}function Bk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function Hk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(e)}function Wk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function qk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(e)}function Gk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Kk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Yk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Xk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function Qk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(e)}function $k(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Jk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function Zk(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function eE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(e)}function tE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function nE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function iE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function rE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z"},child:[]}]})(e)}function sE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function oE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function aE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function lE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function cE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function uE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function hE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function dE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function fE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function pE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function mE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function gE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function yE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function vE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function bE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function xE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function wE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function _E(e){return Ue({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function SE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(e)}function kE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M532 386.2c27.5-27.1 44-61.1 44-98.2 0-80-76.5-146.1-176.2-157.9C368.3 72.5 294.3 32 208 32 93.1 32 0 103.6 0 192c0 37 16.5 71 44 98.2-15.3 30.7-37.3 54.5-37.7 54.9-6.3 6.7-8.1 16.5-4.4 25 3.6 8.5 12 14 21.2 14 53.5 0 96.7-20.2 125.2-38.8 9.2 2.1 18.7 3.7 28.4 4.9C208.1 407.6 281.8 448 368 448c20.8 0 40.8-2.4 59.8-6.8C456.3 459.7 499.4 480 553 480c9.2 0 17.5-5.5 21.2-14 3.6-8.5 1.9-18.3-4.4-25-.4-.3-22.5-24.1-37.8-54.8zm-392.8-92.3L122.1 305c-14.1 9.1-28.5 16.3-43.1 21.4 2.7-4.7 5.4-9.7 8-14.8l15.5-31.1L77.7 256C64.2 242.6 48 220.7 48 192c0-60.7 73.3-112 160-112s160 51.3 160 112-73.3 112-160 112c-16.5 0-33-1.9-49-5.6l-19.8-4.5zM498.3 352l-24.7 24.4 15.5 31.1c2.6 5.1 5.3 10.1 8 14.8-14.6-5.1-29-12.3-43.1-21.4l-17.1-11.1-19.9 4.6c-16 3.7-32.5 5.6-49 5.6-54 0-102.2-20.1-131.3-49.7C338 339.5 416 272.9 416 192c0-3.4-.4-6.7-.7-10C479.7 196.5 528 238.8 528 288c0 28.7-16.2 50.6-29.7 64z"},child:[]}]})(e)}function EE(e){return Ue({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"},child:[]}]})(e)}const TE=()=>(0,Lm.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Mastery Progress"}),(0,Lm.jsx)(_E,{className:"text-yellow-500"})]}),(0,Lm.jsx)("div",{className:"space-y-4",children:[{name:"Life Contingency",progress:75},{name:"Social Insurance",progress:91},{name:"Advanced Maths",progress:25},{name:"Pension",progress:97}].map((e=>(0,Lm.jsxs)("div",{className:"space-y-2",children:[(0,Lm.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Lm.jsx)("span",{className:"text-gray-700",children:e.name}),(0,Lm.jsxs)("span",{className:"font-medium",children:[e.progress,"%"]})]}),(0,Lm.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Lm.jsx)("div",{className:"h-2 rounded-full ".concat(e.progress>=90?"bg-green-500":e.progress>=70?"bg-blue-500":e.progress>=40?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(e.progress,"%")}})})]},e.name)))})]}),CE=()=>(0,Lm.jsxs)("div",{children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Lm.jsx)("h2",{className:"text-lg font-semibold",children:"Messages"}),(0,Lm.jsx)("span",{className:"text-sm text-blue-600",children:"View All"})]}),(0,Lm.jsx)("div",{className:"space-y-3",children:[{id:1,sender:"Mayowa Ade",message:"First Chapter of Project.doc",time:"2h ago",unread:!0},{id:2,sender:"Olawuyi Tobi",message:"Can you check the formulas in these images?",time:"3h ago",unread:!1},{id:3,sender:"Joshua Ashiru",message:"You are yet to submit your assignment.",time:"5h ago",unread:!0}].map((e=>(0,Lm.jsxs)("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer",children:[(0,Lm.jsxs)("div",{className:"relative",children:[(0,Lm.jsx)(nE,{className:"text-gray-400"}),e.unread&&(0,Lm.jsx)(Qk,{className:"absolute -top-1 -right-1 text-blue-500 text-xs"})]}),(0,Lm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Lm.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.sender}),(0,Lm.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.message})]}),(0,Lm.jsx)("span",{className:"text-xs text-gray-400",children:e.time})]},e.id)))})]}),NE=()=>{const{user:e}=zm(),{enrolledClasses:t,loading:n}=Ok();return(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsxs)("div",{className:"mb-8",children:[(0,Lm.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:["Welcome back, ",(null===e||void 0===e?void 0:e.displayName)||"Student","!"]}),(0,Lm.jsx)("p",{className:"text-gray-600 mt-2",children:"Here's an overview of your academic progress"})]}),(0,Lm.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Lm.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Lm.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Your Classes"}),n?(0,Lm.jsx)("p",{children:"Loading classes..."}):t.length>0?(0,Lm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((e=>(0,Lm.jsxs)("div",{className:"border rounded-lg p-4 hover:border-blue-500 transition-colors",children:[(0,Lm.jsx)("h3",{className:"font-medium text-lg",children:e.name}),(0,Lm.jsxs)("p",{className:"text-sm text-gray-600",children:["Teacher: ",e.teacherEmail]}),(0,Lm.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[Object.keys(e.students||{}).length," Students"]})]},e.id)))}):(0,Lm.jsx)("p",{className:"text-gray-500",children:"You haven't joined any classes yet."})]}),(0,Lm.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),(0,Lm.jsx)("div",{className:"space-y-4",children:(0,Lm.jsx)("p",{className:"text-gray-500",children:"No recent activity"})})]})]}),(0,Lm.jsxs)("div",{className:"space-y-6",children:[(0,Lm.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,Lm.jsx)(Lk,{})}),(0,Lm.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,Lm.jsx)(TE,{})}),(0,Lm.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:(0,Lm.jsx)(CE,{})})]})]})]})},jE=()=>{const[e,n]=(0,t.useState)(""),{enrolledClasses:i,joinClass:r,loading:s,fetchUserClasses:o}=Ok();(0,t.useEffect)((()=>{o()}),[]);return console.log("Enrolled Classes:",i),(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"My Classes"}),(0,Lm.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Lm.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,Lm.jsx)(qk,{className:"text-blue-600 text-xl"})}),(0,Lm.jsx)("h2",{className:"text-xl font-semibold",children:"Join a Class"})]}),(0,Lm.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{await r(e.toUpperCase()),n(""),alert("Successfully joined the class!"),await o()}catch(i){alert("Error joining class: "+i.message)}},className:"flex gap-4",children:[(0,Lm.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),placeholder:"Enter class code",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Lm.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Join Class"})]})]}),s?(0,Lm.jsx)("div",{className:"text-center py-8",children:"Loading..."}):i&&i.length>0?(0,Lm.jsxs)("div",{children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Lm.jsx)(SE,{className:"text-gray-600 text-xl"}),(0,Lm.jsx)("h2",{className:"text-xl font-semibold",children:"Enrolled Classes"})]}),(0,Lm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((e=>(0,Lm.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[(0,Lm.jsx)("h3",{className:"text-lg font-semibold mb-3",children:e.name}),(0,Lm.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Lm.jsxs)("p",{children:["Teacher: ",e.teacherEmail]}),(0,Lm.jsxs)("p",{className:"mt-2",children:["Students: ",Object.keys(e.students||{}).length]})]}),(0,Lm.jsx)("button",{className:"mt-4 text-blue-600 hover:text-blue-800 text-sm font-medium",onClick:()=>{},children:"View Class \u2192"})]},e.id)))})]}):(0,Lm.jsx)("div",{className:"text-center py-8 text-gray-600",children:"You haven't joined any classes yet."})]})},AE=e=>{let{assignments:t,onSelectAssignment:n,filterStatus:i,searchTerm:r}=e;const s=t.filter((e=>{const t=e.title.toLowerCase().includes(r.toLowerCase())||e.className.toLowerCase().includes(r.toLowerCase()),n="all"===i||("completed"===i?e.completed:!e.completed);return t&&n})),o=e=>{const t=new Date(e.dueDate),n=new Date;return e.completed?"text-green-500":t<n?"text-red-500":"text-yellow-500"},a=e=>e.completed?(0,Lm.jsx)(Gk,{className:"text-green-500"}):(0,Lm.jsx)(cE,{className:"text-yellow-500"});return(0,Lm.jsx)("div",{className:"space-y-4",children:0===s.length?(0,Lm.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No assignments found"}):s.map((e=>{var t,i;return(0,Lm.jsx)("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-4 cursor-pointer",onClick:()=>n(e),children:(0,Lm.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Lm.jsxs)("div",{className:"flex-1",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Lm.jsx)(Bk,{className:"text-blue-500"}),(0,Lm.jsx)("h3",{className:"font-semibold text-lg",children:e.title})]}),(0,Lm.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Class: ",e.className]}),(0,Lm.jsxs)("p",{className:"text-sm text-gray-500",children:[null===(t=e.description)||void 0===t?void 0:t.substring(0,100),(null===(i=e.description)||void 0===i?void 0:i.length)>100?"...":""]})]}),(0,Lm.jsxs)("div",{className:"flex flex-col items-end",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)($k,{className:o(e)}),(0,Lm.jsxs)("span",{className:"text-sm text-gray-600",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]}),(0,Lm.jsx)("div",{className:"mt-2",children:a(e)})]})]})},e.id)}))})},PE=e=>{let{assignmentId:n}=e;const[i,r]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1);return(0,Lm.jsxs)("div",{className:"space-y-4",children:[(0,Lm.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,Lm.jsxs)("div",{className:"text-center",children:[(0,Lm.jsx)(Jk,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Lm.jsxs)("div",{className:"mt-2",children:[(0,Lm.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,Lm.jsx)("span",{className:"text-blue-600 hover:text-blue-500",children:"Upload files"}),(0,Lm.jsx)("input",{id:"file-upload",type:"file",multiple:!0,className:"hidden",onChange:e=>{const t=Array.from(e.target.files);r((e=>[...e,...t]))}})]}),(0,Lm.jsx)("p",{className:"text-sm text-gray-500",children:"or drag and drop"})]}),(0,Lm.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, DOCX up to 10MB each"})]})}),i.length>0&&(0,Lm.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Lm.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Selected Files"}),(0,Lm.jsx)("ul",{className:"space-y-2",children:i.map(((e,t)=>(0,Lm.jsxs)("li",{className:"flex items-center justify-between p-2 bg-white rounded-md",children:[(0,Lm.jsxs)("div",{className:"flex items-center",children:[(0,Lm.jsx)(oE,{className:"text-gray-400 mr-2"}),(0,Lm.jsx)("span",{className:"text-sm text-gray-600",children:e.name})]}),(0,Lm.jsx)("button",{onClick:()=>(e=>{r((t=>t.filter(((t,n)=>n!==e))))})(t),className:"text-red-500 hover:text-red-700",children:(0,Lm.jsx)(wE,{size:14})})]},t)))}),(0,Lm.jsx)("button",{onClick:async()=>{o(!0);try{console.log("Uploading files for assignment:",n)}catch(e){console.error("Error uploading files:",e)}finally{o(!1)}},disabled:s,className:"mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-blue-300",children:s?"Uploading...":"Upload Files"})]})]})},IE=e=>{let{assignment:t,onGrade:n}=e;const i=new Date(t.dueDate)<new Date,r=!t.completed&&!i;return(0,Lm.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Lm.jsxs)("div",{className:"mb-6",children:[(0,Lm.jsx)("h2",{className:"text-2xl font-bold mb-2",children:t.title}),(0,Lm.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)(aE,{}),(0,Lm.jsx)("span",{children:t.className})]}),(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)(Wk,{}),(0,Lm.jsxs)("span",{children:["Posted: ",new Date(t.createdAt).toLocaleDateString()]})]}),(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)($k,{className:i?"text-red-500":"text-yellow-500"}),(0,Lm.jsxs)("span",{children:["Due: ",new Date(t.dueDate).toLocaleString()]})]})]})]}),(0,Lm.jsxs)("div",{className:"prose max-w-none mb-8",children:[(0,Lm.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Instructions"}),(0,Lm.jsx)("p",{className:"text-gray-700",children:t.description})]}),r?(0,Lm.jsxs)("div",{className:"space-y-6",children:[(0,Lm.jsx)(PE,{assignmentId:t.id}),(0,Lm.jsx)("button",{onClick:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Assignment"})]}):(0,Lm.jsx)("div",{className:"p-4 rounded-lg ".concat(t.completed?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:t.completed?"Assignment submitted successfully!":"Assignment is overdue and can no longer be submitted."})]})},DE=e=>{let{assignment:n,onSubmit:i}=e;const[r,s]=(0,t.useState)(""),[o,a]=(0,t.useState)(0),[l,c]=(0,t.useState)(3),[u,h]=(0,t.useState)({});return(0,Lm.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={};r.trim()||(t.answers="Please provide your answers"),0===o&&(t.selfAssessment="Please rate your understanding"),Object.keys(t).length>0?h(t):i({answers:r,selfAssessment:o,confidence:l,submittedAt:(new Date).toISOString()})},className:"space-y-6",children:[(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Answers"}),(0,Lm.jsx)("textarea",{value:r,onChange:e=>s(e.target.value),rows:6,className:"w-full rounded-lg border ".concat(u.answers?"border-red-500":"border-gray-300"," shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),placeholder:"Type your answers here..."}),u.answers&&(0,Lm.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,Lm.jsx)(iE,{className:"mr-1"}),u.answers]})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rate Your Understanding (1-5)"}),(0,Lm.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map((e=>(0,Lm.jsx)("button",{type:"button",onClick:()=>a(e),className:"p-2 rounded-full ".concat(o>=e?"text-yellow-400 hover:text-yellow-500":"text-gray-300 hover:text-gray-400"),children:(0,Lm.jsx)(vE,{size:24})},e)))}),u.selfAssessment&&(0,Lm.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,Lm.jsx)(iE,{className:"mr-1"}),u.selfAssessment]})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confidence Level"}),(0,Lm.jsx)("input",{type:"range",min:"1",max:"5",value:l,onChange:e=>c(Number(e.target.value)),className:"w-full"}),(0,Lm.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,Lm.jsx)("span",{children:"Not Confident"}),(0,Lm.jsx)("span",{children:"Very Confident"})]})]}),(0,Lm.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Assignment"})]})},ME=()=>{const[e,n]=(0,t.useState)("all"),[i,r]=(0,t.useState)(""),[s,o]=(0,t.useState)([]),{enrolledClasses:a,getClassAssignments:l}=Ok(),c=Z();(0,t.useEffect)((()=>{(async()=>{try{const e={id:2,title:"Essay: Impact of AI in Education",description:"Write a 500-word essay discussing the potential impacts of Artificial Intelligence on modern education. Consider both positive and negative aspects, and provide specific examples.",dueDate:"2025-03-28T23:59",className:"Technology & Society",status:"pending",isDemo:!0},t=await Promise.all(a.map((async e=>(await l(e.id)).map((t=>Dt(Dt({},t),{},{className:e.name,classId:e.id}))))));o([e,...t.flat()])}catch(e){console.error("Error fetching assignments:",e)}})()}),[a,l]);return(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsxs)("div",{className:"mb-6 flex gap-4 items-center",children:[(0,Lm.jsx)("input",{type:"text",placeholder:"Search assignments...",value:i,onChange:e=>r(e.target.value),className:"flex-1 p-2 border rounded-lg"}),(0,Lm.jsxs)("select",{value:e,onChange:e=>n(e.target.value),className:"p-2 border rounded-lg",children:[(0,Lm.jsx)("option",{value:"all",children:"All Assignments"}),(0,Lm.jsx)("option",{value:"pending",children:"Pending"}),(0,Lm.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,Lm.jsx)(AE,{assignments:s,onSelectAssignment:e=>c("".concat(e.id)),filterStatus:e,searchTerm:i})]})},OE=()=>{const[e,n]=(0,t.useState)(!1),i=Z();return(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)("button",{onClick:()=>i(".."),className:"mb-6 flex items-center text-blue-600 hover:text-blue-800",children:(0,Lm.jsx)("span",{children:"\u2190 Back to Assignments"})}),e?(0,Lm.jsx)(DE,{assignment:{id:2,title:"Essay: Impact of AI in Education",description:"Write a 500-word essay discussing the potential impacts of Artificial Intelligence on modern education. Consider both positive and negative aspects, and provide specific examples.",dueDate:"2024-03-28T23:59",className:"Technology & Society",status:"pending",isDemo:!0},onSubmit:()=>{n(!1),i("..")}}):(0,Lm.jsx)(IE,{assignment:{id:2,title:"Essay: Impact of AI in Education",description:"Write a 500-word essay discussing the potential impacts of Artificial Intelligence on modern education. Consider both positive and negative aspects, and provide specific examples.",dueDate:"2025-03-28T23:59",className:"Technology & Society",status:"pending",isDemo:!0},onGrade:()=>n(!0)})]})},RE=()=>(0,Lm.jsxs)(xe,{children:[(0,Lm.jsx)(ve,{path:"",element:(0,Lm.jsx)(ME,{})}),(0,Lm.jsx)(ve,{path:":id",element:(0,Lm.jsx)(OE,{})})]}),LE=e=>{let{isOpen:t,setIsOpen:n}=e;const i=$(),r=[{name:"Home",icon:(0,Lm.jsx)(lE,{size:20}),path:"/student-dashboard/home"},{name:"Classes",icon:(0,Lm.jsx)(Uk,{size:20}),path:"/student-dashboard/classes"},{name:"Assignments",icon:(0,Lm.jsx)(bE,{size:20}),path:"/student-dashboard/assignments"},{name:"Athena's Wisdom",icon:(0,Lm.jsx)(mE,{size:20}),path:"/student-dashboard/lecture"},{name:"Bookmarks",icon:(0,Lm.jsx)(Hk,{size:20}),path:"/student-dashboard/bookmarks"},{name:"Messages",icon:(0,Lm.jsx)(nE,{size:20}),path:"/student-dashboard/messages"},{name:"Settings",icon:(0,Lm.jsx)(Zk,{size:20}),path:"/student-dashboard/settings"}];return(0,Lm.jsxs)("div",{className:"flex min-h-screen",children:[(0,Lm.jsx)("div",{className:"h-screen bg-white text-gray-800 fixed top-0 left-0\n        ".concat(t?"w-64":"w-20"," transition-all duration-300 ease-in-out"),children:(0,Lm.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Lm.jsx)("div",{className:"p-6 border-b border-gray-200",children:t?(0,Lm.jsx)("h1",{className:"text-xl font-bold",children:"Student Portal"}):(0,Lm.jsx)("button",{onClick:()=>n(!0),className:"w-full flex justify-center",children:(0,Lm.jsx)(Vk,{size:24,className:"text-blue-600"})})}),(0,Lm.jsx)("nav",{className:"flex-1 py-4",children:r.map((e=>(0,Lm.jsxs)(je,{to:e.path,className:"flex items-center px-6 py-3 transition-colors duration-200\n                  ".concat(i.pathname===e.path?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,Lm.jsx)("span",{className:t?"mr-4":"mx-auto",children:e.icon}),t&&(0,Lm.jsx)("span",{className:"font-medium",children:e.name})]},e.name)))}),(0,Lm.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Lm.jsxs)("button",{onClick:()=>{console.log("Signing out...")},className:"flex items-center w-full px-4 py-2 text-red-600 \n                hover:bg-red-50 rounded-lg transition-colors duration-200\n                ".concat(t?"":"justify-center"),children:[(0,Lm.jsx)(yE,{size:20,className:t?"mr-4":""}),t&&(0,Lm.jsx)("span",{className:"font-medium",children:"Sign Out"})]})})]})}),(0,Lm.jsx)("div",{className:"flex-1 ".concat(t?"ml-64":"ml-20"," transition-all duration-300"),children:t&&(0,Lm.jsx)("button",{onClick:()=>n(!1),className:"fixed top-6 left-[15.5rem] z-50 p-1 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:(0,Lm.jsx)(xE,{size:16})})})]})},FE=e=>{let{card:n,index:i,total:r}=e;const[s,o]=(0,t.useState)(!1);return(0,Lm.jsx)("div",{className:"relative",children:(0,Lm.jsxs)(kk.div,{className:"w-[500px] h-[300px] cursor-pointer perspective-1000",onClick:()=>{o(!s)},animate:{rotateY:s?180:0},transition:{duration:.6,type:"spring",stiffness:100},style:{transformStyle:"preserve-3d"},children:[(0,Lm.jsxs)("div",{className:"absolute inset-0 backface-hidden bg-white rounded-xl shadow-lg p-6 flex flex-col\n            ".concat(s?"opacity-0":"opacity-100"),children:[(0,Lm.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Lm.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 text-center",children:null===n||void 0===n?void 0:n.question})}),(0,Lm.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Click to flip \u2022 Card ",i+1," of ",r]})]}),(0,Lm.jsxs)("div",{className:"absolute inset-0 backface-hidden bg-blue-600 text-white rounded-xl shadow-lg p-6 flex flex-col\n            ".concat(s?"opacity-100":"opacity-0"),style:{transform:"rotateY(180deg)"},children:[(0,Lm.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Lm.jsx)("p",{className:"text-xl text-center",children:null===n||void 0===n?void 0:n.answer})}),(0,Lm.jsxs)("div",{className:"text-center text-sm text-blue-200",children:["Click to flip \u2022 Card ",i+1," of ",r]})]})]})})},VE=()=>{const[e,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(""),[s,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)("chat"),c=(0,t.useRef)(null);(0,t.useEffect)((()=>{n([{type:"athena",mode:"chat",content:"Hello! I'm Athena, your AI learning companion. How can I help you study today?",timestamp:(new Date).toISOString()}])}),[]),(0,t.useEffect)((()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)}),[e]);const u=e=>{var t,n,i,r,s,o;if("user"===e.type)return(0,Lm.jsx)("div",{className:"max-w-[70%] rounded-lg p-3 bg-blue-600 text-white",children:e.content});switch(e.mode){case"flashcard":return(0,Lm.jsx)("div",{className:"max-w-[80%] w-full",children:(0,Lm.jsx)(FE,{card:{question:(null===(t=e.flashcard)||void 0===t?void 0:t.question)||e.content,answer:(null===(n=e.flashcard)||void 0===n?void 0:n.answer)||"No answer provided"},index:0,total:1})});case"slideshow":return(0,Lm.jsx)("div",{className:"max-w-[80%] w-full bg-white rounded-xl shadow-lg overflow-hidden",children:(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)("h3",{className:"text-xl font-semibold mb-4",children:(null===(i=e.slide)||void 0===i?void 0:i.title)||"Slide"}),(0,Lm.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg mb-4",children:(null===(r=e.slide)||void 0===r?void 0:r.image)&&(0,Lm.jsx)("img",{src:e.slide.image,alt:e.slide.title,className:"w-full h-full object-cover"})}),(0,Lm.jsx)("div",{className:"prose max-w-none",children:(0,Lm.jsx)("p",{children:(null===(s=e.slide)||void 0===s?void 0:s.content)||e.content})}),(null===(o=e.slide)||void 0===o?void 0:o.notes)&&(0,Lm.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:(0,Lm.jsx)("p",{className:"text-sm text-blue-800",children:e.slide.notes})})]})});default:return(0,Lm.jsx)("div",{className:"max-w-[70%] rounded-lg p-3 bg-white shadow-md",children:e.content})}};return(0,Lm.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,Lm.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:(0,Lm.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-3",children:(0,Lm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Lm.jsx)("img",{src:Ak,alt:"Athena",className:"w-12 h-12 rounded-full border-2 border-white/50"}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("h1",{className:"text-xl font-bold",children:"Athena's Wisdom"}),(0,Lm.jsx)("p",{className:"text-sm text-blue-100",children:"Your AI Learning Companion"})]})]}),(0,Lm.jsx)("img",{src:qe,alt:"Athena Logo",className:"h-8"})]})})}),(0,Lm.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Lm.jsxs)("div",{className:"max-w-4xl mx-auto h-full flex flex-col",children:[(0,Lm.jsxs)("div",{ref:c,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map(((e,t)=>(0,Lm.jsxs)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"," items-start gap-2"),children:["athena"===e.type&&(0,Lm.jsx)("img",{src:Ak,alt:"Athena",className:"w-8 h-8 rounded-full border border-blue-200"}),u(e)]},t))),s&&(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)("img",{src:Ak,alt:"Athena",className:"w-8 h-8 rounded-full border border-blue-200"}),(0,Lm.jsx)("div",{className:"bg-white shadow-md rounded-lg p-3",children:(0,Lm.jsxs)("div",{className:"flex space-x-2",children:[(0,Lm.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),(0,Lm.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce delay-100"}),(0,Lm.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce delay-200"})]})})]})]}),(0,Lm.jsx)("div",{className:"p-4 bg-white border-t",children:(0,Lm.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.trim())return;const t={type:"user",content:i,timestamp:(new Date).toISOString()};n((e=>[...e,t])),r(""),o(!0);try{const e=await fetch("http://localhost:8000/api/athena/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({message:i,mode:a})});if(!e.ok)throw new Error("Network response was not ok");const t=await e.json();n((e=>[...e,{type:"athena",mode:a,content:t.response,flashcard:t.flashcard,slide:t.slide,timestamp:(new Date).toISOString()}]))}catch(s){console.error("Error:",s),n((e=>[...e,{type:"athena",mode:"chat",content:"I apologize, but I'm having trouble connecting to my knowledge base. Please try again in a moment.",timestamp:(new Date).toISOString()}]))}finally{o(!1)}},className:"max-w-4xl mx-auto space-y-3",children:[(0,Lm.jsxs)("div",{className:"flex gap-2 pb-3 border-b",children:[(0,Lm.jsxs)("button",{type:"button",onClick:()=>l("chat"),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat("chat"===a?"bg-blue-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Lm.jsx)(kE,{size:16}),(0,Lm.jsx)("span",{className:"text-sm font-medium",children:"Chat"})]}),(0,Lm.jsxs)("button",{type:"button",onClick:()=>l("flashcard"),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat("flashcard"===a?"bg-blue-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Lm.jsx)(EE,{size:16}),(0,Lm.jsx)("span",{className:"text-sm font-medium",children:"Flashcards"})]}),(0,Lm.jsxs)("button",{type:"button",onClick:()=>l("slideshow"),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat("slideshow"===a?"bg-blue-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Lm.jsx)(Fk,{size:16}),(0,Lm.jsx)("span",{className:"text-sm font-medium",children:"Slideshow"})]})]}),(0,Lm.jsxs)("div",{className:"flex gap-2",children:[(0,Lm.jsx)("input",{type:"text",value:i,onChange:e=>r(e.target.value),placeholder:"Ask about ".concat("chat"===a?"anything":"flashcard"===a?"a topic for flashcards":"a topic for slides","..."),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Lm.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2",disabled:s,children:[(0,Lm.jsx)(dE,{size:16}),(0,Lm.jsx)("span",{className:"font-medium",children:"Send"})]})]})]})})]})})]})},zE=()=>{const[e,n]=(0,t.useState)(!0);return(0,Lm.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,Lm.jsx)(LE,{isOpen:e,setIsOpen:n}),(0,Lm.jsx)("div",{className:"flex-1",children:(0,Lm.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,Lm.jsxs)(xe,{children:[(0,Lm.jsx)(ve,{path:"home",element:(0,Lm.jsx)(NE,{})}),(0,Lm.jsx)(ve,{path:"classes",element:(0,Lm.jsx)(jE,{})}),(0,Lm.jsx)(ve,{path:"assignments/*",element:(0,Lm.jsx)(RE,{})}),(0,Lm.jsx)(ve,{path:"lecture",element:(0,Lm.jsx)(VE,{})}),(0,Lm.jsx)(ve,{path:"/",element:(0,Lm.jsx)(ye,{to:"home",replace:!0})})]})})})]})};function UE(e){return e+.5|0}const BE=(e,t,n)=>Math.max(Math.min(e,n),t);function HE(e){return BE(UE(2.55*e),0,255)}function WE(e){return BE(UE(255*e),0,255)}function qE(e){return BE(UE(e/2.55)/100,0,1)}function GE(e){return BE(UE(100*e),0,100)}const KE={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},YE=[..."0123456789ABCDEF"],XE=e=>YE[15&e],QE=e=>YE[(240&e)>>4]+YE[15&e],$E=e=>(240&e)>>4===(15&e);function JE(e){var t=(e=>$E(e.r)&&$E(e.g)&&$E(e.b)&&$E(e.a))(e)?XE:QE;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const ZE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function eT(e,t,n){const i=t*Math.min(n,1-n),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function tT(e,t,n){const i=function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function nT(e,t,n){const i=eT(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function iT(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i),o=(r+s)/2;let a,l,c;return r!==s&&(c=r-s,l=o>.5?c/(2-r-s):c/(r+s),a=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),a=60*a+.5),[0|a,l||0,o]}function rT(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(WE)}function sT(e,t,n){return rT(eT,e,t,n)}function oT(e){return(e%360+360)%360}function aT(e){const t=ZE.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?HE(+t[5]):WE(+t[5]));const r=oT(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return rT(nT,e,t,n)}(r,s,o):"hsv"===t[1]?function(e,t,n){return rT(tT,e,t,n)}(r,s,o):sT(r,s,o),{r:n[0],g:n[1],b:n[2],a:i}}const lT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let uT;function hT(e){uT||(uT=function(){const e={},t=Object.keys(cT),n=Object.keys(lT);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,lT[s]);s=parseInt(cT[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),uT.transparent=[0,0,0,0]);const t=uT[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const dT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const fT=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,pT=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function mT(e,t,n){if(e){let i=iT(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=sT(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function gT(e,t){return e?Object.assign(t||{},e):e}function yT(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=WE(e[3]))):(t=gT(e,{r:0,g:0,b:0,a:1})).a=WE(t.a),t}function vT(e){return"r"===e.charAt(0)?function(e){const t=dT.exec(e);let n,i,r,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?HE(e):BE(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?HE(n):BE(n,0,255)),i=255&(t[4]?HE(i):BE(i,0,255)),r=255&(t[6]?HE(r):BE(r,0,255)),{r:n,g:i,b:r,a:s}}}(e):aT(e)}class bT{constructor(e){if(e instanceof bT)return e;const t=typeof e;let n;"object"===t?n=yT(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*KE[e[1]],g:255&17*KE[e[2]],b:255&17*KE[e[3]],a:5===n?17*KE[e[4]]:255}:7!==n&&9!==n||(t={r:KE[e[1]]<<4|KE[e[2]],g:KE[e[3]]<<4|KE[e[4]],b:KE[e[5]]<<4|KE[e[6]],a:9===n?KE[e[7]]<<4|KE[e[8]]:255})),t}(e)||hT(e)||vT(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=gT(this._rgb);return e&&(e.a=qE(e.a)),e}set rgb(e){this._rgb=yT(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(qE(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?JE(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=iT(e),n=t[0],i=GE(t[1]),r=GE(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(qE(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const s=t===r?.5:t,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=pT(qE(e.r)),r=pT(qE(e.g)),s=pT(qE(e.b));return{r:WE(fT(i+n*(pT(qE(t.r))-i))),g:WE(fT(r+n*(pT(qE(t.g))-r))),b:WE(fT(s+n*(pT(qE(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new bT(this.rgb)}alpha(e){return this._rgb.a=WE(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=UE(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return mT(this._rgb,2,e),this}darken(e){return mT(this._rgb,2,-e),this}saturate(e){return mT(this._rgb,1,e),this}desaturate(e){return mT(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=iT(e);n[0]=oT(n[0]+t),n=sT(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function xT(){}const wT=(()=>{let e=0;return()=>e++})();function _T(e){return null===e||void 0===e}function ST(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function kT(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ET(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function TT(e,t){return ET(e)?e:t}function CT(e,t){return"undefined"===typeof e?t:e}const NT=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function jT(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function AT(e,t,n,i){let r,s,o;if(ST(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(kT(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function PT(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function IT(e){if(ST(e))return e.map(IT);if(kT(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=IT(e[n[r]]);return t}return e}function DT(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function MT(e,t,n,i){if(!DT(e))return;const r=t[e],s=n[e];kT(r)&&kT(s)?OT(r,s,i):t[e]=IT(s)}function OT(e,t,n){const i=ST(t)?t:[t],r=i.length;if(!kT(e))return e;const s=(n=n||{}).merger||MT;let o;for(let a=0;a<r;++a){if(o=i[a],!kT(o))continue;const t=Object.keys(o);for(let i=0,r=t.length;i<r;++i)s(t[i],e,o,n)}return e}function RT(e,t){return OT(e,t,{merger:LT})}function LT(e,t,n){if(!DT(e))return;const i=t[e],r=n[e];kT(i)&&kT(r)?RT(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=IT(r))}const FT={"":e=>e,x:e=>e.x,y:e=>e.y};function VT(e,t){const n=FT[t]||(FT[t]=function(e){const t=function(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function zT(e){return e.charAt(0).toUpperCase()+e.slice(1)}const UT=e=>"undefined"!==typeof e,BT=e=>"function"===typeof e,HT=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const WT=Math.PI,qT=2*WT,GT=qT+WT,KT=Number.POSITIVE_INFINITY,YT=WT/180,XT=WT/2,QT=WT/4,$T=2*WT/3,JT=Math.log10,ZT=Math.sign;function eC(e,t,n){return Math.abs(e-t)<n}function tC(e){const t=Math.round(e);e=eC(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(JT(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function nC(e){return!isNaN(parseFloat(e))&&isFinite(e)}function iC(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function rC(e){return e*(WT/180)}function sC(e){return e*(180/WT)}function oC(e){if(!ET(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function aC(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*WT&&(s+=qT),{angle:s,distance:r}}function lC(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function cC(e,t){return(e-t+GT)%qT-WT}function uC(e){return(e%qT+qT)%qT}function hC(e,t,n,i){const r=uC(e),s=uC(t),o=uC(n),a=uC(s-r),l=uC(o-r),c=uC(r-s),u=uC(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function dC(e,t,n){return Math.max(t,Math.min(n,e))}function fC(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function pC(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,s=0;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const mC=(e,t,n,i)=>pC(e,n,i?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),gC=(e,t,n)=>pC(e,n,(i=>e[i][t]>=n));const yC=["push","pop","shift","splice","unshift"];function vC(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(yC.forEach((t=>{delete e[t]})),delete e._chartjs)}function bC(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const xC="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function wC(e,t){let n=[],i=!1;return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];n=s,i||(i=!0,xC.call(window,(()=>{i=!1,e.apply(t,n)})))}}const _C=e=>"start"===e?"left":"end"===e?"right":"center",SC=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function kC(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=dC(Math.min(mC(a,l,c).lo,n?i:mC(t,l,o.getPixelForValue(c)).lo),0,i-1)),s=d?dC(Math.max(mC(a,o.axis,u,!0).hi+1,n?0:mC(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function EC(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const TC=e=>0===e||1===e,CC=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*qT/n),NC=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*qT/n)+1,jC={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*XT),easeOutSine:e=>Math.sin(e*XT),easeInOutSine:e=>-.5*(Math.cos(WT*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>TC(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>TC(e)?e:CC(e,.075,.3),easeOutElastic:e=>TC(e)?e:NC(e,.075,.3),easeInOutElastic(e){const t=.1125;return TC(e)?e:e<.5?.5*CC(2*e,t,.45):.5+.5*NC(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-jC.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*jC.easeInBounce(2*e):.5*jC.easeOutBounce(2*e-1)+.5};function AC(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function PC(e){return AC(e)?e:new bT(e)}function IC(e){return AC(e)?e:new bT(e).saturate(.5).darken(.1).hexString()}const DC=["x","y","borderWidth","radius","tension"],MC=["color","borderColor","backgroundColor"];const OC=new Map;function RC(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=OC.get(n);return i||(i=new Intl.NumberFormat(e,t),OC.set(n,i)),i}(t,n).format(e)}const LC={values:e=>ST(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=JT(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),RC(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(JT(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?LC.numeric.call(this,e,t,n):""}};var FC={formatters:LC};const VC=Object.create(null),zC=Object.create(null);function UC(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const t=n[i];e=e[t]||(e[t]=Object.create(null))}return e}function BC(e,t,n){return"string"===typeof t?OT(UC(e,t),n):OT(UC(e,""),t)}class HC{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>IC(t.backgroundColor),this.hoverBorderColor=(e,t)=>IC(t.borderColor),this.hoverColor=(e,t)=>IC(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return BC(this,e,t)}get(e){return UC(this,e)}describe(e,t){return BC(zC,e,t)}override(e,t){return BC(VC,e,t)}route(e,t,n,i){const r=UC(this,e),s=UC(this,n),o="_"+t;Object.defineProperties(r,{[o]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[i];return kT(e)?Object.assign({},t,e):CT(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var WC=new HC({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:MC},numbers:{type:"number",properties:DC}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:FC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function qC(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function GC(e,t,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||ST(h)){if(ST(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||ST(d)||(o=qC(e,r,s,o,d))}else o=qC(e,r,s,o,h);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function KC(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function YC(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function XC(e,t,n,i){QC(e,t,n,i,null)}function QC(e,t,n,i,r){let s,o,a,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*YT;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,i),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:r?e.ellipse(n,i,r/2,m,0,0,qT):e.arc(n,i,m,0,qT),e.closePath();break;case"triangle":u=r?r/2:m,e.moveTo(n+Math.sin(g)*u,i-Math.cos(g)*m),g+=$T,e.lineTo(n+Math.sin(g)*u,i-Math.cos(g)*m),g+=$T,e.lineTo(n+Math.sin(g)*u,i-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(g+QT)*l,h=Math.cos(g+QT)*(r?r/2-c:l),a=Math.sin(g+QT)*l,d=Math.sin(g+QT)*(r?r/2-c:l),e.arc(n-h,i-a,c,g-WT,g-XT),e.arc(n+d,i-o,c,g-XT,g),e.arc(n+h,i+a,c,g,g+XT),e.arc(n-d,i+o,c,g+XT,g+WT),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=r?r/2:l,e.rect(n-u,i-l,2*u,2*l);break}g+=QT;case"rectRot":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),e.moveTo(n-h,i-a),e.lineTo(n+d,i-o),e.lineTo(n+h,i+a),e.lineTo(n-d,i+o),e.closePath();break;case"crossRot":g+=QT;case"cross":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"star":h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o),g+=QT,h=Math.cos(g)*(r?r/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(r?r/2:m),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+d,i-o),e.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(g)*m,a=Math.sin(g)*m,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(g)*(r?r/2:m),i+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function $C(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function JC(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ZC(e){e.restore()}function eN(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function tN(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function nN(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function iN(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function rN(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=ST(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),_T(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&iN(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),_T(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,i,s.maxWidth)),e.fillText(c,n,i,s.maxWidth),nN(e,n,i,c,s),i+=Number(r.lineHeight);e.restore()}function sN(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*WT,WT,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,WT,XT,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,XT,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-XT,!0),e.lineTo(n+o.topLeft,i)}const oN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lN(e,t){const n=(""+e).match(oN);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const cN=e=>+e||0;function uN(e,t){const n={},i=kT(t),r=i?Object.keys(t):t,s=kT(e)?i?n=>CT(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of r)n[o]=cN(s(o));return n}function hN(e){return uN(e,{top:"y",right:"x",bottom:"y",left:"x"})}function dN(e){return uN(e,["topLeft","topRight","bottomLeft","bottomRight"])}function fN(e){const t=hN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pN(e,t){e=e||{},t=t||WC.font;let n=CT(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let i=CT(e.style,t.style);i&&!(""+i).match(aN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:CT(e.family,t.family),lineHeight:lN(CT(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:CT(e.weight,t.weight),string:""};return r.string=function(e){return!e||_T(e.size)||_T(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function mN(e,t,n,i){let r,s,o,a=!0;for(r=0,s=e.length;r<s;++r)if(o=e[r],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&ST(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function gN(e,t){return Object.assign(Object.create(e),t)}function yN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=NN("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:i,override:i=>yN([i,...e],t,r,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>_N(n,i,(()=>function(e,t,n,i){let r;for(const s of t)if(r=NN(xN(s,e),n),"undefined"!==typeof r)return wN(e,r)?TN(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>jN(e).includes(t),ownKeys:e=>jN(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function vN(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:bN(e,i),setContext:t=>vN(e,t,n,i),override:r=>vN(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>_N(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];BT(a)&&o.isScriptable(t)&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);a.delete(e),wN(e,l)&&(l=TN(r._scopes,r,e,l));return l}(t,a,e,n));ST(a)&&a.length&&(a=function(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&i(e))return t[s.index%t.length];if(kT(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=TN(i,r,e,l);t.push(vN(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));wN(t,a)&&(a=vN(a,r,s&&s[t],o));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function bN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:BT(n)?n:()=>n,isIndexable:BT(i)?i:()=>i}}const xN=(e,t)=>e?e+zT(t):t,wN=(e,t)=>kT(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function _N(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const i=n();return e[t]=i,i}function SN(e,t,n){return BT(e)?e(t,n):e}const kN=(e,t)=>!0===e?t:"string"===typeof e?VT(t,e):void 0;function EN(e,t,n,i,r){for(const s of t){const t=kN(n,s);if(t){e.add(t);const s=SN(t._fallback,n,r);if("undefined"!==typeof s&&s!==n&&s!==i)return s}else if(!1===t&&"undefined"!==typeof i&&n!==i)return null}return!1}function TN(e,t,n,i){const r=t._rootScopes,s=SN(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=CN(a,o,n,s||n,i);return null!==l&&(("undefined"===typeof s||s===n||(l=CN(a,o,s,l,i),null!==l))&&yN(Array.from(a),[""],r,s,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];if(ST(r)&&kT(n))return n;return r||{}}(t,n,i))))}function CN(e,t,n,i,r){for(;n;)n=EN(e,t,n,i,r);return n}function NN(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function jN(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function AN(e,t,n,i){const{iScale:r}=e,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:r.parse(VT(u,s),c)};return o}const PN=Number.EPSILON||1e-14,IN=(e,t)=>t<e.length&&!e[t].skip&&e[t],DN=e=>"x"===e?"y":"x";function MN(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=lC(s,r),l=lC(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function ON(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=DN(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=IN(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=IN(e,o+1),l){if(c){const e=c[t]-l[t];r[o]=0!==e?(c[n]-l[n])/e:0}s[o]=a?c?ZT(r[o-1])!==ZT(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,s,o,a,l,c=IN(e,0);for(let u=0;u<i-1;++u)l=c,c=IN(e,u+1),l&&c&&(eC(t[u],0,PN)?n[u]=n[u+1]=0:(r=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*t[u],n[u+1]=s*o*t[u])))}(e,r,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const i=DN(n),r=e.length;let s,o,a,l=IN(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=IN(e,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a["cp1".concat(n)]=r-s,a["cp1".concat(i)]=u-s*t[c]),l&&(s=(l[n]-r)/3,a["cp2".concat(n)]=r+s,a["cp2".concat(i)]=u+s*t[c])}}(e,s,t)}function RN(e,t,n){return Math.max(Math.min(e,n),t)}function LN(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)ON(e,r);else{let n=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=MN(n,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,i,r,s,o,a=$C(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&$C(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=RN(r.cp1x,t.left,t.right),r.cp1y=RN(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=RN(r.cp2x,t.left,t.right),r.cp2y=RN(r.cp2y,t.top,t.bottom)))}(e,n)}function FN(){return"undefined"!==typeof window&&"undefined"!==typeof document}function VN(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function zN(e,t,n){let i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const UN=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const BN=["top","right","bottom","left"];function HN(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=BN[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function WN(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=UN(n),s="border-box"===r.boxSizing,o=HN(r,"padding"),a=HN(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(r,s,e.target))o=r,a=s;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,a=i.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=t;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const qN=e=>Math.round(10*e)/10;function GN(e,t,n,i){const r=UN(e),s=HN(r,"margin"),o=zN(r.maxWidth,e,"clientWidth")||KT,a=zN(r.maxHeight,e,"clientHeight")||KT,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const s=e&&VN(e);if(s){const e=s.getBoundingClientRect(),o=UN(s),a=HN(o,"border","width"),l=HN(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,i=zN(o.maxWidth,s,"clientWidth"),r=zN(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||KT,maxHeight:r||KT}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=HN(r,"border","width"),t=HN(r,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=qN(Math.min(c,o,l.maxWidth)),u=qN(Math.min(u,a,l.maxHeight)),c&&!u&&(u=qN(c/2));return(void 0!==t||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=qN(Math.floor(u*i))),{width:c,height:u}}function KN(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0)}const YN=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};FN()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(vM){}return e}();function XN(e,t){const n=function(e,t){return UN(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function QN(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function $N(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function JN(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=QN(e,r,n),a=QN(r,s,n),l=QN(s,t,n),c=QN(o,a,n),u=QN(a,l,n);return QN(c,u,n)}function ZN(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function ej(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function tj(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function nj(e){return"angle"===e?{between:hC,compare:cC,normalize:uC}:{between:fC,compare:(e,t)=>e-t,normalize:e=>e}}function ij(e){let{start:t,end:n,count:i,loop:r,style:s}=e;return{start:t%i,end:n%i,loop:r&&(n-t+1)%i===0,style:s}}function rj(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=nj(i),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=nj(i),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(t[h%l][i]),r,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let m,g,y,v=!1,b=null;const x=()=>v||l(r,y,m)&&0!==a(r,y),w=()=>!v||0===a(s,m)||l(s,y,m);for(let _=u,S=u;_<=h;++_)g=t[_%o],g.skip||(m=c(g[i]),m!==y&&(v=l(m,r,s),null===b&&x()&&(b=0===a(m,r)?_:S),null!==b&&w()&&(p.push(ij({start:b,end:_,loop:d,count:o,style:f})),b=null),S=_,y=m));return null!==b&&p.push(ij({start:b,end:h,loop:d,count:o,style:f})),p}function sj(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=rj(i[r],e.points,t);s.length&&n.push(...s)}return n}function oj(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),s=aj(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,h=t[0].start,d=h;function f(e,t,i,r){const s=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,h=t%l)}}for(const p of t){h=a?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];e=aj(i.setContext(gN(r,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),lj(e,u)&&f(h,d-1,p.loop,u),t=s,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,i):t}function aj(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function lj(e,t){if(!t)return!1;const n=[],i=function(e,t){return AC(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}class cj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],s=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=xC.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var uj=new cj;const hj="transparent",dj={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=PC(e||hj),r=i.valid&&PC(t||hj);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class fj{constructor(e,t,n,i){const r=t[n];i=mN([e.to,i,r,e.from]);const s=mN([e.from,r,i]);this._active=!0,this._fn=e.fn||dj[e.type||typeof s],this._easing=jC[e.easing]||jC.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=mN([e.to,t,i,e.from]),this._from=mN([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}}class pj{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!kT(e))return;const t=Object.keys(WC.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const r=e[i];if(!kT(r))return;const s={};for(const e of t)s[e]=r[e];(ST(r.properties)&&r.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const t=e[i[r]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new fj(h,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(uj.add(this._chart,n),!0):void 0}}function mj(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:i?s:r,end:i?r:s}}function gj(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function yj(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,s="single"===i.mode;let o,a,l,c;if(null===t)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=e.values[l],ET(c)&&(s||0===t||ZT(t)===ZT(c))&&(t+=c)}return u||i.all?t:0}function vj(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function bj(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function xj(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function wj(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(s,o,i),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:s}=e;d=(e._stacks||(e._stacks={}))[c]=bj(r,u,n),d[a]=s,d._top=xj(d,o,!0,i.type),d._bottom=xj(d,o,!1,i.type);(d._visualValues||(d._visualValues={}))[a]=s}}function _j(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Sj(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n],void 0!==t[i]._visualValues&&void 0!==t[i]._visualValues[n]&&delete t[i]._visualValues[n]}}}const kj=e=>"reset"===e||"none"===e,Ej=(e,t)=>t?e:Object.assign({},e);class Tj{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vj(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Sj(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=CT(n.xAxisID,_j(e,"x")),s=t.yAxisID=CT(n.yAxisID,_j(e,"y")),o=t.rAxisID=CT(n.rAxisID,_j(e,"r")),a=t.indexAxis,l=t.iAxisID=i(a,r,s,o),c=t.vAxisID=i(a,s,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vC(this._data,this),e._stacked&&Sj(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(kT(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:i}=t,r="x"===n.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:e[u]};return a}(t,e)}else if(n!==t){if(n){vC(n,this);const e=this._cachedMeta;Sj(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(i=t)._chartjs?i._chartjs.listeners.push(r):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),yC.forEach((e=>{const t="_onData"+zT(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];const o=n.apply(this,r);return i._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...r)})),o}})})))),this._syncList=[],this._data=t}var i,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=vj(t.vScale,t),t.stack!==n.stack&&(i=!0,Sj(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(wj(this,t._parsed),t._stacked=vj(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===e&&t===i.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=ST(i[e])?this.parseArrayData(n,i,e,t):kT(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&wj(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:s}=e,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:s}=e,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=t[h],l[c]={x:r.parse(VT(d,o),h),y:s.parse(VT(d,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,s=t[e.axis];return yj({keys:gj(i,!0),values:t._stacks[e.axis]._visualValues},s,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let s=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,s=yj(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,s=i.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:gj(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=i[h];const t=d[o.axis];return!ET(d[e.axis])||c>t||u<t}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,e,d,a),!r));++h);if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i][e.axis],ET(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return kT(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(CT(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=mj(e,n),r=mj(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,o,a),c=o;c<o+a;++c){const t=i[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,r))}for(c=0;c<s.length;++c)s[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return gN(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return gN(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const i="active"===t,r=this._cachedDataOpts,s=e+"-"+t,o=r[s],a=this.enableOptionSharing&&UT(n);if(o)return Ej(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(WC.elements[e]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,t)),u);return f.$shared&&(f.$shared=a,r[s]=Object.freeze(Ej(f,a))),f}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,s="animation-".concat(t),o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(e,n,t))}const l=new pj(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||kj(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:s}}updateElement(e,t,n,i){kj(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!kj(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=t.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._cachedMeta,r=i.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(r),o=e;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Sj(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Cj(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=bC(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,r,s,o,a=t._length;const l=()=>{32767!==s&&-32768!==s&&(UT(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=t.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)s=t.getPixelForTick(i),l();return a}function Nj(e,t,n,i){return ST(e)?function(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function jj(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(Nj(d,h,s,c));return l}function Aj(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Pj(e,t,n,i){let r=t.borderSkipped;const s={};if(!r)return void(e.borderSkipped=s);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[Ij(u,o,a,l)]=!0,r=c)),s[Ij(r,o,a,l)]=!0,e.borderSkipped=s}function Ij(e,t,n,i){var r,s,o;return i?(o=n,e=Dj(e=(r=e)===(s=t)?o:r===o?s:r,n,t)):e=Dj(e,t,n),e}function Dj(e,t,n){return"start"===e?t:"end"===e?n:e}function Mj(e,t,n){let{inflateAmount:i}=t;e.inflateAmount="auto"===i?1===n?.33:0:i}Pt(Tj,"defaults",{}),Pt(Tj,"datasetElementType",null),Pt(Tj,"dataElementType",null);class Oj extends Tj{parsePrimitiveData(e,t,n,i){return jj(e,t,n,i)}parseArrayData(e,t,n,i){return jj(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=t[h],f={},f[r.axis]=r.parse(VT(p,l),h),u.push(Nj(VT(p,c),f,s,h));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),s=r._custom,o=Aj(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,i);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=r||_T(t[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[o.axis],m={horizontal:l,base:n.base,enableBorderRadius:!p||Aj(t._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(m.options=u||this.resolveDataElementOptions(d,e[d].active?"active":i));const g=m.options||e[d].options;Pj(m,g,p,s),Mj(m,g,c.ratio),this.updateElement(e[d],d,m,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),r=n.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(t),a=o&&o[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===a)),i=t&&t[e.vScale.axis];if(_T(i)||isNaN(i))return!0};for(const c of i)if((void 0===t||!l(c))&&((!1===r||-1===s.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,s;for(r=0,s=t.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||Cj(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(e),l=a._custom,c=Aj(l);let u,h,d=a[t.axis],f=0,p=n?this.applyStack(t,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&ZT(d)!==ZT(l.barEnd)&&(f=0),f+=d);const m=_T(r)||c?f:r;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):g,h=u-g,Math.abs(h)<s){h=function(e,t,n){return 0!==e?ZT(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,o)*s,d===o&&(g-=h/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),f=Math.max(e,r);g=Math.max(Math.min(g,f),l),u=g+h,n&&!c&&(a._stacks[t.axis]._visualValues[i]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(o)){const e=ZT(h)*t.getLineWidthForValue(o)/2;g+=e,h-=e}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,s=CT(i.maxBarThickness,1/0);let o,a;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,l="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?t.end-t.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let s,o;return _T(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}(e,t,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(s,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[t.axis]||n[r].hidden||n[r].draw(this._ctx)}}Pt(Oj,"id","bar"),Pt(Oj,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Pt(Oj,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Rj extends Tj{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let s=0;s<r.length;s++){const e=t[n+s];r[s]._custom=CT(e[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let s=0;s<r.length;s++){const e=t[n+s];r[s]._custom=CT(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[e]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,i),c=s.axis,u=o.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,t.active?"active":i),r&&(d.options.radius=0)),this.updateElement(t,h,d,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=CT(n&&n._custom,r),i}}Pt(Rj,"id","bubble"),Pt(Rj,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Pt(Rj,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Lj extends Tj{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=e=>+n[e];if(kT(n[e])){const{key:e="value"}=this._parsing;o=t=>+VT(n[t],e)}for(r=e,s=e+t;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return rC(this.options.rotation-90)}_getCircumference(){return rC(this.options.circumference)}_getRotationExtents(){let e=qT,t=-qT;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function(e,t,n){let i=1,r=1,s=0,o=0;if(t<qT){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(e,t,i)=>hC(e,a,l,!0)?1:Math.max(t,t*n,i,i*n),p=(e,t,i)=>hC(e,a,l,!0)?-1:Math.min(t,t*n,i,i*n),m=f(0,c,h),g=f(XT,u,d),y=p(WT,c,h),v=p(WT+XT,u,d);i=(m-y)/2,r=(g-v)/2,s=-(m+y)/2,o=-(g+v)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(d,h,a),y=(n.width-s)/f,v=(n.height-s)/p,b=Math.max(Math.min(y,v)/2,0),x=NT(this.options.radius,b),w=(x-Math.max(x*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=g*x,i.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/qT)}updateElements(e,t,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,i);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,r);for(m=t;m<t+n;++m){const t=this._circumference(m,r),n=e[m],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(m,n.active?"active":i)),g+=t,this.updateElement(n,m,s,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?qT*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=RC(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,s,o,a;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),e=s.data,o=s.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(CT(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pt(Lj,"id","doughnut"),Pt(Lj,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Pt(Lj,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Pt(Lj,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const s=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class Fj extends Tj{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=kC(t,i,s);this._drawStart=o,this._drawCount=a,EC(t)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(i,o,a,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,m=nC(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===i,y=t+n,v=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<v;++x){const n=e[x],f=g?n:{};if(x<t||x>=y){f.skip=!0;continue}const v=this.getParsed(x),w=_T(v[d]),_=f[h]=s.getPixelForValue(v[h],x),S=f[d]=r||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,v,a):v[d],x);f.skip=isNaN(_)||isNaN(S)||w,f.stop=x>0&&Math.abs(v[h]-b[h])>m,p&&(f.parsed=v,f.raw=l.data[x]),u&&(f.options=c||this.resolveDataElementOptions(x,n.active?"active":i)),g||this.updateElement(n,x,f,i),b=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Pt(Fj,"id","line"),Pt(Fj,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Pt(Fj,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Vj extends Tj{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=RC(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return AN.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),s=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,i){const r="reset"===i,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*WT;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,i,f);for(h=t;h<t+n;h++){const t=e[h];let n=d,p=d+this._computeAngle(h,i,f),m=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,r&&(o.animateScale&&(m=0),o.animateRotate&&(n=p=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,t.active?"active":i)};this.updateElement(t,h,g,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?rC(this.resolveDataElementOptions(e,t).angle||n):0}}Pt(Vj,"id","polarArea"),Pt(Vj,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Pt(Vj,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return t.labels.map(((t,r)=>{const s=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:i,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class zj extends Lj{}Pt(zj,"id","pie"),Pt(zj,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Uj extends Tj{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return AN.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,o,u,i)}}}Pt(Uj,"id","radar"),Pt(Uj,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Pt(Uj,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Bj extends Tj{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=t,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[e]||"",value:"("+o+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:s}=kC(t,n,i);if(this._drawStart=r,this._drawCount=s,EC(t)&&(r=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:s}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,r,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,f=o.axis,{spanGaps:p,segment:m}=this.options,g=nC(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===i;let v=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=y?t:{},p=_T(n[f]),x=c[d]=s.getPixelForValue(n[d],b),w=c[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(x)||isNaN(w)||p,c.stop=b>0&&Math.abs(n[d]-v[d])>g,m&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":i)),y||this.updateElement(t,b,c,i),v=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,s)/2}}Pt(Bj,"id","scatter"),Pt(Bj,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Pt(Bj,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Hj(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wj{static override(e){Object.assign(Wj.prototype,e)}constructor(e){Pt(this,"options",void 0),this.options=e||{}}init(){}formats(){return Hj()}parse(){return Hj()}format(){return Hj()}add(){return Hj()}diff(){return Hj()}startOf(){return Hj()}endOf(){return Hj()}}var qj=Wj;function Gj(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const e=a._reversePixels?gC:mC;if(!i)return e(s,t,n);if(r._sharedOptions){const i=s[0],r="function"===typeof i.getRange&&i.getRange(t);if(r){const i=e(s,t,n-r),o=e(s,t,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function Kj(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:e,data:n}=s[a],{lo:l,hi:c}=Gj(s[a],t,o,r);for(let t=l;t<=c;++t){const r=n[t];r.skip||i(r,e,t)}}}function Yj(e,t,n,i,r){const s=[];if(!r&&!e.isPointInArea(t))return s;return Kj(e,n,t,(function(n,o,a){(r||$C(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function Xj(e,t,n,i,r,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,s=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return Kj(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!(!!s||e.isPointInArea(d))&&!h)return;const f=a(t,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function Qj(e,t,n,i,r,s){return s||e.isPointInArea(t)?"r"!==n||i?Xj(e,t,n,i,r,s):function(e,t,n,i){let r=[];return Kj(e,n,t,(function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],i),{angle:l}=aC(e,{x:t.x,y:t.y});hC(l,o,a)&&r.push({element:e,datasetIndex:n,index:s})})),r}(e,t,n,r):[]}function $j(e,t,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Kj(e,n,t,((e,i,l)=>{e[o]&&e[o](t[n],r)&&(s.push({element:e,datasetIndex:i,index:l}),a=a||e.inRange(t.x,t.y,r))})),i&&!a?[]:s}var Jj={evaluateInteractionItems:Kj,modes:{index(e,t,n,i){const r=WN(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Yj(e,r,s,i,o):Qj(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,i){const r=WN(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Yj(e,r,s,i,o):Qj(e,r,s,!1,i,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,i)=>Yj(e,WN(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=WN(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return Qj(e,r,s,n.intersect,i,o)},x:(e,t,n,i)=>$j(e,WN(t,e),"x",n.intersect,i),y:(e,t,n,i)=>$j(e,WN(t,e),"y",n.intersect,i)}};const Zj=["left","top","right","bottom"];function eA(e,t){return e.filter((e=>e.pos===t))}function tA(e,t){return e.filter((e=>-1===Zj.indexOf(e.pos)&&e.box.axis===t))}function nA(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function iA(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!Zj.includes(i))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&t.availableHeight)}return n}function rA(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function sA(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function oA(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!kT(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[r]+=n.size}s.getPadding&&sA(o,s.getPadding());const a=Math.max(0,t.outerWidth-rA(o,e,"left","right")),l=Math.max(0,t.outerHeight-rA(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function aA(e,t){const n=t.maxPadding;function i(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function lA(e,t,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,aA(a.horizontal,t));const{same:o,other:h}=oA(t,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&lA(r,t,n,i)||u}function cA(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function uA(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=t.w*c,s=l.size||e.height;UT(l.start)&&(o=l.start),e.fullSize?cA(e,r.left,o,n.outerWidth-r.right-r.left,s):cA(e,t.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=e.bottom}else{const i=t.h*c,o=l.size||e.width;UT(l.start)&&(s=l.start),e.fullSize?cA(e,s,r.top,o,n.outerHeight-r.bottom-r.top):cA(e,s,t.top+l.placed,o,i),l.start=s,l.placed+=i,s=e.right}}t.x=s,t.y=o}var hA={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=fN(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=function(e){const t=function(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=nA(t.filter((e=>e.box.fullSize)),!0),i=nA(eA(t,"left"),!0),r=nA(eA(t,"right")),s=nA(eA(t,"top"),!0),o=nA(eA(t,"bottom")),a=tA(t,"x"),l=tA(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:eA(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;AT(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);sA(d,fN(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=iA(l.concat(c),h);lA(a.fullSize,f,h,p),lA(l,f,h,p),lA(c,f,h,p)&&lA(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),uA(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,uA(a.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},AT(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class dA{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class fA extends dA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const pA="$chartjs",mA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gA=e=>null===e||""===e;const yA=!!YN&&{passive:!0};function vA(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,yA)}function bA(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function xA(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||bA(n.addedNodes,i),t=t&&!bA(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function wA(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||bA(n.removedNodes,i),t=t&&!bA(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const _A=new Map;let SA=0;function kA(){const e=window.devicePixelRatio;e!==SA&&(SA=e,_A.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function EA(e,t,n){const i=e.canvas,r=i&&VN(i);if(!r)return;const s=wC(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),function(e,t){_A.size||window.addEventListener("resize",kA),_A.set(e,t)}(e,s),o}function TA(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){_A.delete(e),_A.size||window.removeEventListener("resize",kA)}(e)}function CA(e,t,n){const i=e.canvas,r=wC((t=>{null!==e.ctx&&n(function(e,t){const n=mA[e.type]||e.type,{x:i,y:r}=WN(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,yA)}(i,t,r),r}class NA extends dA{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[pA]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",gA(r)){const t=XN(e,"width");void 0!==t&&(e.width=t)}if(gA(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=XN(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[pA])return!1;const n=t[pA].initial;["height","width"].forEach((e=>{const i=n[e];_T(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[pA],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:xA,detach:wA,resize:EA}[t]||CA;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:TA,detach:TA,resize:TA}[t]||vA)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return GN(e,t,n,i)}isAttached(e){const t=e&&VN(e);return!(!t||!t.isConnected)}}class jA{constructor(){Pt(this,"x",void 0),Pt(this,"y",void 0),Pt(this,"active",!1),Pt(this,"options",void 0),Pt(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return nC(this.x)&&nC(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}}function AA(e,t){const n=e.options.ticks,i=function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return function(e,t,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),s++,o=n[s*i])}(t,c,s,o/r),c;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const s=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let o=0,a=s.length-1;o<a;o++){const e=s[o];if(e>r)return e}return Math.max(r,1)}(s,t,r);if(o>0){let e,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(PA(t,c,u,_T(i)?0:a-i,a),e=0,n=o-1;e<n;e++)PA(t,c,u,s[e],s[e+1]);return PA(t,c,u,l,_T(i)?t.length:l+i),c}return PA(t,c,u),c}function PA(e,t,n,i,r){const s=CT(i,0),o=Math.min(CT(r,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}Pt(jA,"defaults",{}),Pt(jA,"defaultRoutes",void 0);const IA=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,DA=(e,t)=>Math.min(t||e,e);function MA(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function OA(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<s-a||c>o+a)))return c}function RA(e){return e.drawTicks?e.tickLength:0}function LA(e,t){if(!e.display)return 0;const n=pN(e.font,t),i=fN(e.padding);return(ST(e.text)?e.text.length:1)*n.lineHeight+i.height}function FA(e,t,n){let i=_C(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class VA extends jA{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=TT(e,Number.POSITIVE_INFINITY),t=TT(t,Number.NEGATIVE_INFINITY),n=TT(n,Number.POSITIVE_INFINITY),i=TT(i,Number.NEGATIVE_INFINITY),{min:TT(e,n),max:TT(t,i),minDefined:ET(e),maxDefined:ET(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),s||(i=Math.max(i,t.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:TT(n,TT(i,n)),max:TT(i,TT(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jT(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,s=NT(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?MA(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=AA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jT(this.options.afterUpdate,[this])}beforeSetDimensions(){jT(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jT(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),jT(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jT(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=jT(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){jT(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jT(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=DA(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,r=t.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=dC(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(e.offset?.5:1)),o=this.maxHeight-RA(e.grid)-t.padding-LA(e.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=sC(Math.min(Math.asin(dC((c.highest.height+6)/s,-1,1)),Math.asin(dC(o/a,-1,1))-Math.asin(dC(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){jT(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jT(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=LA(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=RA(r)+s):(e.height=this.maxHeight,e.width=RA(r)+s),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=rC(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*r.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*r.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*e.width,h=n*t.height):(u=n*e.height,h=i*t.width):"start"===r?h=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jT(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)_T(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=MA(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[],a=Math.floor(t/DA(t,n));let l,c,u,h,d,f,p,m,g,y,v,b=0,x=0;for(l=0;l<t;l+=a){if(h=e[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},m=d.lineHeight,g=y=0,_T(h)||ST(h)){if(ST(h))for(c=0,u=h.length;c<u;++c)v=h[c],_T(v)||ST(v)||(g=qC(i,p.data,p.gc,g,v),y+=m)}else g=qC(i,p.data,p.gc,g,h),y=m;s.push(g),o.push(y),b=Math.max(g,b),x=Math.max(y,x)}!function(e,t){AT(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(r,t);const w=s.indexOf(b),_=o.indexOf(x),S=e=>({width:s[e]||0,height:o[e]||0});return{first:S(0),last:S(t-1),widest:S(w),highest:S(_),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return dC(this._alignToPixels?KC(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return gN(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return gN(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=rC(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),s=e.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=RA(r),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(e){return KC(n,e,f)};let g,y,v,b,x,w,_,S,k,E,T,C;if("top"===s)g=m(this.bottom),w=this.bottom-u,S=g-p,E=m(e.top)+p,C=e.bottom;else if("bottom"===s)g=m(this.top),E=e.top,C=m(e.bottom)-p,w=g+p,S=this.top+u;else if("left"===s)g=m(this.right),x=this.right-u,_=g-p,k=m(e.left)+p,T=e.right;else if("right"===s)g=m(this.left),k=e.left,T=m(e.right)-p,x=g+p,_=this.left+u;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(kT(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}E=e.top,C=e.bottom,w=g+p,S=w+u}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if(kT(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}x=g-p,_=x-u,k=e.left,T=e.right}const N=CT(i.ticks.maxTicksLimit,c),j=Math.max(1,Math.ceil(c/N));for(y=0;y<c;y+=j){const e=this.getContext(y),t=r.setContext(e),i=o.setContext(e),s=t.lineWidth,c=t.color,u=i.dash||[],d=i.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;v=OA(this,y,a),void 0!==v&&(b=KC(n,v,s),l?x=_=k=T=b:w=S=E=C=b,h.push({tx1:x,ty1:w,tx2:_,ty2:S,x1:k,y1:E,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=RA(n.grid),d=h+c,f=u?-c:d,p=-rC(this.labelRotation),m=[];let g,y,v,b,x,w,_,S,k,E,T,C,N="middle";if("top"===i)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===i)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,x=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,x=e.x}else if("x"===t){if("center"===i)w=(e.top+e.bottom)/2+d;else if(kT(i)){const e=Object.keys(i)[0],t=i[e];w=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)x=(e.left+e.right)/2-d;else if(kT(i)){const e=Object.keys(i)[0],t=i[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?N="top":"end"===a&&(N="bottom"));const j=this._getLabelSizes();for(g=0,y=o.length;g<y;++g){v=o[g],b=v.label;const e=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,k=this._resolveTickFontOptions(g),E=k.lineHeight,T=ST(b)?b.length:1;const t=T/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(s?(x=S,"inner"===_&&(d=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===i?"near"===l||0!==p?-T*E+E/2:"center"===l?-j.highest.height/2-t*E+E:-j.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?j.highest.height/2-t*E:j.highest.height-T*E,u&&(C*=-1),0===p||e.showLabelBackdrop||(x+=E/2*Math.sin(p))):(w=S,C=(1-T)*E/2),e.showLabelBackdrop){const t=fN(e.backdropPadding),n=j.heights[g],i=j.widths[g];let r=C-t.top,s=0-t.left;switch(N){case"middle":r-=n/2;break;case"bottom":r-=n}switch(_){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":g===y-1?s-=i:g>0&&(s-=i/2)}h={left:s,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:k,textOffset:C,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:N,translation:[x,w],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-rC(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=e+r,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,s;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,s=i.length;r<s;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=KC(e,this.left,s)-s/2,c=KC(e,this.right,o)+o/2,u=h=a):(u=KC(e,this.top,s)-s/2,h=KC(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&JC(t,n);const i=this.getLabelItems(e);for(const r of i){const e=r.options,n=r.font;rN(t,r.label,0,r.textOffset,n,e)}n&&ZC(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=pN(n.font),s=fN(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===t||"center"===t||kT(t)?(a+=s.bottom,ST(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const m=o-r,g=a-s;if(e.isHorizontal()){if(d=SC(i,s,a),kT(n)){const e=Object.keys(n)[0],i=n[e];f=u[e].getPixelForValue(i)+m-t}else f="center"===n?(c.bottom+c.top)/2+m-t:IA(e,n,t);h=a-s}else{if(kT(n)){const e=Object.keys(n)[0],i=n[e];d=u[e].getPixelForValue(i)-g+t}else d="center"===n?(c.left+c.right)/2-g+t:IA(e,n,t);f=SC(i,o,r),p="left"===n?-XT:XT}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,t,o);rN(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:FA(o,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=CT(e.grid&&e.grid.z,-1),i=CT(e.border&&e.border.z,0);return this._isVisible()&&this.draw===VA.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];s[n]!==this.id||e&&s.type!==e||i.push(s)}return i}_resolveTickFontOptions(e){return pN(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zA{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=OT(Object.create(null),[n?WC.get(n):{},WC.get(t),e.defaults]);WC.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");WC.route(s,r,l,a)}))}(t,e.defaultRoutes);e.descriptors&&WC.describe(t,e.descriptors)}(e,s,n),this.override&&WC.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in WC[i]&&(delete WC[i][n],this.override&&delete VC[n])}}class UA{constructor(){this.controllers=new zA(Tj,"datasets",!0),this.elements=new zA(jA,"elements"),this.plugins=new zA(Object,"plugins"),this.scales=new zA(VA,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):AT(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=zT(e);jT(n["before"+i],[],n),t[e](n),jT(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var BA=new UA;class HA{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===jT(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){_T(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=CT(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(BA.plugins.items);for(let s=0;s<i.length;s++)n.push(BA.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const e=r[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){let{plugins:r,localIds:s}=t;const o=[],a=e.getContext();for(const l of r){const t=l.id,r=WA(n[t],i);null!==r&&o.push({plugin:l,options:qA(e.config,{plugin:l,local:s[t]},r,a)})}return o}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function WA(e,t){return t||!1!==e?!0===e?{}:e:null}function qA(e,t,n,i){let{plugin:r,local:s}=t;const o=e.pluginScopeKeys(r),a=e.getOptionScopes(n,o);return s&&r.defaults&&a.push(r.defaults),e.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function GA(e,t){const n=WC.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function KA(e){if("x"===e||"y"===e||"r"===e)return e}function YA(e){if(KA(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const s of n){const t=s.axis||("top"===(r=s.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||e.length>1&&KA(e[0].toLowerCase());if(t)return t}var r;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function XA(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function QA(e,t){const n=VC[e.type]||{scales:{}},i=t.scales||{},r=GA(e.type,t),s=Object.create(null);return Object.keys(i).forEach((t=>{const o=i[t];if(!kT(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const a=YA(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return XA(e,"x",n[0])||XA(e,"y",n[0])}return{}}(t,e),WC.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,r),c=n.scales||{};s[t]=RT(Object.create(null),[{axis:a},o,c[a],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,o=n.indexAxis||GA(r,t),a=(VC[r]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),r=n[t+"AxisID"]||t;s[r]=s[r]||Object.create(null),RT(s[r],[{axis:t},i[r],a[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];RT(t,[WC.scales[t.type],WC.scale])})),s}function $A(e){const t=e.options||(e.options={});t.plugins=CT(t.plugins,{}),t.scales=QA(e,t)}function JA(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const ZA=new Map,eP=new Set;function tP(e,t){let n=ZA.get(e);return n||(n=t(),ZA.set(e,n),eP.add(n)),n}const nP=(e,t,n)=>{const i=VT(t,n);void 0!==i&&e.add(i)};class iP{constructor(e){this._config=function(e){return(e=e||{}).data=JA(e.data),$A(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=JA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$A(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return tP(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return tP("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return tP("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return tP("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>nP(a,e,t)))),t.forEach((e=>nP(a,i,e))),t.forEach((e=>nP(a,VC[r]||{},e))),t.forEach((e=>nP(a,WC,e))),t.forEach((e=>nP(a,zC,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),eP.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,VC[t]||{},WC.datasets[t]||{},{type:t},WC,zC]}resolveNamedOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:s,subPrefixes:o}=rP(this._resolverCache,e,i);let a=s;if(function(e,t){const{isScriptable:n,isIndexable:i}=bN(e);for(const r of t){const t=n(r),s=i(r),o=(s||t)&&e[r];if(t&&(BT(o)||sP(o))||s&&ST(o))return!0}return!1}(s,t)){r.$shared=!1;a=vN(s,n=BT(n)?n():n,this.createResolver(e,n,o))}for(const l of t)r[l]=a[l];return r}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0;const{resolver:r}=rP(this._resolverCache,e,n);return kT(t)?vN(r,t,void 0,i):r}}function rP(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);if(!s){s={resolver:yN(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,s)}return s}const sP=e=>kT(e)&&Object.getOwnPropertyNames(e).some((t=>BT(e[t])));const oP=["top","bottom","left","right","chartArea"];function aP(e,t){return"top"===e||"bottom"===e||-1===oP.indexOf(e)&&"x"===t}function lP(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function cP(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),jT(n&&n.onComplete,[e],t)}function uP(e){const t=e.chart,n=t.options.animation;jT(n&&n.onProgress,[e],t)}function hP(e){return FN()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const dP={},fP=e=>{const t=hP(e);return Object.values(dP).filter((e=>e.canvas===t)).pop()};function pP(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const s=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=s)}}}function mP(e,t,n){return e.options.clip?e[n]:t[n]}class gP{static register(){BA.add(...arguments),yP()}static unregister(){BA.remove(...arguments),yP()}constructor(e,t){const n=this.config=new iP(t),i=hP(e),r=fP(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!FN()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?fA:NA}(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=wT(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],dP[this.id]=this,o&&a?(uj.listen(this,"complete",cP),uj.listen(this,"progress",uP),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return _T(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return BA}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():KN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return YC(this.canvas,this.ctx),this}stop(){return uj.stop(this),this}resize(e,t){uj.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,KN(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),jT(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){AT(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=YA(e,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),AT(r,(t=>{const r=t.options,s=r.id,o=YA(s,r),a=CT(r.type,t.dtype);void 0!==r.position&&aP(r.position,o)===aP(t.dposition)||(r.position=t.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(BA.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,e)})),AT(i,((e,t)=>{e||delete n[t]})),AT(n,(e=>{hA.configure(this,e,e.options),hA.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(lP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||GA(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=BA.getController(s),{datasetElementType:i,dataElementType:o}=WC.datasets[s];Object.assign(t,{dataElementType:BA.getElement(o),datasetElementType:i&&BA.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){AT(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||AT(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lP("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){AT(this.scales,(e=>{hA.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);HT(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t){pP(e,i,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let r=1;r<t;r++)if(!HT(i,n(r)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;hA.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],AT(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,BT(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(uj.has(this)?this.attached&&!uj.running(this)&&uj.start(this):(this.draw(),cP({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=function(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:mP(n,t,"left"),right:mP(n,t,"right"),top:mP(i,t,"top"),bottom:mP(i,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&JC(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&ZC(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return $C(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=Jj.modes[t];return"function"===typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=gN(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),s=r.controller._resolveAnimations(void 0,i);UT(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),uj.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),YC(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete dP[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};AT(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){AT(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},AT(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[n],index:n}}));!PT(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=r(t,e),o=n?e:r(e,t);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,s=t,o=this._getActiveElements(e,i,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,jT(r.onHover,[e,o,this],this),a&&jT(r.onClick,[e,o,this],this));const c=!PT(o,i);return(c||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function yP(){return AT(gP.instances,(e=>e._plugins.invalidate()))}function vP(e,t,n,i){const r=uN(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,o=Math.min(s,i*t/2),a=e=>{const t=(n-Math.min(s,e))*i/2;return dC(e,0,Math.min(s,t))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:dC(r.innerStart,0,o),innerEnd:dC(r.innerEnd,0,o)}}function bP(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function xP(e,t,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const e=((u>0?u-i:0)+(h>0?h-i:0))/2;f=(p-(0!==e?p*e/(e+i):p))/2}const m=(p-Math.max(.001,p*h-n/WT)/h)/2,g=l+m+f,y=r-m-f,{outerStart:v,outerEnd:b,innerStart:x,innerEnd:w}=vP(t,d,h,y-g),_=h-v,S=h-b,k=g+v/_,E=y-b/S,T=d+x,C=d+w,N=g+x/T,j=y-w/C;if(e.beginPath(),s){const t=(k+E)/2;if(e.arc(o,a,h,k,t),e.arc(o,a,h,t,E),b>0){const t=bP(S,E,o,a);e.arc(t.x,t.y,b,E,y+XT)}const n=bP(C,y,o,a);if(e.lineTo(n.x,n.y),w>0){const t=bP(C,j,o,a);e.arc(t.x,t.y,w,y+XT,j+Math.PI)}const i=(y-w/d+(g+x/d))/2;if(e.arc(o,a,d,y-w/d,i,!0),e.arc(o,a,d,i,g+x/d,!0),x>0){const t=bP(T,N,o,a);e.arc(t.x,t.y,x,N+Math.PI,g-XT)}const r=bP(_,g,o,a);if(e.lineTo(r.x,r.y),v>0){const t=bP(_,k,o,a);e.arc(t.x,t.y,v,g-XT,k)}}else{e.moveTo(o,a);const t=Math.cos(k)*h+o,n=Math.sin(k)*h+a;e.lineTo(t,n);const i=Math.cos(E)*h+o,r=Math.sin(E)*h+a;e.lineTo(i,r)}e.closePath()}function wP(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(s){xP(e,t,n,i,p,r);for(let t=0;t<s;++t)e.stroke();isNaN(a)||(p=o+(a%qT||qT))}f&&function(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(s,o,a,i-c,n+c),l>r?(c=r/l,e.arc(s,o,l,n+c,i-c,!0)):e.arc(s,o,r,n+XT,i-XT),e.closePath(),e.clip()}(e,t,p),s||(xP(e,t,n,i,p,r),e.stroke())}Pt(gP,"defaults",WC),Pt(gP,"instances",dP),Pt(gP,"overrides",VC),Pt(gP,"registry",BA),Pt(gP,"version","4.4.7"),Pt(gP,"getChart",fP);class _P extends jA{constructor(e){super(),Pt(this,"circumference",void 0),Pt(this,"endAngle",void 0),Pt(this,"fullCircles",void 0),Pt(this,"innerRadius",void 0),Pt(this,"outerRadius",void 0),Pt(this,"pixelMargin",void 0),Pt(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=aC(i,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=CT(u,a-o),f=hC(r,o,a)&&o!==a,p=d>=qT||f,m=fC(s,l+h,c+h);return p&&m}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,r=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>qT?Math.floor(n/qT):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*i,Math.sin(o)*i);const a=i*(1-Math.sin(Math.min(WT,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){xP(e,t,n,i,l,r);for(let t=0;t<s;++t)e.fill();isNaN(a)||(l=o+(a%qT||qT))}xP(e,t,n,i,l,r),e.fill()}(e,this,a,r,s),wP(e,this,a,r,s),e.restore()}}function SP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=CT(n.borderCapStyle,t.borderCapStyle),e.setLineDash(CT(n.borderDash,t.borderDash)),e.lineDashOffset=CT(n.borderDashOffset,t.borderDashOffset),e.lineJoin=CT(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=CT(n.borderWidth,t.borderWidth),e.strokeStyle=CT(n.borderColor,t.borderColor)}function kP(e,t,n){e.lineTo(n.x,n.y)}function EP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function TP(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=EP(r,n,i),u=function(e){return e.stepped?eN:e.tension||"monotone"===e.cubicInterpolationMode?tN:kP}(s);let h,d,f,{move:p=!0,reverse:m}=i||{};for(h=0;h<=c;++h)d=r[(a+(m?c-h:h))%o],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,m,s.stepped),f=d);return l&&(d=r[(a+(m?c:0))%o],u(e,f,d,m,s.stepped)),!!l}function CP(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=EP(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,m,g=0,y=0;const v=e=>(o+(c?a-e:e))%s,b=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(h=r[v(0)],e.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[v(u)],h.skip)continue;const t=h.x,n=h.y,i=0|t;i===d?(n<f?f=n:n>p&&(p=n),g=(y*g+t)/++y):(b(),e.lineTo(t,n),d=i,y=0,f=p=n),m=n}b()}function NP(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?CP:TP}Pt(_P,"id","arc"),Pt(_P,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Pt(_P,"defaultRoutes",{backgroundColor:"backgroundColor"}),Pt(_P,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const jP="function"===typeof Path2D;function AP(e,t,n,i){jP&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),SP(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:s}=t,o=NP(t);for(const a of r)SP(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}class PP extends jA{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;LN(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}(n,r,s,i);return oj(e,!0===i?[{start:o,end:a,loop:s}]:function(e,t,n,i){const r=e.length,s=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:t%r,end:(o-1)%r,loop:i}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(n,o,a<o?a+r:a,!!e._fullLoop&&0===o&&a===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,s=sj(this,{property:t,start:i,end:i});if(!s.length)return;const o=[],a=function(e){return e.stepped?$N:e.tension||"monotone"===e.cubicInterpolationMode?JN:QN}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((i-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],o.push(f)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return NP(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=NP(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)s&=r(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),AP(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function IP(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}Pt(PP,"id","line"),Pt(PP,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Pt(PP,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Pt(PP,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class DP extends jA{constructor(e){super(),Pt(this,"parsed",void 0),Pt(this,"skip",void 0),Pt(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return IP(this,e,"x",t)}inYRange(e,t){return IP(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!$C(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,XC(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function MP(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function OP(e,t,n,i){return e?0:dC(t,n,i)}function RP(e){const t=MP(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,s=hN(i);return{t:OP(r.top,s.top,0,n),r:OP(r.right,s.right,0,t),b:OP(r.bottom,s.bottom,0,n),l:OP(r.left,s.left,0,t)}}(e,n/2,i/2),s=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=dN(r),o=Math.min(t,n),a=e.borderSkipped,l=i||kT(r);return{topLeft:OP(!l||a.top||a.left,s.topLeft,0,o),topRight:OP(!l||a.top||a.right,s.topRight,0,o),bottomLeft:OP(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:OP(!l||a.bottom||a.right,s.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function LP(e,t,n,i){const r=null===t,s=null===n,o=e&&!(r&&s)&&MP(e,i);return o&&(r||fC(t,o.left,o.right))&&(s||fC(n,o.top,o.bottom))}function FP(e,t){e.rect(t.x,t.y,t.w,t.h)}function VP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+s,h:e.h+o,radius:e.radius}}Pt(DP,"id","point"),Pt(DP,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Pt(DP,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class zP extends jA{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=RP(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?sN:FP;var a;e.save(),s.w===r.w&&s.h===r.h||(e.beginPath(),o(e,VP(s,t,r)),e.clip(),o(e,VP(r,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,VP(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return LP(this,e,t,n)}inXRange(e,t){return LP(this,e,null,t)}inYRange(e,t){return LP(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Pt(zP,"id","bar"),Pt(zP,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Pt(zP,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function UP(e,t,n,i){if(i)return;let r=t[e],s=n[e];return"angle"===e&&(r=uC(r),s=uC(s)),{property:e,start:r,end:s}}function BP(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function HP(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function WP(e,t){let n=[],i=!1;return ST(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach((e=>{let{start:t,end:o}=e;o=BP(t,o,r);const a=r[t],l=r[o];null!==i?(s.push({x:a.x,y:i}),s.push({x:l.x,y:i})):null!==n&&(s.push({x:n,y:a.y}),s.push({x:n,y:l.y}))})),s}(e,t),n.length?new PP({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function qP(e){return e&&!1!==e.fill}function GP(e,t,n){let i=e[t].fill;const r=[t];let s;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!ET(i))return i;if(s=e[i],!s)return!1;if(s.visible)return i;r.push(i),i=s.fill}return!1}function KP(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=CT(n&&n.target,n);void 0===i&&(i=!!t.backgroundColor);if(!1===i||null===i)return!1;if(!0===i)return"origin";return i}(e);if(kT(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return ET(r)&&Math.floor(r)===r?function(e,t,n,i){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=i)return!1;return n}(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function YP(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=XP(s,t,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(e.push(l),!a)break}e.push(...i)}function XP(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const e=s[c],t=o[e.start][n],i=o[e.end][n];if(fC(r,t,i)){a=r===t,l=r===i;break}}return{first:a,last:l,point:i}}class QP{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:s}=this;return t=t||{start:0,end:qT},e.arc(i,r,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function $P(e){const{chart:t,fill:n,line:i}=e;if(ET(n))return function(e,t){const n=e.getDatasetMeta(t),i=n&&e.isDatasetVisible(t);return i?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,o=i.points,a=function(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const e=i[r];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);a.push(WP({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const e=s[l];for(let t=e.start;t<=e.end;t++)YP(r,o[t],a)}return new PP({points:r,options:{}})}(e);if("shape"===n)return!0;const r=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:kT(e)?e.value:t.getBaseValue(),i}(n,t,s),a=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,s);return new QP({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}(e);return function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:kT(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(ET(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return r instanceof QP?r:WP(r,i)}function JP(e,t,n){const i=$P(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(JC(e,n),function(e,t){const{line:n,target:i,above:r,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&s!==r&&(ZP(e,i,o.top),eI(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),ZP(e,i,o.bottom));eI(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore()}(e,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),ZC(e))}function ZP(e,t,n){const{segments:i,points:r}=t;let s=!0,o=!1;e.beginPath();for(const a of i){const{start:i,end:l}=a,c=r[i],u=r[BP(i,l,r)];s?(e.moveTo(c.x,c.y),s=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function eI(e,t){const{line:n,target:i,property:r,color:s,scale:o}=t,a=function(e,t,n){const i=e.segments,r=e.points,s=t.points,o=[];for(const a of i){let{start:e,end:i}=a;i=BP(e,i,r);const l=UP(n,r[e],r[i],a.loop);if(!t.segments){o.push({source:a,target:l,start:r[e],end:r[i]});continue}const c=sj(t,l);for(const t of c){const e=UP(n,s[t.start],s[t.end],t.loop),i=rj(a,r,e);for(const r of i)o.push({source:r,target:t,start:{[n]:HP(l,e,"start",Math.max)},end:{[n]:HP(l,e,"end",Math.min)}})}}return o}(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:t=s}={}}=l,a=!0!==i;e.save(),e.fillStyle=t,tI(e,o,a&&UP(r,u,h)),e.beginPath();const d=!!n.pathSegment(e,l);let f;if(a){d?e.closePath():nI(e,i,h,r);const t=!!i.pathSegment(e,c,{move:d,reverse:!0});f=d&&t,f||nI(e,i,u,r)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function tI(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(e.beginPath(),e.rect(o,i,a-o,r-i),e.clip())}function nI(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var iI={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof PP&&(l={visible:e.isDatasetVisible(o),index:o,fill:KP(a,o,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=GP(r,o,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const t=r[o].$filler;t&&(t.line.updateControlPoints(s,t.axis),i&&t.fill&&JP(e.ctx,t,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const t=i[r].$filler;qP(t)&&JP(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;qP(i)&&"beforeDatasetDraw"===n.drawTime&&JP(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rI=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class sI extends jA{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=jT(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=pN(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=rI(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=e;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+r.measureText(e.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+o})),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,i,r){const s=function(e,t,n,i){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+i.measureText(r).width}(i,e,t,n),o=function(e,t,n){let i=e;"string"!==typeof t.text&&(i=oI(t,n));return i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,r,e,i);s>0&&d+g+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,s=ZN(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=SC(n,this.left+i,this.right-this.lineWidths[r]);for(const a of t)r!==a.row&&(r=a.row,o=SC(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+e+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=SC(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const a of t)a.col!==r&&(r=a.col,o=SC(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;JC(e,this),this._draw(),ZC(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:s}=e,o=WC.color,a=ZN(e.rtl,this.left,this.width),l=pN(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=rI(s,u),g=this.isHorizontal(),y=this._computeTitleHeight();d=g?{x:SC(r,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:SC(r,this.top+y+c,this.bottom-t[0].height),line:0},ej(this.ctx,e.textDirection);const v=m+c;this.legendItems.forEach(((b,x)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const w=i.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),S=f+h+w;let k=d.x,E=d.y;a.setWidth(this.width),g?x>0&&k+S+c>this.right&&(E=d.y+=v,d.line++,k=d.x=SC(r,this.left+c,this.right-n[d.line])):x>0&&E+v>this.bottom&&(k=d.x=k+t[d.line].width+c,d.line++,E=d.y=SC(r,this.top+y+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=CT(n.lineWidth,1);if(i.fillStyle=CT(n.fillStyle,o),i.lineCap=CT(n.lineCap,"butt"),i.lineDashOffset=CT(n.lineDashOffset,0),i.lineJoin=CT(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=CT(n.strokeStyle,o),i.setLineDash(CT(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(e,f/2);QC(i,o,l,t+h,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),o=a.leftForLtr(e,f),l=dN(n.borderRadius);i.beginPath(),Object.values(l).some((e=>0!==e))?sN(i,{x:o,y:s,w:f,h:p,radius:l}):i.rect(o,s,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(k),E,b),k=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(_,k+f+h,g?k+S:this.right,e.rtl),function(e,t,n){rN(i,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(k),E,b),g)d.x+=S+c;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=oI(b,e)+c}else d.y+=v})),tj(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=pN(t.font),i=fN(t.padding);if(!t.display)return;const r=ZN(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=SC(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+SC(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=SC(o,u,u+h);s.textAlign=r.textAlign(_C(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,rN(s,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=pN(e.font),n=fN(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(fC(e,this.left,this.right)&&fC(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],fC(e,i.left,i.left+i.width)&&fC(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(i,n);i&&!r&&jT(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&jT(t.onHover,[e,n,this],this)}else n&&jT(t.onClick,[e,n,this],this)}}function oI(e,t){return t*(e.text?e.text.length:0)}var aI={id:"legend",_element:sI,start(e,t,n){const i=e.legend=new sI({ctx:e.ctx,options:n,chart:e});hA.configure(e,i,n),hA.addBox(e,i)},stop(e){hA.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;hA.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=fN(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class lI extends jA{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=ST(n.text)?n.text.length:1;this._padding=fN(n.padding);const r=i*pN(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=SC(o,n,r),c=t+e,a=r-n):("left"===s.position?(l=n+e,c=SC(o,i,t),u=-.5*WT):(l=r-e,c=SC(o,t,i),u=.5*WT),a=i-t),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=pN(t.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(i);rN(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:_C(t.align),textBaseline:"middle",translation:[r,s]})}}var cI={id:"title",_element:lI,start(e,t,n){!function(e,t){const n=new lI({ctx:e.ctx,options:t,chart:e});hA.configure(e,n,t),hA.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;hA.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;hA.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const uI={average(e){if(!e.length)return!1;let t,n,i=new Set,r=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i.add(e.x),r+=e.y,++s}}if(0===s||0===i.size)return!1;const o=[...i].reduce(((e,t)=>e+t))/i.size;return{x:o,y:r/s}},nearest(e,t){if(!e.length)return!1;let n,i,r,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=lC(t,i.getCenterPoint());e<a&&(a=e,r=i)}}if(r){const e=r.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function hI(e,t){return t&&(ST(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function dI(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function fI(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function pI(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=pN(t.bodyFont),c=pN(t.titleFont),u=pN(t.footerFont),h=s.length,d=r.length,f=i.length,p=fN(t.padding);let m=p.height,g=0,y=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){m+=f*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let v=0;const b=function(e){g=Math.max(g,n.measureText(e).width+v)};return n.save(),n.font=c.string,AT(e.title,b),n.font=l.string,AT(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?o+2+t.boxPadding:0,AT(i,(e=>{AT(e.before,b),AT(e.lines,b),AT(e.after,b)})),v=0,n.font=u.string,AT(e.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function mI(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+s+o>t.width||"right"===e&&r-s-o<0||void 0}(c,e,t,n)&&(c="center"),c}function gI(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||mI(e,t,n,i),yAlign:i}}function yI(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=dN(o);let p=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const m=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:dC(p,0,i.width-t.width),y:dC(m,0,i.height-t.height)}}function vI(e,t,n){const i=fN(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function bI(e){return hI([],dI(e))}function xI(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const wI={beforeTitle:xT,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:xT,beforeBody:xT,beforeLabel:xT,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return _T(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xT,afterBody:xT,beforeFooter:xT,footer:xT,afterFooter:xT};function _I(e,t,n,i){const r=e[t].call(n,i);return"undefined"===typeof r?wI[t].call(n,i):r}class SI extends jA{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new pj(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,gN(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,i=_I(n,"beforeTitle",this,e),r=_I(n,"title",this,e),s=_I(n,"afterTitle",this,e);let o=[];return o=hI(o,dI(i)),o=hI(o,dI(r)),o=hI(o,dI(s)),o}getBeforeBody(e,t){return bI(_I(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return AT(e,(e=>{const t={before:[],lines:[],after:[]},r=xI(n,e);hI(t.before,dI(_I(r,"beforeLabel",this,e))),hI(t.lines,_I(r,"label",this,e)),hI(t.after,dI(_I(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return bI(_I(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,i=_I(n,"beforeFooter",this,e),r=_I(n,"footer",this,e),s=_I(n,"afterFooter",this,e);let o=[];return o=hI(o,dI(i)),o=hI(o,dI(r)),o=hI(o,dI(s)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(fI(this.chart,t[o]));return e.filter&&(l=l.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(l=l.sort(((t,i)=>e.itemSort(t,i,n)))),AT(l,(t=>{const n=xI(e.callbacks,t);i.push(_I(n,"labelColor",this,t)),r.push(_I(n,"labelPointStyle",this,t)),s.push(_I(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const e=uI[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=pI(this,n),o=Object.assign({},e,t),a=gI(this.chart,n,o),l=yI(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=dN(o),{x:h,y:d}=e,{width:f,height:p}=t;let m,g,y,v,b,x;return"center"===r?(b=d+p/2,"left"===i?(m=h,g=m-s,v=b+s,x=b-s):(m=h+f,g=m+s,v=b-s,x=b+s),y=m):(g="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(v=d,b=v-s,m=g-s,y=g+s):(v=d+p,b=v+s,m=g+s,y=g-s),x=v),{x1:m,x2:g,x3:y,y1:v,y2:b,y3:x}}drawTitle(e,t,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=ZN(n.rtl,this.x,this.width);for(e.x=vI(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=pN(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=pN(r.bodyFont),u=vI(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=t.y+d;if(r.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,XC(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,XC(e,t,n,c)}else{e.lineWidth=kT(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),o=dN(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,sN(e,{x:t,y:f,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),sN(e,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,f,l,a),e.strokeRect(t,f,l,a),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=pN(n.bodyFont);let h=u.lineHeight,d=0;const f=ZN(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+r},m=f.textAlign(s);let g,y,v,b,x,w,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=vI(this,m,n),t.fillStyle=n.bodyColor,AT(this.beforeBody,p),d=o&&"right"!==m?"center"===s?l/2+c:l+2+c:0,b=0,w=i.length;b<w;++b){for(g=i[b],y=this.labelTextColors[b],t.fillStyle=y,AT(g.before,p),v=g.lines,o&&v.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,a)),x=0,_=v.length;x<_;++x)p(v[x]),h=u.lineHeight;AT(g.after,p)}d=0,h=u.lineHeight,AT(this.afterBody,p),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let s,o;if(r){const a=ZN(n.rtl,this.x,this.width);for(e.x=vI(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=pN(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<r;++o)t.fillText(i[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=dN(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+l-h,a),t.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+l,a+c-f),t.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(e,t,n,i),t.lineTo(o+d,a+c),t.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=uI[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=pI(this,e),o=Object.assign({},n,this._size),a=gI(t,e,o),l=yI(e,o,a,t);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=fN(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),ej(e,t.textDirection),r.y+=s.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),tj(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((e=>{let{datasetIndex:t,index:n}=e;const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[n],index:n}})),r=!PT(n,i),s=this._positionChanged(i,t);(r||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(e,r,t,n),o=this._positionChanged(s,e),a=t||!PT(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,s=uI[r.position].call(this,e,t);return!1!==s&&(n!==s.x||i!==s.y)}}Pt(SI,"positioners",uI);var kI={id:"tooltip",_element:SI,positioners:uI,afterInit(e,t,n){n&&(e.tooltip=new SI({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Dt(Dt({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function EI(e,t,n,i){const r=e.indexOf(t);if(-1===r)return((e,t,n,i)=>("string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i);return r!==e.lastIndexOf(t)?n:r}function TI(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class CI extends VA{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(_T(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:dC(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:EI(n,e,CT(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)i.push({value:s});return i}getLabelForValue(e){return TI.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function NI(e,t){const n=[],{bounds:i,step:r,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=r||1,f=c-1,{min:p,max:m}=t,g=!_T(s),y=!_T(o),v=!_T(l),b=(m-p)/(u+1);let x,w,_,S,k=tC((m-p)/f/d)*d;if(k<1e-14&&!g&&!y)return[{value:p},{value:m}];S=Math.ceil(m/k)-Math.floor(p/k),S>f&&(k=tC(S*k/f/d)*d),_T(a)||(x=Math.pow(10,a),k=Math.ceil(k*x)/x),"ticks"===i?(w=Math.floor(p/k)*k,_=Math.ceil(m/k)*k):(w=p,_=m),g&&y&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/r,k/1e3)?(S=Math.round(Math.min((o-s)/k,c)),k=(o-s)/S,w=s,_=o):v?(w=g?s:w,_=y?o:_,S=l-1,k=(_-w)/S):(S=(_-w)/k,S=eC(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(oC(k),oC(w));x=Math.pow(10,_T(a)?E:a),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let T=0;for(g&&(h&&w!==s?(n.push({value:s}),w<s&&T++,eC(Math.round((w+T*k)*x)/x,s,jI(s,b,e))&&T++):w<s&&T++);T<S;++T){const e=Math.round((w+T*k)*x)/x;if(y&&e>o)break;n.push({value:e})}return y&&h&&_!==o?n.length&&eC(n[n.length-1].value,o,jI(o,b,e))?n[n.length-1].value=o:n.push({value:o}):y&&_!==o||n.push({value:_}),n}function jI(e,t,n){let{horizontal:i,minRotation:r}=n;const s=rC(r),o=(i?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}Pt(CI,"id","category"),Pt(CI,"defaults",{ticks:{callback:TI}});class AI extends VA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return _T(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=ZT(i),t=ZT(r);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(i===r){let t=0===r?1:Math.abs(.05*r);o(r+t),e||s(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=NI({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&iC(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return RC(e,this.chart.options.locale,this.options.ticks.format)}}class PI extends AI{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ET(e)?e:0,this.max=ET(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=rC(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Pt(PI,"id","linear"),Pt(PI,"defaults",{ticks:{callback:FC.formatters.numeric}});const II=e=>Math.floor(JT(e)),DI=(e,t)=>Math.pow(10,II(e)+t);function MI(e){return 1===e/Math.pow(10,II(e))}function OI(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function RI(e,t){let{min:n,max:i}=t;n=TT(e.min,n);const r=[],s=II(n);let o=function(e,t){let n=II(t-e);for(;OI(e,t,n)>10;)n++;for(;OI(e,t,n)<10;)n--;return Math.min(n,II(e))}(n,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=TT(e.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<i;)r.push({value:f,major:MI(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=TT(e.max,f);return r.push({value:p,major:MI(p),significand:d}),r}class LI extends VA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=AI.prototype.parse.apply(this,[e,t]);if(0!==n)return ET(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ET(e)?Math.max(0,e):null,this.max=ET(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ET(this._userMin)&&(this.min=e===DI(this.min,0)?DI(this.min,-1):DI(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,s=e=>i=t?i:e;n===i&&(n<=0?(r(1),s(10)):(r(DI(n,-1)),s(DI(i,1)))),n<=0&&r(DI(i,-1)),i<=0&&s(DI(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=RI({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&iC(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":RC(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=JT(e),this._valueRange=JT(this.max)-JT(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(JT(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function FI(e){const t=e.ticks;if(t.display&&e.display){const e=fN(t.backdropPadding);return CT(t.font&&t.font.size,WC.font.size)+e.height}return 0}function VI(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function zI(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?WT/s:0;for(let h=0;h<s;h++){const s=o.setContext(e.getPointLabelContext(h));r[h]=s.padding;const d=e.getPointPosition(h,e.drawingArea+r[h],a),f=pN(s.font),p=(l=e.ctx,c=f,u=ST(u=e._pointLabels[h])?u:[u],{w:GC(l,c.string,u),h:u.length*c.lineHeight});i[h]=p;const m=uC(e.getIndexAngle(h)+a),g=Math.round(sC(m));UI(n,t,m,VI(g,d.x,p.w,0,180),VI(g,d.y,p.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:FI(s)/2,additionalAngle:o?WT/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=t[u];const r=BI(e,u,l);i.push(r),"auto"===a&&(r.visible=HI(r,c),r.visible&&(c=r))}return i}(e,i,r)}function UI(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function BI(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,i+r+o,s),c=Math.round(sC(uC(l.angle+XT))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,a.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function HI(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!($C({x:n,y:i},t)||$C({x:n,y:s},t)||$C({x:r,y:i},t)||$C({x:r,y:s},t))}function WI(e,t,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=t;if(!_T(a)){const n=dN(t.borderRadius),l=fN(t.backdropPadding);e.fillStyle=a;const c=i-l.left,u=r-l.top,h=s-i+l.width,d=o-r+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),sN(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function qI(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,qT);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=e.getPointPosition(s,t),r.lineTo(n.x,n.y)}}Pt(LI,"id","logarithmic"),Pt(LI,"defaults",{ticks:{callback:FC.formatters.logarithmic,major:{enabled:!0}}});class GI extends AI{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=fN(FI(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ET(e)&&!isNaN(e)?e:0,this.max=ET(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/FI(this.options))}generateTickLabels(e){AI.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=jT(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?zI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return uC(e*(qT/(this._pointLabels.length||1))+rC(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(_T(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(_T(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return gN(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=this.getIndexAngle(e)-XT+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),qI(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i,border:r}=t,s=this._pointLabels.length;let o,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const s=i.setContext(e.getPointLabelContext(r));WI(n,s,t);const o=pN(s.font),{x:a,y:l,textAlign:c}=t;rN(n,e._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),o=i.setContext(n),l=r.setContext(n);!function(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),qI(e,n,o,i),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(e.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(e.lineWidth=s,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&this.min>=0&&!t.reverse)return;const a=n.setContext(this.getContext(o)),l=pN(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){e.font=l.string,s=e.measureText(i.label).width,e.fillStyle=a.backdropColor;const t=fN(a.backdropPadding);e.fillRect(-s/2-t.left,-r-l.size/2-t.top,s+t.width,l.size+t.height)}rN(e,i.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}Pt(GI,"id","radialLinear"),Pt(GI,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:FC.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),Pt(GI,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Pt(GI,"descriptors",{angleLines:{_fallback:"grid"}});const KI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},YI=Object.keys(KI);function XI(e,t){return e-t}function QI(e,t){if(_T(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return"function"===typeof i&&(o=i(o)),ET(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!nC(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function $I(e,t,n,i){const r=YI.length;for(let s=YI.indexOf(e);s<r-1;++s){const e=KI[YI[s]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return YI[s]}return YI[r-1]}function JI(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=pC(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function ZI(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class eD extends VA{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),i=this._adapter=new qj(e.adapters.date);i.init(t),RT(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:QI(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||(i=Math.min(i,e.min)),o||isNaN(e.max)||(r=Math.max(r,e.max))}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),i=ET(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=ET(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?$I(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let s=YI.length-1;s>=YI.indexOf(n);s--){const n=YI[s];if(KI[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return YI[n?YI.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=YI.indexOf(e)+1,n=YI.length;t<n;++t)if(KI[YI[t]].common)return YI[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&s.reverse(),ZI(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),r=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;i=dC(i,0,s),r=dC(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||$I(r.minUnit,t,n,this._getLabelCapacity(t)),o=CT(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=nC(a)||!0===a,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,l?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,o,s),h++)JI(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||JI(c,u,f),Object.keys(c).sort(XI).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}_tickFormatFunction(e,t,n,i){const r=this.options,s=r.ticks.callback;if(s)return jT(s,[e,t,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,i||(d?u:c))}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=rC(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,ZI(this,[e],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(QI(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bC(e.sort(XI))}}function tD(e,t,n){let i,r,s,o,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=mC(e,"pos",t)),({pos:i,time:s}=e[a]),({pos:r,time:o}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=mC(e,"time",t)),({time:i,pos:s}=e[a]),({time:r,pos:o}=e[l]));const c=r-i;return c?s+(o-s)*(t-i)/c:s}Pt(eD,"id","time"),Pt(eD,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class nD extends eD{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=tD(t,this.min),this._tableRange=tD(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;++s)l=e[s],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(tD(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return tD(this._table,n*this._tableRange+this._minPos,!0)}}Pt(nD,"id","timeseries"),Pt(nD,"defaults",eD.defaults);const iD=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],rD="label";function sD(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function oD(e,t){e.labels=t}function aD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rD;const i=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[n]===t[n]));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):Dt({},t)}))}function lD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rD;const n={labels:[],datasets:[]};return oD(n,e.labels),aD(n,e.datasets,t),n}function cD(e,n){const{height:i=150,width:r=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d}=e,f=Wm(e,iD),p=(0,t.useRef)(null),m=(0,t.useRef)(null),g=()=>{p.current&&(m.current=new gP(p.current,{type:a,data:lD(l,o),options:c&&Dt({},c),plugins:u}),sD(n,m.current))},y=()=>{sD(n,null),m.current&&(m.current.destroy(),m.current=null)};return(0,t.useEffect)((()=>{!s&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[s,c]),(0,t.useEffect)((()=>{!s&&m.current&&oD(m.current.config.data,l.labels)}),[s,l.labels]),(0,t.useEffect)((()=>{!s&&m.current&&l.datasets&&aD(m.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,t.useEffect)((()=>{m.current&&(s?(y(),setTimeout(g)):m.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,t.useEffect)((()=>{m.current&&(y(),setTimeout(g))}),[a]),(0,t.useEffect)((()=>(g(),()=>y())),[]),t.createElement("canvas",Dt({ref:p,role:"img",height:i,width:r},f),h)}const uD=(0,t.forwardRef)(cD);function hD(e,n){return gP.register(n),(0,t.forwardRef)(((n,i)=>t.createElement(uD,Dt(Dt({},n),{},{ref:i,type:e}))))}const dD=hD("line",Fj);gP.register(CI,PI,DP,PP,cI,kI,aI,iI);const fD=()=>{const{userClasses:e,loading:n}=Ok(),[i,r]=(0,t.useState)(!1),[s,o]=(0,t.useState)("JULY 2021"),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),h=t.useRef({AthenaImage:Ak}),d=t.useRef({AthenaImage:Ak}),f={days:["Mo","Tu","We","Th","Fr","Sa","Su"],dates:[[null,null,null,1,2,3,4],[5,6,7,8,9,10,11],[12,13,14,15,16,17,18],[19,20,21,22,23,24,25],[26,27,28,29,30,31,null]],events:{8:{type:"tutorial",color:"bg-blue-500"},13:{type:"test",color:"bg-pink-500"},18:{type:"assignment",color:"bg-green-500"},23:{type:"tutorial",color:"bg-orange-500"}}},p=72,m="Trigonometric Homework 3";return n?(0,Lm.jsx)("div",{className:"p-6",children:"Loading..."}):(0,Lm.jsxs)("div",{className:"min-h-screen bg-black",style:{height:"100%",width:"105%"},children:[(0,Lm.jsx)("div",{className:"bg-gray-900 shadow-sm",children:(0,Lm.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-2",children:(0,Lm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Lm.jsxs)("div",{className:"relative flex-1 max-w-2xl",children:[(0,Lm.jsx)(gE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-yellow-400"}),(0,Lm.jsx)("input",{type:"text",placeholder:"Search Courses, Documents, Activities...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-black border border-gray-800 text-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent placeholder-gray-600"})]}),(0,Lm.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Lm.jsxs)("button",{className:"p-2 relative hover:bg-gray-800 rounded-full transition-colors duration-200",children:[(0,Lm.jsx)(zk,{className:"text-yellow-400 text-xl"}),(0,Lm.jsx)("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse"})]}),(0,Lm.jsx)("button",{className:"w-14 h-7 rounded-full bg-gray-200 flex items-center transition-all duration-300 focus:outline-none shadow-inner p-1",onClick:()=>r(!i),children:(0,Lm.jsx)("span",{className:"w-5 h-5 rounded-full transform transition-transform duration-300 shadow-md ".concat(i?"translate-x-7 bg-blue-500":"translate-x-0 bg-white")})}),(0,Lm.jsxs)("div",{className:"flex items-center gap-3 border-l border-gray-800 pl-6",children:[(0,Lm.jsx)("input",{type:"file",ref:h,onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{l(e.result)},e.readAsDataURL(t)}},accept:"image/*",className:"hidden"}),(0,Lm.jsxs)("button",{onClick:()=>h.current.click(),className:"relative group",children:[(0,Lm.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden ring-2 ring-yellow-400 ring-offset-2 ring-offset-black",children:a?(0,Lm.jsx)("img",{src:a,alt:"User Avatar",className:"w-full h-full object-cover"}):(0,Lm.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-yellow-400 to-yellow-500 flex items-center justify-center text-black text-lg font-semibold",children:"AT"})}),(0,Lm.jsx)("div",{className:"absolute inset-0 rounded-full bg-black opacity-0 group-hover:opacity-30 transition-opacity duration-200 flex items-center justify-center",children:(0,Lm.jsx)("span",{className:"text-white text-xs opacity-0 group-hover:opacity-100",children:"Edit"})})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("span",{className:"font-semibold text-yellow-400",children:"Athena"}),(0,Lm.jsx)("p",{className:"text-xs text-yellow-400/70",children:"Professor"})]}),(0,Lm.jsx)(Kk,{className:"text-yellow-400 ml-2 cursor-pointer hover:text-yellow-500"})]})]})]})})}),(0,Lm.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,Lm.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,Lm.jsxs)("div",{className:"col-span-9",children:[(0,Lm.jsxs)("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-black relative overflow-hidden shadow-lg",children:[(0,Lm.jsxs)("div",{className:"relative z-10 flex items-center gap-6",children:[(0,Lm.jsxs)("div",{className:"flex-1",children:[(0,Lm.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Welcome back, Athena \ud83d\udc4b"}),(0,Lm.jsxs)("p",{className:"text-black/80",children:["The students have a ",(0,Lm.jsxs)("span",{className:"font-semibold text-black",children:[p,"%"]})," mastery on ",m]})]}),(0,Lm.jsxs)("div",{className:"relative",children:[(0,Lm.jsx)("input",{type:"file",ref:d,onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{u(e.result)},e.readAsDataURL(t)}},accept:"image/*",className:"hidden",id:"welcome-image-upload"}),(0,Lm.jsxs)("label",{htmlFor:"welcome-image-upload",className:"cursor-pointer group block",children:[(0,Lm.jsx)("div",{className:"w-24 h-24 rounded-xl overflow-hidden ring-2 ring-white/30 hover:ring-white/50 transition-all duration-200",children:c?(0,Lm.jsx)("img",{src:c,alt:"Welcome",className:"w-full h-full object-cover"}):(0,Lm.jsxs)("div",{className:"w-full h-full bg-white/10 backdrop-blur-sm flex flex-col items-center justify-center",children:[(0,Lm.jsx)("svg",{className:"w-8 h-8 text-white/70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Lm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Lm.jsx)("span",{className:"text-xs text-white/70 mt-1",children:"Upload Photo"})]})}),(0,Lm.jsx)("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-xl flex items-center justify-center",children:(0,Lm.jsx)("span",{className:"text-white text-xs",children:"Change Photo"})})]})]})]}),(0,Lm.jsx)("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),(0,Lm.jsx)("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"})]}),(0,Lm.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Lm.jsxs)("div",{className:"bg-gray-900 rounded-xl p-4",style:{height:"350px"},children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold text-yellow-400",children:"Student Averages"}),(0,Lm.jsx)("select",{className:"text-sm border rounded-lg px-2 py-1 bg-black text-yellow-400 border-gray-800",children:(0,Lm.jsx)("option",{children:"Average"})})]}),(0,Lm.jsx)("div",{style:{height:"250px"},children:(0,Lm.jsx)(dD,{data:{labels:["1","2","3","4"],datasets:[{label:"Student Average",data:[2.8,1.9,2,3.5,2],fill:!0,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{min:0,max:8,ticks:{stepSize:1}}},elements:{point:{radius:4,hoverRadius:6}}}})})]}),(0,Lm.jsxs)("div",{className:"bg-gray-900 rounded-2xl p-4",style:{height:"350px"},children:[(0,Lm.jsx)("h2",{className:"text-lg font-semibold mb-3 text-yellow-400",children:"Student Mastery"}),(0,Lm.jsx)("div",{className:"max-h-60 overflow-y-auto pr-2",children:(0,Lm.jsx)("div",{className:"space-y-2",children:[{title:"Homework 3",subtitle:"Trigonometric",percentage:73},{title:"Social Insurance",subtitle:"Chapter 4",percentage:91},{title:"Advanced Maths",subtitle:"Module 2",percentage:25},{title:"Statistics",subtitle:"Chapter 2",percentage:85},{title:"Calculus",subtitle:"Module 1",percentage:68}].map(((e,t)=>(0,Lm.jsxs)("div",{className:"bg-black p-3 rounded-lg flex items-center justify-between",children:[(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("h3",{className:"font-medium text-sm text-yellow-400",children:e.title}),(0,Lm.jsx)("p",{className:"text-xs text-yellow-400/70",children:e.subtitle})]}),(0,Lm.jsxs)("div",{className:"w-12 h-12 relative flex-shrink-0",children:[(0,Lm.jsxs)("svg",{className:"w-full h-full transform -rotate-90",children:[(0,Lm.jsx)("circle",{cx:"24",cy:"24",r:"20",stroke:"#1F2937",strokeWidth:"6",fill:"none"}),(0,Lm.jsx)("circle",{cx:"24",cy:"24",r:"20",stroke:"#FBBF24",strokeWidth:"6",fill:"none",strokeDasharray:"".concat(2*Math.PI*20),strokeDashoffset:"".concat(2*Math.PI*20*(1-e.percentage/100))})]}),(0,Lm.jsxs)("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-yellow-400",children:[e.percentage,"%"]})]})]},t)))})})]})]}),(0,Lm.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Lm.jsxs)("div",{className:"bg-gray-900 rounded-xl p-6 shadow-lg",style:{height:"350px"},children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold bg-gradient-to-r from-yellow-400 to-yellow-500 bg-clip-text text-transparent",children:"Messages"}),(0,Lm.jsx)("button",{className:"text-yellow-400 hover:text-yellow-500 text-sm font-medium transition-colors duration-200",children:"View All"})]}),(0,Lm.jsx)("div",{className:"max-h-[270px] overflow-y-auto pr-2 custom-scrollbar",children:(0,Lm.jsx)("div",{className:"space-y-3",children:[{sender:"John Smith",message:"Submitted the assignment for review. Please check when you have time.",time:"2 hours ago",avatar:"JS",status:"online",isUnread:!0},{sender:"Sarah Johnson",message:"I have a question about the homework problem #3. Can we discuss?",time:"3 hours ago",avatar:"SJ",status:"offline",isUnread:!0},{sender:"Mike Williams",message:"Class has been rescheduled to next Monday due to the conference.",time:"5 hours ago",avatar:"MW",status:"online",isUnread:!1},{sender:"Emma Davis",message:"Project update: Team 3 has completed their presentation slides.",time:"Yesterday",avatar:"ED",status:"offline",isUnread:!1}].map(((e,t)=>(0,Lm.jsx)("div",{className:"bg-black p-4 rounded-xl hover:shadow-md transition-all duration-200 border-l-4 ".concat(e.isUnread?"border-yellow-400":"border-transparent"),children:(0,Lm.jsxs)("div",{className:"flex gap-3",children:[(0,Lm.jsxs)("div",{className:"relative",children:[(0,Lm.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-500 flex items-center justify-center text-black font-medium flex-shrink-0",children:e.avatar}),(0,Lm.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3.5 h-3.5 border-2 border-black rounded-full ".concat("online"===e.status?"bg-green-500":"bg-gray-400")})]}),(0,Lm.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Lm.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)("span",{className:"font-semibold text-yellow-400 truncate",children:e.sender}),e.isUnread&&(0,Lm.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full"})]}),(0,Lm.jsx)("span",{className:"text-xs text-yellow-400/70 whitespace-nowrap ml-2",children:e.time})]}),(0,Lm.jsx)("p",{className:"text-sm text-yellow-400/80 line-clamp-2",children:e.message})]})]})},t)))})})]}),(0,Lm.jsxs)("div",{className:"bg-gray-900 rounded-xl p-4",style:{height:"350px"},children:[(0,Lm.jsx)("h2",{className:"text-lg font-semibold mb-3 text-yellow-400",children:"Top Performing Students"}),(0,Lm.jsx)("div",{className:"max-h-60 overflow-y-auto pr-2",children:(0,Lm.jsx)("div",{className:"space-y-2",children:[{id:"JA",name:"Joshua Ashiru",points:"9.6/10",color:"bg-yellow-400"},{id:"AA",name:"Adeola Ayo",points:"9/10",color:"bg-blue-500"},{id:"OT",name:"Olawuyi Tobi",points:"8.5/10",color:"bg-orange-400"},{id:"MA",name:"Mayowa Ade",points:"7/10",color:"bg-red-400"}].map(((e,t)=>(0,Lm.jsxs)("div",{className:"flex items-center justify-between p-3 bg-black rounded-lg",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)("div",{className:"w-8 h-8 bg-yellow-400 rounded-lg flex items-center justify-center text-black text-sm font-medium",children:e.id}),(0,Lm.jsx)("span",{className:"font-medium text-sm text-yellow-400",children:e.name})]}),(0,Lm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Lm.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:e.points}),0===t&&(0,Lm.jsx)("span",{className:"text-lg",children:"\ud83c\udfc6"})]})]},e.id)))})})]})]})]}),(0,Lm.jsx)("div",{className:"col-span-3",children:(0,Lm.jsx)("div",{className:"bg-gray-900 rounded-xl p-6",style:{minHeight:"855px",width:"115%"},children:(0,Lm.jsxs)("div",{className:"space-y-6",style:{minHeight:"550px"},children:[(0,Lm.jsxs)("div",{className:"pb-6 border-b border-gray-800",children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Lm.jsx)("h2",{className:"text-lg font-semibold text-yellow-400",children:"Calendar"}),(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)("button",{className:"p-1 hover:bg-black rounded",children:(0,Lm.jsx)(Yk,{className:"text-yellow-400 text-sm"})}),(0,Lm.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:s}),(0,Lm.jsx)("button",{className:"p-1 hover:bg-black rounded",children:(0,Lm.jsx)(Xk,{className:"text-yellow-400 text-sm"})})]})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-1",children:f.days.map((e=>(0,Lm.jsx)("div",{className:"text-center text-xs font-medium text-yellow-400/70",children:e},e)))}),(0,Lm.jsx)("div",{className:"grid grid-cols-7 gap-1",children:f.dates.flat().map(((e,t)=>(0,Lm.jsx)("div",{className:"aspect-w-1 aspect-h-1",children:e&&(0,Lm.jsx)("button",{className:"w-full h-full flex items-center justify-center rounded-lg text-xs relative\n                                ".concat(f.events[e]?f.events[e].color:"hover:bg-black text-yellow-400"),children:e})},t)))})]})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Lm.jsx)("h2",{className:"text-lg font-semibold text-yellow-400",children:"Upcoming Activities"}),(0,Lm.jsx)("button",{className:"text-yellow-400 text-xs hover:text-yellow-500",children:"See all"})]}),(0,Lm.jsx)("div",{className:"space-y-3",children:[{date:8,month:"July",year:"2021",time:"8.A.M - 9.A.M",title:"Life Contingency Tutorials",location:"Edulog Tutorial College, Blk 56, Lagos State.",color:"bg-blue-500"},{date:13,month:"July",year:"2021",time:"8.A.M - 9.A.M",title:"Social Insurance Test",location:"School Hall, University Road, Lagos State",color:"bg-pink-500"},{date:18,month:"July",year:"2021",time:"8.A.M - 9.A.M",title:"Adv. Maths Assignment Due",location:"**To be submitted via Email",color:"bg-green-500"},{date:23,month:"July",year:"2021",time:"10.A.M - 1.P.M",title:"Dr. Dipo's Tutorial Class",location:"Edulog Tutorial College, Blk 56, Lagos State.",color:"bg-orange-500"}].map(((e,t)=>(0,Lm.jsxs)("div",{className:"relative bg-black rounded-lg p-3",children:[(0,Lm.jsx)("div",{className:"absolute left-0 top-0 w-1 h-full ".concat(e.color," rounded-full")}),(0,Lm.jsxs)("div",{className:"pl-3",children:[(0,Lm.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,Lm.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:e.title})}),(0,Lm.jsxs)("div",{className:"flex items-center gap-2 text-xs text-yellow-400/70 mb-1",children:[(0,Lm.jsx)($k,{size:10,className:"text-yellow-400"}),(0,Lm.jsx)("span",{children:e.time})]}),(0,Lm.jsxs)("div",{className:"flex items-center gap-2 text-xs text-yellow-400/70",children:[(0,Lm.jsx)(uE,{size:10,className:"text-yellow-400"}),(0,Lm.jsx)("span",{children:e.location})]})]})]},t)))})]})]})})})]})})]})};class pD extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mD(e){let{children:n,isPresent:i}=e;const r=(0,t.useId)(),s=(0,t.useRef)(null),o=(0,t.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,t.useContext)(Nv);return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:l}=o.current;if(i||!s.current||!e||!t)return;s.current.dataset.motionPopId=r;const c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}}),[i]),(0,Lm.jsx)(pD,{isPresent:i,childRef:s,sizeRef:o,children:t.cloneElement(n,{ref:s})})}const gD=e=>{let{children:n,initial:i,isPresent:r,onExitComplete:s,custom:o,presenceAffectsLayout:a,mode:l}=e;const c=ug(yD),u=(0,t.useId)(),h=(0,t.useCallback)((e=>{c.set(e,!0);for(const t of c.values())if(!t)return;s&&s()}),[c,s]),d=(0,t.useMemo)((()=>({id:u,initial:i,isPresent:r,custom:o,onExitComplete:h,register:e=>(c.set(e,!1),()=>c.delete(e))})),a?[Math.random(),h]:[r,h]);return(0,t.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[r]),t.useEffect((()=>{!r&&!c.size&&s&&s()}),[r]),"popLayout"===l&&(n=(0,Lm.jsx)(mD,{isPresent:r,children:n})),(0,Lm.jsx)(Fw.Provider,{value:d,children:n})};function yD(){return new Map}const vD=e=>e.key||"";function bD(e){const n=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&n.push(e)})),n}const xD=e=>{let{children:n,custom:i,initial:r=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1}=e;const[c,u]=Vw(l),h=(0,t.useMemo)((()=>bD(n)),[n]),d=l&&!c?[]:h.map(vD),f=(0,t.useRef)(!0),p=(0,t.useRef)(h),m=ug((()=>new Map)),[g,y]=(0,t.useState)(h),[v,b]=(0,t.useState)(h);Sv((()=>{f.current=!1,p.current=h;for(let e=0;e<v.length;e++){const t=vD(v[e]);d.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}}),[v,d.length,d.join("-")]);const x=[];if(h!==g){let e=[...h];for(let t=0;t<v.length;t++){const n=v[t],i=vD(n);d.includes(i)||(e.splice(t,0,n),x.push(n))}return"wait"===a&&x.length&&(e=x),b(bD(e)),void y(h)}const{forceRender:w}=(0,t.useContext)(zw);return(0,Lm.jsx)(Lm.Fragment,{children:v.map((e=>{const t=vD(e),n=!(l&&!c)&&(h===v||d.includes(t));return(0,Lm.jsx)(gD,{isPresent:n,initial:!(f.current&&!r)&&void 0,custom:n?void 0:i,presenceAffectsLayout:o,mode:a,onExitComplete:n?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach((t=>{t||(e=!1)})),e&&(null===w||void 0===w||w(),b(p.current),l&&(null===u||void 0===u||u()),s&&s())},children:e},t)}))})},wD=e=>{let{classData:n,onClose:i}=e;const[r,s]=(0,t.useState)("details"),[o,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),u=Z(),h="Essay Writing Fundamentals",d="Write a 500-word essay on a topic of your choice, demonstrating the writing techniques learned in class.",f="2025-01-19",p=100;return(0,Lm.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-sm p-6",children:[(0,Lm.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Lm.jsx)("h2",{className:"text-2xl font-bold text-yellow-400",children:n.name}),(0,Lm.jsx)("button",{onClick:i,className:"text-yellow-400 hover:text-yellow-500",children:"\xd7"})]}),(0,Lm.jsx)("div",{className:"border-b border-gray-800 mb-6",children:(0,Lm.jsxs)("nav",{className:"flex space-x-4",children:[(0,Lm.jsx)("button",{onClick:()=>s("details"),className:"py-2 px-4 ".concat("details"===r?"border-b-2 border-yellow-400 text-yellow-400":"text-yellow-400/70"),children:"Class Details"}),(0,Lm.jsx)("button",{onClick:()=>s("students"),className:"py-2 px-4 ".concat("students"===r?"border-b-2 border-yellow-400 text-yellow-400":"text-yellow-400/70"),children:"Students"}),(0,Lm.jsx)("button",{onClick:()=>s("assignments"),className:"py-2 px-4 ".concat("assignments"===r?"border-b-2 border-yellow-400 text-yellow-400":"text-yellow-400/70"),children:"Assignments"})]})}),"details"===r&&(0,Lm.jsx)("div",{children:(0,Lm.jsxs)("div",{className:"bg-black/50 p-4 rounded-lg mb-4",children:[(0,Lm.jsx)("h3",{className:"text-lg font-semibold mb-2 text-yellow-400",children:"About this Class"}),(0,Lm.jsx)("p",{className:"text-yellow-400/80",children:n.description})]})}),"students"===r&&(0,Lm.jsxs)("div",{children:[(0,Lm.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:["Enrolled Students (",Object.keys(n.students).length,")"]}),(0,Lm.jsx)("div",{className:"space-y-3",children:Object.entries(n.students).map((e=>{let[t,n]=e;return(0,Lm.jsx)("div",{className:"p-3 bg-black/50 rounded-lg flex justify-between items-center border border-gray-800",children:(0,Lm.jsx)("div",{children:(0,Lm.jsx)("p",{className:"font-medium text-yellow-400",children:n.name})})},t)}))})]}),"assignments"===r&&(0,Lm.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Lm.jsxs)("div",{className:"bg-black/50 p-4 rounded-lg border border-gray-800",children:[(0,Lm.jsx)("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Current Assignment"}),(0,Lm.jsx)("div",{className:"space-y-4",children:(0,Lm.jsxs)("div",{className:"p-4 bg-gray-900 rounded-lg border border-gray-800",children:[(0,Lm.jsx)("h4",{className:"text-yellow-400 font-medium mb-2",children:h}),(0,Lm.jsx)("p",{className:"text-yellow-400/70 text-sm mb-3",children:d}),(0,Lm.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Lm.jsxs)("span",{className:"text-yellow-400/70",children:["Due: ",new Date(f).toLocaleDateString()]}),(0,Lm.jsxs)("span",{className:"text-yellow-400/70",children:["Points: ",p]})]}),(0,Lm.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,Lm.jsx)("button",{onClick:()=>u("/teacher-dashboard/assignments/2"),className:"flex-1 bg-yellow-400 text-black py-2 rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"View Assignment"}),(0,Lm.jsx)("button",{onClick:()=>{a(!0),setTimeout((()=>{c(!0)}),4e3)},className:"flex-1 bg-black text-yellow-400 py-2 rounded-lg hover:bg-gray-900 transition-colors font-medium border border-yellow-400",children:"Athena Grading"})]})]})})]}),(0,Lm.jsxs)("div",{className:"bg-black/50 p-4 rounded-lg border border-gray-800",children:[(0,Lm.jsx)("h3",{className:"text-lg font-semibold mb-4 text-yellow-400",children:"Create New Assignment"}),(0,Lm.jsxs)("form",{className:"space-y-4",children:[(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-1",children:"Title"}),(0,Lm.jsx)("input",{type:"text",className:"w-full bg-gray-900 border border-gray-800 rounded-lg p-2 text-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"Enter assignment title"})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-1",children:"Description"}),(0,Lm.jsx)("textarea",{className:"w-full bg-gray-900 border border-gray-800 rounded-lg p-2 text-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",rows:"3",placeholder:"Enter assignment description"})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-1",children:"Due Date"}),(0,Lm.jsx)("input",{type:"date",className:"w-full bg-gray-900 border border-gray-800 rounded-lg p-2 text-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400"})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium text-yellow-400 mb-1",children:"Points"}),(0,Lm.jsx)("input",{type:"number",className:"w-full bg-gray-900 border border-gray-800 rounded-lg p-2 text-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"Enter points",min:"0"})]}),(0,Lm.jsx)("button",{type:"submit",className:"w-full bg-yellow-400 text-black py-2 rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Create Assignment"})]})]})]}),(0,Lm.jsx)(xD,{children:o&&(0,Lm.jsx)(kk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:(0,Lm.jsx)(kk.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900 rounded-xl p-8 max-w-md w-full mx-4 border border-gray-800",children:l?(0,Lm.jsxs)("div",{className:"text-center",children:[(0,Lm.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 bg-yellow-400/10 rounded-full flex items-center justify-center",children:(0,Lm.jsx)("svg",{className:"w-12 h-12 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Lm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Lm.jsx)("h3",{className:"text-xl font-bold text-yellow-400 mb-2",children:"Grading Complete!"}),(0,Lm.jsx)("p",{className:"text-yellow-400/70 mb-6",children:"All assignments have been graded by Athena."}),(0,Lm.jsx)("button",{onClick:()=>{a(!1),c(!1),u("/teacher-dashboard/assignments/2/submissions/demo1")},className:"bg-yellow-400 text-black px-6 py-2 rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"View Graded Assignments"})]}):(0,Lm.jsxs)("div",{className:"text-center",children:[(0,Lm.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 relative",children:(0,Lm.jsx)(kk.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-full h-full border-4 border-yellow-400/20 rounded-full border-t-yellow-400"})}),(0,Lm.jsx)("h3",{className:"text-xl font-bold text-yellow-400 mb-2",children:"Athena is Grading"}),(0,Lm.jsx)("p",{className:"text-yellow-400/70",children:"Please wait while Athena analyzes and grades the assignments..."})]})})})})]})},_D=n.p+"static/media/BookImage.3bcf79d795a0a9976c9c.jpg",SD=()=>{const[e,n]=(0,t.useState)(null),i={id:"1",name:"Writing",description:"A comprehensive writing course focusing on developing strong writing skills, critical thinking, and effective communication through various writing styles and techniques.",students:{1:{name:"John Smith",joinedAt:(new Date).toISOString()},2:{name:"Sarah Johnson",joinedAt:(new Date).toISOString()},3:{name:"Mike Williams",joinedAt:(new Date).toISOString()}}};return(0,Lm.jsxs)("div",{className:"p-6 bg-black min-h-screen",children:[(0,Lm.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,Lm.jsx)("h1",{className:"text-2xl font-bold text-yellow-400",children:"My Classes"})}),(0,Lm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,Lm.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg hover:shadow-xl transition-shadow border border-gray-800 overflow-hidden",children:[(0,Lm.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,Lm.jsx)("img",{src:_D,alt:"Writing Class",className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-300"}),(0,Lm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent"})]}),(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)("div",{className:"flex items-start justify-between",children:(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold mb-2 text-yellow-400",children:i.name}),(0,Lm.jsxs)("p",{className:"text-sm text-yellow-400/70 mb-4",children:["Students: ",Object.keys(i.students).length]})]})}),(0,Lm.jsxs)("div",{className:"bg-black/50 p-3 rounded-lg mb-4",children:[(0,Lm.jsx)("p",{className:"text-sm text-yellow-400/70",children:"Description:"}),(0,Lm.jsx)("p",{className:"text-sm text-yellow-400",children:i.description})]}),(0,Lm.jsx)("button",{className:"w-full mt-2 text-yellow-400 hover:text-yellow-500 text-sm font-medium bg-black/50 py-2 rounded-lg transition-colors",onClick:()=>n(i),children:"Manage Class \u2192"})]})]})}),e&&(0,Lm.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:(0,Lm.jsx)("div",{className:"bg-gray-900 rounded-xl w-full max-w-4xl m-4 max-h-[90vh] overflow-y-auto border border-gray-800",children:(0,Lm.jsx)(wD,{classData:e,onClose:()=>n(null)})})})]})},kD=()=>{const[e,n]=(0,t.useState)([]),[i,r]=(0,t.useState)(!0),[s,o]=(0,t.useState)(null);return(0,t.useEffect)((()=>{n([{id:1,title:"Introduction to React",dueDate:"2024-04-01",class:"Web Development 101",submissionCount:15,totalStudents:20},{id:2,title:"Essay: Impact of AI in Education",dueDate:"2024-03-28",class:"Technology & Society",submissionCount:1,totalStudents:1,hasDemo:!0}]),r(!1)}),[]),i?(0,Lm.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,Lm.jsx)("div",{className:"text-yellow-400",children:"Loading assignments..."})}):s?(0,Lm.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,Lm.jsx)("div",{className:"text-red-400",children:s})}):(0,Lm.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,Lm.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Lm.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Lm.jsx)("h1",{className:"text-2xl font-bold text-yellow-400",children:"Assignments"}),(0,Lm.jsxs)(je,{to:"create",className:"bg-yellow-400 text-black px-6 py-2 rounded-lg hover:bg-yellow-500 transition-colors flex items-center gap-2",children:[(0,Lm.jsx)(pE,{size:14}),"Create New Assignment"]})]}),(0,Lm.jsx)("div",{className:"grid gap-6",children:e.map((e=>(0,Lm.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 hover:border-yellow-400/50 transition-colors",children:[(0,Lm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Lm.jsxs)("div",{className:"space-y-2",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold text-yellow-400",children:e.title}),(0,Lm.jsxs)("p",{className:"text-yellow-400/70 flex items-center gap-2",children:[(0,Lm.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-yellow-400"}),e.class]}),(0,Lm.jsxs)("p",{className:"text-yellow-400/70 flex items-center gap-2",children:[(0,Lm.jsx)($k,{className:"text-yellow-400/50"}),"Due: ",e.dueDate]})]}),(0,Lm.jsxs)("div",{className:"text-right",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400/70 mb-4",children:[(0,Lm.jsx)(Gk,{className:e.submissionCount===e.totalStudents?"text-green-400":"text-yellow-400/50"}),(0,Lm.jsxs)("p",{className:"text-sm",children:[e.submissionCount,"/",e.totalStudents," Submissions"]})]}),(0,Lm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Lm.jsxs)(je,{to:"".concat(e.id),className:"text-yellow-400 hover:text-yellow-500 transition-colors flex items-center gap-1",children:[(0,Lm.jsx)(sE,{size:14}),"View"]}),(0,Lm.jsxs)(je,{to:"".concat(e.id,"/edit"),className:"text-yellow-400 hover:text-yellow-500 transition-colors flex items-center gap-1",children:[(0,Lm.jsx)(fE,{size:14}),"Edit"]})]})]})]}),e.hasDemo&&(0,Lm.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-800",children:(0,Lm.jsx)("p",{className:"text-yellow-400/70 text-sm",children:"Athena's AI grading capabilities."})})]},e.id)))})]})})},ED=()=>{const e=Z(),[n,i]=(0,t.useState)({title:"",description:"",dueDate:"",classId:"",points:100,allowedFileTypes:[],instructions:"",aiGradingEnabled:!1,aiGradingInstructions:""}),[r]=(0,t.useState)([{id:1,name:"Writing"}]),s=e=>{const{name:t,value:n,type:r,checked:s}=e.target;i((e=>Dt(Dt({},e),{},{[t]:"checkbox"===r?s:n})))};return(0,Lm.jsxs)("div",{className:"p-6 max-w-2xl mx-auto bg-black min-h-screen",children:[(0,Lm.jsx)("h1",{className:"text-2xl font-bold mb-6 text-yellow-400",children:"Create New Assignment"}),(0,Lm.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),console.log("Submitting assignment:",n),e("/teacher-dashboard/assignments")},className:"space-y-4",children:[(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-1 text-yellow-400",children:"Title"}),(0,Lm.jsx)("input",{type:"text",name:"title",value:n.title,onChange:s,className:"w-full p-2 bg-gray-900 border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:outline-none",required:!0})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-1 text-yellow-400",children:"Class"}),(0,Lm.jsxs)("select",{name:"classId",value:n.classId,onChange:s,className:"w-full p-2 bg-gray-900 border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:outline-none",required:!0,children:[(0,Lm.jsx)("option",{value:"",className:"bg-gray-900",children:"Select a class"}),r.map((e=>(0,Lm.jsx)("option",{value:e.id,className:"bg-gray-900",children:e.name},e.id)))]})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-1 text-yellow-400",children:"Description"}),(0,Lm.jsx)("textarea",{name:"description",value:n.description,onChange:s,className:"w-full p-2 bg-gray-900 border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:outline-none",rows:"4",required:!0})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-1 text-yellow-400",children:"Due Date"}),(0,Lm.jsx)("input",{type:"datetime-local",name:"dueDate",value:n.dueDate,onChange:s,className:"w-full p-2 bg-gray-900 border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:outline-none",required:!0})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-1 text-yellow-400",children:"Points"}),(0,Lm.jsx)("input",{type:"number",name:"points",value:n.points,onChange:s,className:"w-full p-2 bg-gray-900 border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:outline-none",min:"0",required:!0})]}),(0,Lm.jsx)("div",{children:(0,Lm.jsxs)("label",{className:"flex items-center space-x-2 text-yellow-400",children:[(0,Lm.jsx)("input",{type:"checkbox",name:"aiGradingEnabled",checked:n.aiGradingEnabled,onChange:s,className:"rounded border-gray-800 text-yellow-400 focus:ring-yellow-400"}),(0,Lm.jsx)("span",{className:"text-sm font-medium",children:"Enable Athena Grading"})]})}),n.aiGradingEnabled&&(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-1 text-yellow-400",children:"Athena Grading Instructions"}),(0,Lm.jsx)("textarea",{name:"aiGradingInstructions",value:n.aiGradingInstructions,onChange:s,className:"w-full p-2 bg-gray-900 border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:outline-none",rows:"3",placeholder:"Provide instructions for Athena grading..."})]}),(0,Lm.jsxs)("div",{className:"flex space-x-4",children:[(0,Lm.jsx)("button",{type:"submit",className:"bg-yellow-400 text-black px-6 py-2 rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Create Assignment"}),(0,Lm.jsx)("button",{type:"button",onClick:()=>e("/teacher-dashboard/assignments"),className:"bg-gray-800 text-yellow-400 px-6 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})},TD=()=>{const{id:e}=ee(),n=Z(),[i,r]=(0,t.useState)(!0),[s,o]=(0,t.useState)({title:"",description:"",dueDate:"",classId:"",points:100,allowedFileTypes:[],instructions:"",aiGradingEnabled:!1,aiGradingInstructions:""}),[a]=(0,t.useState)([{id:1,name:"Web Development 101"},{id:2,name:"Technology & Society"}]);(0,t.useEffect)((()=>{(async()=>{try{if("2"===e){o({title:"Essay: Impact of AI in Education",description:"Write a 500-word essay discussing the potential impacts of Artificial Intelligence on modern education. Consider both positive and negative aspects, and provide specific examples.",dueDate:"2024-03-28T23:59",classId:"2",points:100,aiGradingEnabled:!0,aiGradingInstructions:"Grade based on: 1) Understanding of AI concepts 2) Critical analysis 3) Clear examples 4) Writing quality"})}else{o({title:"Example Assignment",description:"This is an example assignment",dueDate:"2024-04-01T23:59",classId:"1",points:100,aiGradingEnabled:!0,aiGradingInstructions:"Grade based on clarity and completeness"})}r(!1)}catch(t){console.error("Error fetching assignment:",t),r(!1)}})()}),[e]);const l=e=>{const{name:t,value:n,type:i,checked:r}=e.target;o((e=>Dt(Dt({},e),{},{[t]:"checkbox"===i?r:n})))};return i?(0,Lm.jsx)("div",{className:"p-6",children:"Loading..."}):(0,Lm.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,Lm.jsxs)("div",{className:"max-w-2xl mx-auto bg-gray-900 rounded-lg border border-gray-800 p-8",children:[(0,Lm.jsx)("h1",{className:"text-2xl font-bold mb-6 text-yellow-400",children:"Edit Assignment"}),(0,Lm.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),console.log("Updating assignment:",s),n("..")},className:"space-y-6",children:[(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-2 text-yellow-400",children:"Title"}),(0,Lm.jsx)("input",{type:"text",name:"title",value:s.title,onChange:l,className:"w-full p-3 bg-black border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:border-transparent",required:!0})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-2 text-yellow-400",children:"Class"}),(0,Lm.jsxs)("select",{name:"classId",value:s.classId,onChange:l,className:"w-full p-3 bg-black border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:border-transparent",required:!0,children:[(0,Lm.jsx)("option",{value:"",className:"bg-black",children:"Select a class"}),a.map((e=>(0,Lm.jsx)("option",{value:e.id,className:"bg-black",children:e.name},e.id)))]})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-2 text-yellow-400",children:"Description"}),(0,Lm.jsx)("textarea",{name:"description",value:s.description,onChange:l,className:"w-full p-3 bg-black border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:border-transparent",rows:"4",required:!0})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-2 text-yellow-400",children:"Due Date"}),(0,Lm.jsx)("input",{type:"datetime-local",name:"dueDate",value:s.dueDate,onChange:l,className:"w-full p-3 bg-black border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:border-transparent",required:!0})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-2 text-yellow-400",children:"Points"}),(0,Lm.jsx)("input",{type:"number",name:"points",value:s.points,onChange:l,className:"w-full p-3 bg-black border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:border-transparent",min:"0",required:!0})]}),(0,Lm.jsx)("div",{children:(0,Lm.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Lm.jsx)("input",{type:"checkbox",name:"aiGradingEnabled",checked:s.aiGradingEnabled,onChange:l,className:"w-4 h-4 text-yellow-400 border-gray-800 rounded focus:ring-yellow-400 focus:ring-offset-black"}),(0,Lm.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:"Enable Athena Grading"})]})}),s.aiGradingEnabled&&(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("label",{className:"block text-sm font-medium mb-2 text-yellow-400",children:"Athena Grading Instructions"}),(0,Lm.jsx)("textarea",{name:"aiGradingInstructions",value:s.aiGradingInstructions,onChange:l,className:"w-full p-3 bg-black border border-gray-800 rounded-lg text-yellow-400 focus:ring-2 focus:ring-yellow-400 focus:border-transparent",rows:"3",placeholder:"Provide instructions for AI grading..."})]}),(0,Lm.jsxs)("div",{className:"flex space-x-4",children:[(0,Lm.jsx)("button",{type:"submit",className:"bg-yellow-400 text-black px-6 py-2 rounded-lg hover:bg-yellow-500 transition-colors",children:"Save Changes"}),(0,Lm.jsx)("button",{type:"button",onClick:()=>n(".."),className:"bg-gray-800 text-yellow-400 px-6 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})})},CD=()=>{const{id:e}=ee(),[n,i]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[o,a]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{try{if("2"===e){i({id:2,title:"Essay: Impact of AI in Education",description:"Write a 500-word essay discussing the potential impacts of Artificial Intelligence on modern education. Consider both positive and negative aspects, and provide specific examples.",dueDate:"2024-03-28T23:59",class:"Technology & Society",points:100,submissionCount:1,totalStudents:1,aiGradingEnabled:!0,submissions:[{id:1,studentName:"Mike Williams",submittedAt:"2025-01-17T14:30",status:"graded",grade:"A"}]})}else{i({id:1,title:"Introduction to React",description:"Build a simple React component that demonstrates state management.",dueDate:"2024-04-01T23:59",class:"Web Development 101",points:100,submissionCount:15,totalStudents:20,aiGradingEnabled:!0,submissions:[{id:1,studentName:"Alice Smith",submittedAt:"2024-03-25T10:15",status:"pending"},{id:2,studentName:"Bob Johnson",submittedAt:"2024-03-26T15:45",status:"graded",grade:"B+"}]})}s(!1)}catch(o){console.error("Error fetching assignment:",o),a("Failed to load assignment details"),s(!1)}})()}),[e]),r?(0,Lm.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,Lm.jsx)("div",{className:"text-yellow-400",children:"Loading assignment details..."})}):o?(0,Lm.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,Lm.jsx)("div",{className:"text-red-400",children:o})}):n?(0,Lm.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,Lm.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Lm.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800 mb-6",children:[(0,Lm.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("h1",{className:"text-2xl font-bold text-yellow-400 mb-2",children:n.title}),(0,Lm.jsxs)("div",{className:"space-y-2",children:[(0,Lm.jsxs)("p",{className:"text-yellow-400/70 flex items-center gap-2",children:[(0,Lm.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-yellow-400"}),n.class]}),(0,Lm.jsxs)("p",{className:"text-yellow-400/70 flex items-center gap-2",children:[(0,Lm.jsx)($k,{className:"text-yellow-400/50"}),"Due: ",new Date(n.dueDate).toLocaleString()]}),(0,Lm.jsxs)("p",{className:"text-yellow-400/70 flex items-center gap-2",children:[(0,Lm.jsx)(SE,{className:"text-yellow-400/50"}),n.submissionCount,"/",n.totalStudents," Submissions"]})]})]}),(0,Lm.jsxs)(je,{to:"edit",className:"bg-gray-800 text-yellow-400 px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[(0,Lm.jsx)(tE,{size:14}),"Edit Assignment"]})]}),(0,Lm.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-800",children:[(0,Lm.jsx)("h2",{className:"text-lg font-semibold text-yellow-400 mb-2",children:"Description"}),(0,Lm.jsx)("p",{className:"text-yellow-400/70 whitespace-pre-wrap",children:n.description})]}),n.aiGradingEnabled&&(0,Lm.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-yellow-400/70",children:[(0,Lm.jsx)(mE,{className:"text-yellow-400"}),(0,Lm.jsx)("span",{children:"Athena AI Grading Enabled"})]})]}),(0,Lm.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800",children:(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold text-yellow-400 mb-4",children:"Student Submissions"}),(0,Lm.jsx)("div",{className:"space-y-4",children:n.submissions.map((e=>(0,Lm.jsx)(je,{to:"submissions/".concat(e.id),className:"block bg-black rounded-lg p-4 border border-gray-800 hover:border-yellow-400/50 transition-colors",children:(0,Lm.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Lm.jsxs)("div",{className:"space-y-1",children:[(0,Lm.jsx)("p",{className:"font-medium text-yellow-400",children:e.studentName}),(0,Lm.jsxs)("p",{className:"text-sm text-yellow-400/70",children:["Submitted: ",new Date(e.submittedAt).toLocaleString()]})]}),(0,Lm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)(Gk,{className:"graded"===e.status?"text-green-400":"text-yellow-400/50"}),(0,Lm.jsx)("span",{className:"text-sm ".concat("graded"===e.status?"text-green-400":"text-yellow-400/70"),children:"graded"===e.status?"Graded: ".concat(e.grade):"Pending"})]}),(0,Lm.jsx)(Xk,{className:"text-yellow-400/50"})]})]})},e.id)))})]})})]})}):(0,Lm.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,Lm.jsx)("div",{className:"text-yellow-400",children:"Assignment not found"})})},ND=["title","titleId"];function jD(e,n){let{title:i,titleId:r}=e,s=Wm(e,ND);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),i?t.createElement("title",{id:r},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const AD=t.forwardRef(jD),PD=["title","titleId"];function ID(e,n){let{title:i,titleId:r}=e,s=Wm(e,PD);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),i?t.createElement("title",{id:r},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const DD=t.forwardRef(ID),MD=["title","titleId"];function OD(e,n){let{title:i,titleId:r}=e,s=Wm(e,MD);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),i?t.createElement("title",{id:r},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const RD=t.forwardRef(OD),LD=["title","titleId"];function FD(e,n){let{title:i,titleId:r}=e,s=Wm(e,LD);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),i?t.createElement("title",{id:r},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const VD=t.forwardRef(FD),zD=["title","titleId"];function UD(e,n){let{title:i,titleId:r}=e,s=Wm(e,zD);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),i?t.createElement("title",{id:r},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const BD=t.forwardRef(UD),HD=["title","titleId"];function WD(e,n){let{title:i,titleId:r}=e,s=Wm(e,HD);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),i?t.createElement("title",{id:r},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const qD=t.forwardRef(WD),GD=["title","titleId"];function KD(e,n){let{title:i,titleId:r}=e,s=Wm(e,GD);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),i?t.createElement("title",{id:r},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}const YD=t.forwardRef(KD),XD=["title","titleId"];function QD(e,n){let{title:i,titleId:r}=e,s=Wm(e,XD);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},s),i?t.createElement("title",{id:r},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const $D=t.forwardRef(QD);var JD=n(9950);const ZD=e=>{let{selectedCriterion:n,onGradeChange:i,criteriaGrades:r,aiJustification:s,suggestedFeedback:o,onUpdateNotes:a,onUpdateFeedback:l}=e;const[c,u]=(0,t.useState)(null),[h,d]=(0,t.useState)({}),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)("justification"),{transcript:b,listening:x,resetTranscript:w,browserSupportsSpeechRecognition:_}=(0,JD.Vw)(),S={"Introduction/Opening":{Icon:AD,color:"from-blue-500 to-indigo-600",grades:{0:"No clear introduction or thesis statement. Main ideas are absent or unclear.",1:"Weak introduction with unclear thesis. Main ideas are minimally presented.",2:"Basic introduction with simple thesis. Main ideas are present but underdeveloped.",3:"Strong introduction with clear thesis. Main ideas are well-presented.",4:"Exceptional introduction with compelling thesis. Main ideas are expertly presented and engaging."}},"Text Evidence":{Icon:DD,color:"from-emerald-500 to-teal-600",grades:{0:"No textual evidence used to support claims.",1:"Minimal or irrelevant textual evidence used.",2:"Basic textual evidence used with some relevance to claims.",3:"Strong textual evidence that supports claims effectively.",4:"Exceptional use of textual evidence that enhances and strengthens all claims."}},Explanation:{Icon:RD,color:"from-amber-500 to-orange-600",grades:{0:"No explanation of evidence or connection to thesis.",1:"Minimal explanation with weak connections to thesis.",2:"Basic explanation with some connections to thesis.",3:"Clear explanation with strong connections to thesis.",4:"Thorough and insightful explanation with compelling connections to thesis."}},Conclusion:{Icon:VD,color:"from-purple-500 to-violet-600",grades:{0:"No conclusion or summary of main points.",1:"Weak conclusion with minimal summary.",2:"Basic conclusion that restates main points.",3:"Strong conclusion that synthesizes main points.",4:"Exceptional conclusion that extends beyond summary to broader implications."}},Organization:{Icon:BD,color:"from-rose-500 to-pink-600",grades:{0:"No clear organization or structure.",1:"Minimal organization with unclear transitions.",2:"Basic organization with simple transitions.",3:"Clear organization with effective transitions.",4:"Sophisticated organization with seamless transitions."}}};(0,t.useEffect)((()=>{n&&r[n]&&u({criterion:n,grade:r[n].grade})}),[n,r]);const k=e=>{switch(e){case 0:return"bg-yellow-400/10 text-yellow-400";case 1:return"bg-yellow-400/20 text-yellow-400";case 2:return"bg-yellow-400/30 text-yellow-400";case 3:return"bg-yellow-400/40 text-yellow-400";case 4:return"bg-yellow-400/50 text-yellow-400";default:return"bg-gray-900 text-yellow-400/70"}},E={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return(0,Lm.jsxs)(kk.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,staggerChildren:.1}}},className:"bg-gray-900 rounded-lg shadow-lg p-6 w-full border border-gray-800",children:[(0,Lm.jsxs)("div",{className:"mb-8",children:[(0,Lm.jsx)("h2",{className:"text-2xl font-bold text-yellow-400",children:"Grading Rubric"}),(0,Lm.jsx)("p",{className:"mt-2 text-sm text-yellow-400/70",children:"Click on any cell to view detailed criteria and descriptions"})]}),(0,Lm.jsx)("div",{className:"bg-black rounded-xl shadow-lg overflow-hidden border border-gray-800",children:(0,Lm.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,Lm.jsx)("thead",{children:(0,Lm.jsxs)("tr",{children:[(0,Lm.jsx)("th",{className:"border-b border-gray-800 bg-gray-900/50 p-4 text-left text-sm font-semibold text-yellow-400",children:"Criteria"}),[0,1,2,3,4].map((e=>(0,Lm.jsx)("th",{className:"border-b border-gray-800 bg-gray-900/50 p-4 text-center text-sm font-semibold text-yellow-400",children:(0,Lm.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(k(e)),children:["Grade ",e]})},e)))]})}),(0,Lm.jsx)("tbody",{className:"divide-y divide-gray-800",children:Object.entries(S).map((e=>{var n,s,o,l;let[S,{Icon:T,color:C,grades:N}]=e;return(0,Lm.jsxs)(t.Fragment,{children:[(0,Lm.jsxs)(kk.tr,{variants:E,className:"hover:bg-gray-900/50 ".concat((null===c||void 0===c?void 0:c.criterion)===S?"bg-gray-900/50":""),children:[(0,Lm.jsx)("td",{className:"p-4",children:(0,Lm.jsxs)("div",{className:"flex items-center",children:[(0,Lm.jsx)(T,{className:"h-5 w-5 text-yellow-400/70 mr-3"}),(0,Lm.jsx)("span",{className:"font-medium text-yellow-400",children:S})]})}),[0,1,2,3,4].map((e=>{var t;return(0,Lm.jsx)("td",{className:"p-4 cursor-pointer transition-all duration-200 ".concat((null===(t=r[S])||void 0===t?void 0:t.grade)===e?"bg-yellow-400/10 ring-2 ring-yellow-400 ring-inset":(null===c||void 0===c?void 0:c.criterion)===S&&(null===c||void 0===c?void 0:c.grade)===e?"bg-yellow-400/5 ring-2 ring-yellow-400/50 ring-inset":""),onClick:()=>((e,t)=>{u((null===c||void 0===c?void 0:c.criterion)===e&&(null===c||void 0===c?void 0:c.grade)===t?null:{criterion:e,grade:t}),i&&i(e,t)})(S,e),children:(0,Lm.jsx)(kk.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"h-20 text-sm text-yellow-400/70 overflow-hidden",children:N[e]})},e)}))]}),(0,Lm.jsx)(xD,{children:(null===c||void 0===c?void 0:c.criterion)===S&&(0,Lm.jsx)(kk.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative",children:(0,Lm.jsx)("td",{colSpan:"6",className:"p-0",children:(0,Lm.jsxs)(kk.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"relative z-20",children:[(0,Lm.jsxs)("div",{className:"bg-gray-900 border-t border-b border-gray-800",children:[(0,Lm.jsxs)("div",{className:"p-4",children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Lm.jsxs)("div",{className:"flex items-center",children:[(0,Lm.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-r ".concat(C),children:(0,Lm.jsx)(T,{className:"h-5 w-5 text-white"})}),(0,Lm.jsxs)("h3",{className:"ml-3 text-lg font-semibold text-yellow-400",children:[S," - Grade ",c.grade]})]}),(0,Lm.jsx)("button",{onClick:()=>u(null),className:"text-yellow-400/70 hover:text-yellow-400",children:(0,Lm.jsx)(qD,{className:"h-5 w-5"})})]}),(0,Lm.jsxs)("div",{className:"flex gap-3",children:[(0,Lm.jsx)("button",{onClick:()=>v("justification"),className:"flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ".concat("justification"===y?"bg-yellow-400/10 text-yellow-400 ring-2 ring-yellow-400 ring-opacity-50":"bg-gray-900 text-yellow-400 hover:bg-gray-800"),children:"Justification"}),(0,Lm.jsx)("button",{onClick:()=>v("feedback"),className:"flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ".concat("feedback"===y?"bg-yellow-400/10 text-yellow-400 ring-2 ring-yellow-400 ring-opacity-50":"bg-gray-900 text-yellow-400 hover:bg-gray-800"),children:"Feedback"}),(0,Lm.jsx)("button",{onClick:()=>v("edit"),className:"flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ".concat("edit"===y?"bg-yellow-400/10 text-yellow-400 ring-2 ring-yellow-400 ring-opacity-50":"bg-gray-900 text-yellow-400 hover:bg-gray-800"),children:"Edit Rubric"})]})]}),(0,Lm.jsxs)(xD,{mode:"sync",children:["justification"===y&&(0,Lm.jsx)(kk.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,Lm.jsxs)("div",{className:"p-6 border-t border-gray-800 space-y-6",children:[(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("h4",{className:"text-sm font-medium text-yellow-400 mb-2",children:"Grade Description"}),(0,Lm.jsx)("div",{className:"p-4 rounded-lg ".concat(k(c.grade)),children:(0,Lm.jsx)("p",{className:"text-sm",children:N[c.grade]})})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("h4",{className:"text-sm font-medium text-yellow-400 mb-2",children:"AI Analysis"}),(0,Lm.jsx)("div",{className:"bg-yellow-400/10 rounded-lg p-4",children:(0,Lm.jsx)("p",{className:"text-sm text-yellow-400",children:(null===(n=r[S])||void 0===n?void 0:n.aiJustification)||"Consider focusing on how the student demonstrates mastery of ".concat(S.toLowerCase()," \n                                           through specific examples and analysis.")})})]})]})},"justification"),"feedback"===y&&(0,Lm.jsx)(kk.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,Lm.jsxs)("div",{className:"p-6 border-t border-gray-800 space-y-6",children:[(0,Lm.jsxs)("div",{children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Lm.jsx)("h4",{className:"text-sm font-medium text-yellow-400",children:"Teacher Notes"}),(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)("button",{onClick:()=>((e,t)=>{_?m?(JD.Ay.stopListening(),g(!1),d((n=>Dt(Dt({},n),{},{["".concat(e,"-").concat(t)]:(n["".concat(e,"-").concat(t)]||"")+" "+b}))),w()):(g(!0),JD.Ay.startListening({continuous:!0})):alert("Your browser does not support speech recognition.")})(S,c.grade),className:"p-2 rounded-full transition-colors ".concat(m&&x?"bg-yellow-400/10 text-yellow-400 hover:bg-yellow-400/20":"bg-gray-900 text-yellow-400 hover:bg-gray-800"),children:(0,Lm.jsx)(YD,{className:"h-4 w-4"})}),(0,Lm.jsxs)("button",{onClick:()=>p(!f),className:"text-yellow-400 hover:text-yellow-500 text-sm flex items-center",children:[(0,Lm.jsx)($D,{className:"h-4 w-4 mr-1"}),f?"Save":"Edit"]})]})]}),f?(0,Lm.jsx)("div",{className:"relative",children:(0,Lm.jsx)("textarea",{value:h["".concat(S,"-").concat(c.grade)]||(null===(s=r[S])||void 0===s?void 0:s.teacherJustification)||"",onChange:e=>((e,t,n)=>{d((i=>{const r=Dt(Dt({},i),{},{["".concat(e,"-").concat(t)]:n});return a&&a(e,n),r}))})(S,c.grade,e.target.value),className:"w-full h-32 p-3 border border-gray-800 rounded-lg focus:ring-yellow-400 focus:border-yellow-400 bg-black text-yellow-400",placeholder:"Add your notes here..."})}):(0,Lm.jsx)("div",{className:"bg-black p-3 border border-gray-800 rounded-lg min-h-[8rem] text-yellow-400",children:h["".concat(S,"-").concat(c.grade)]||(null===(o=r[S])||void 0===o?void 0:o.teacherJustification)||(0,Lm.jsx)("span",{className:"text-yellow-400/50 italic",children:"No notes added yet"})})]}),(0,Lm.jsxs)("div",{children:[(0,Lm.jsx)("h4",{className:"text-sm font-medium text-yellow-400 mb-2",children:"Suggested Feedback"}),(0,Lm.jsx)("div",{className:"bg-yellow-400/10 rounded-lg p-4",children:(0,Lm.jsx)("p",{className:"text-sm text-yellow-400",children:(null===(l=r[S])||void 0===l?void 0:l.suggestedFeedback)||"Consider providing more specific examples to strengthen your argument."})})]})]})},"feedback"),"edit"===y&&(0,Lm.jsx)(kk.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,Lm.jsx)("div",{className:"p-6 border-t border-gray-800",children:(0,Lm.jsxs)("div",{className:"text-center text-yellow-400 py-8",children:[(0,Lm.jsx)($D,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,Lm.jsx)("p",{children:"Rubric editing functionality coming soon..."})]})})},"edit")]})]}),(0,Lm.jsx)("div",{className:"absolute inset-x-0 top-full h-[500vh] pointer-events-none bg-gray-900/50 backdrop-blur-sm",onClick:e=>{e.stopPropagation(),u(null)}})]})})})})]},S)}))})]})})]})};var eM=n(5003);const tM={hidden:{opacity:0,scale:.8,y:-10},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:500,damping:25}},exit:{opacity:0,scale:.8,y:10,transition:{duration:.2}}},nM=()=>{const e=Z(),{id:n,submissionId:i}=ee(),[r,s]=(0,t.useState)(null),[o,a]=(0,t.useState)(!0),[l,c]=(0,t.useState)("student-response"),[u,h]=(0,t.useState)(!1),[d,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)("A"),[g,y]=(0,t.useState)("Progressing well"),[v,b]=(0,t.useState)(null),[x,w]=(0,t.useState)(null),[_,S]=(0,t.useState)(!1),[k,E]=(0,t.useState)(""),[T,C]=(0,t.useState)(0),[N,j]=(0,t.useState)({"Introduction/Opening":{grade:null,status:null,aiJustification:null,suggestedFeedback:null,teacherJustification:"",feedback:"",rubricReference:"Introduction > Opening Statement",aiGraded:!1},"Text Evidence":{grade:null,status:null,aiJustification:null,suggestedFeedback:null,teacherJustification:"",feedback:"",rubricReference:"Evidence > Textual Support",aiGraded:!1},Explanation:{grade:null,status:null,aiJustification:null,suggestedFeedback:null,teacherJustification:"",feedback:"",rubricReference:"Analysis > Explanation",aiGraded:!1},Conclusion:{grade:null,status:null,aiJustification:null,suggestedFeedback:null,teacherJustification:"",feedback:"",rubricReference:"Conclusion > Summary",aiGraded:!1},Organization:{grade:null,status:null,aiJustification:null,suggestedFeedback:null,teacherJustification:"",feedback:"",rubricReference:"Structure > Organization",aiGraded:!1}}),[A,P]=(0,t.useState)({}),[I,D]=(0,t.useState)(null),{transcript:M,resetTranscript:O,listening:R}=(0,JD.Vw)(),[L,F]=(0,t.useState)(480),[V,z]=(0,t.useState)(!1),[U,B]=(0,t.useState)([]),[H,W]=(0,t.useState)(null),[q,G]=(0,t.useState)(""),[K,Y]=(0,t.useState)({x:0,y:0}),[X,Q]=(0,t.useState)(!1),[$,J]=(0,t.useState)({x:0,y:0}),[te,ne]=(0,t.useState)([]),[ie,re]=(0,t.useState)(null),se=[{text:"masterful use of dramatic irony",color:"bg-yellow-400/20",criterion:"Introduction/Opening",feedback:"Strong opening that effectively introduces the literary device."},{text:"psychological manipulation",color:"bg-green-400/20",criterion:"Text Evidence",feedback:"Excellent use of specific examples to support analysis."},{text:"carefully constructed dialogues",color:"bg-blue-400/20",criterion:"Explanation",feedback:"Clear explanation of how dialogue reveals character complexity."},{text:"gradually building suspense",color:"bg-purple-400/20",criterion:"Organization",feedback:"Well-structured progression of ideas enhances dramatic tension."},{text:"profound impact on the audience",color:"bg-red-400/20",criterion:"Conclusion",feedback:"Strong concluding statement that ties back to the thesis."}],oe=(0,t.useCallback)(((e,t)=>{j((n=>Dt(Dt({},n),{},{[e]:Dt(Dt({},n[e]),{},{grade:t,status:ce(t)})})));const n=Object.values(N).map((e=>e.grade)),i=n.reduce(((e,t)=>e+t),0)/n.length;C(i),m((e=>e>=4?"A":e>=3.7?"A-":e>=3.3?"B+":e>=3?"B":e>=2.7?"B-":e>=2.5?"C+":e>=2?"C":e>=1.5?"C-":e>=1?"D":"F")(i))}),[N]),ae=(0,t.useCallback)(((e,t)=>{j((n=>Dt(Dt({},n),{},{[e]:Dt(Dt({},n[e]),{},{teacherJustification:t})})))}),[]),le=(0,t.useCallback)(((e,t)=>{j((n=>Dt(Dt({},n),{},{[e]:Dt(Dt({},n[e]),{},{feedback:t})})))}),[]),ce=e=>e>=3.5?"Excellent":e>=2.5?"Satisfactory":e>=1.5?"Developing":e>=.5?"Limited":"Insufficient",ue=(e,t)=>{P((n=>{const i="".concat(e,"-").concat(t);return Dt(Dt({},n),{},{[i]:!n[i]})}))},he=(0,t.useCallback)((e=>{j((e=>Dt(Dt({},e),{},{"Introduction/Opening":Dt(Dt({},e["Introduction/Opening"]),{},{grade:3,status:"Strong",aiGraded:!0,aiJustification:"The introduction presents a clear thesis statement with well-defined main ideas. The opening effectively engages the reader and sets up the main arguments.",suggestedFeedback:"Consider strengthening the connection between the thesis and the broader implications of your argument."}),"Text Evidence":Dt(Dt({},e["Text Evidence"]),{},{grade:4,status:"Excellent",aiGraded:!0,aiJustification:"Exceptional use of textual evidence throughout the essay. Citations are relevant, well-integrated, and effectively support the main arguments.",suggestedFeedback:"Your use of evidence is strong. Consider incorporating more varied types of evidence to further strengthen your analysis."}),Explanation:Dt(Dt({},e.Explanation),{},{grade:3,status:"Strong",aiGraded:!0,aiJustification:"Clear and effective explanation of evidence with strong connections to the thesis. Analysis demonstrates good understanding of the material.",suggestedFeedback:"Try to deepen your analysis by exploring alternative interpretations of the evidence."}),Conclusion:Dt(Dt({},e.Conclusion),{},{grade:2,status:"Developing",aiGraded:!0,aiJustification:"Basic conclusion that restates main points but could be more synthesized. The ending would benefit from deeper reflection.",suggestedFeedback:"Work on developing a more impactful conclusion that extends beyond simple summary."}),Organization:Dt(Dt({},e.Organization),{},{grade:4,status:"Excellent",aiGraded:!0,aiJustification:"Sophisticated organization with seamless transitions between paragraphs. Ideas flow logically and build upon each other effectively.",suggestedFeedback:"Your organization is excellent. Consider using more varied transition techniques to further enhance flow."})})))}),[]),de=(0,t.useCallback)((e=>{X&&J({x:e.clientX,y:e.clientY})}),[X]),fe=(0,t.useCallback)((e=>{if(X&&e.target.closest(".prose")){const t=document.caretRangeFromPoint(e.clientX,e.clientY);if(t){const n=t.getBoundingClientRect(),i=e.target.closest(".prose").getBoundingClientRect();t.expand("word");const r=t.toString().trim(),s={id:Date.now(),x:e.clientX-i.left,y:n.top-i.top,text:"",selectedText:r,timestamp:(new Date).toISOString()};ne((e=>[...e,s])),re(s),Q(!1)}}}),[X]),pe=e=>{let{comment:n}=e;const[i,r]=(0,t.useState)(!n.text),[s,o]=(0,t.useState)(n.text),a={position:"absolute",top:n.y+"px",left:n.x+30+"px",width:"240px",transformOrigin:"left top",zIndex:50};return n.rect&&n.rect.right+250>window.innerWidth&&(a.left=n.x-250+"px",a.transformOrigin="right top"),(0,Lm.jsx)(kk.div,{initial:"hidden",animate:"visible",exit:"exit",variants:tM,className:"absolute bg-white rounded-lg shadow-lg border border-gray-100",style:a,children:(0,Lm.jsx)("div",{className:"p-3",children:i?(0,Lm.jsxs)(Lm.Fragment,{children:[(0,Lm.jsx)("textarea",{className:"w-full p-2 text-sm bg-gray-50 border border-gray-200 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all duration-200",placeholder:"Add your comment...",value:s,onChange:e=>o(e.target.value),rows:2,autoFocus:!0}),(0,Lm.jsxs)("div",{className:"flex justify-end items-center gap-2 mt-2",children:[(0,Lm.jsx)("button",{onClick:()=>{n.text?(r(!1),o(n.text)):re(null)},className:"px-2.5 py-1 text-xs font-medium text-gray-600 hover:text-gray-800 rounded-md transition-colors duration-200",children:"Cancel"}),(0,Lm.jsxs)("button",{onClick:()=>{var e,t;e=n.id,t=s,ne((n=>n.map((n=>n.id===e?Dt(Dt({},n),{},{text:t}):n)))),re(null),r(!1)},className:"px-2.5 py-1 text-xs font-medium bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-all duration-200 flex items-center gap-1 shadow-sm hover:shadow group",children:[(0,Lm.jsx)("span",{children:"Save"}),(0,Lm.jsx)("svg",{className:"w-3 h-3 transform group-hover:translate-x-0.5 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Lm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]}):(0,Lm.jsxs)("div",{className:"space-y-2",children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Lm.jsx)("div",{className:"text-xs text-gray-500",children:new Date(n.timestamp).toLocaleString()}),(0,Lm.jsx)("button",{onClick:()=>r(!0),className:"text-xs text-indigo-600 hover:text-indigo-700",children:"Edit"})]}),(0,Lm.jsx)("p",{className:"text-sm text-gray-800",children:n.text}),n.selectedText&&(0,Lm.jsxs)("div",{className:"text-xs bg-indigo-50 text-indigo-700 p-1.5 rounded",children:['"',n.selectedText,'"']})]})})})};return(0,t.useEffect)((()=>{(async()=>{try{const e={id:i,title:"Analysis of Dramatic Techniques in Shakespeare's Tragedies",content:"Shakespeare's masterful use of dramatic irony in his tragedies serves as a powerful tool for engaging audiences and heightens the tragic impact of his plays. This analysis explores how the playwright employs various dramatic techniques to create complex narratives that resonate with audiences across centuries.\n\nIn \"Othello,\" Shakespeare crafts a masterpiece of psychological manipulation, where the audience's awareness of Iago's deception intensifies the emotional impact of each scene. The psychological complexity of the characters is revealed through carefully constructed dialogues and soliloquies, allowing viewers to witness the tragic consequences of misplaced trust and jealousy.\n\nThe play's structure demonstrates Shakespeare's sophisticated understanding of dramatic tension. By gradually building suspense through a series of carefully orchestrated revelations, he creates a compelling narrative that holds the audience's attention while exploring themes of love, betrayal, and racial prejudice in Venetian society.\n\nFurthermore, Shakespeare's use of parallel plotlines and contrasting characters adds depth to the narrative. The relationship between Othello and Desdemona is juxtaposed with that of Iago and Emilia, highlighting themes of trust, loyalty, and deception from different perspectives. This multilayered approach enriches the audience's understanding of the play's central themes.\n\nThe tragic conclusion of the play demonstrates Shakespeare's ability to bring multiple narrative threads together in a powerful climax. The final scene, where Othello realizes the truth of Iago's manipulation too late, represents the culmination of the dramatic irony that has built throughout the play, creating a profound impact on the audience.",status:"in-progress"};s(e),a(!1),he(e.content)}catch(e){console.error("Error fetching submission:",e),a(!1)}})()}),[i,he]),(0,t.useEffect)((()=>{if(X)return document.addEventListener("mousemove",de),()=>document.removeEventListener("mousemove",de)}),[X,de]),o?(0,Lm.jsx)("div",{className:"p-6",children:"Loading..."}):JD.Ay.browserSupportsSpeechRecognition()?(0,Lm.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,Lm.jsx)("div",{className:"bg-gray-900 border-b border-gray-800",children:(0,Lm.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,Lm.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Lm.jsxs)("div",{className:"flex space-x-4",children:[(0,Lm.jsx)("button",{onClick:()=>c("student-response"),className:"px-4 py-2 font-medium ".concat("student-response"===l?"text-yellow-400 border-b-2 border-yellow-400":"text-yellow-400/70"),children:"Student Response"}),(0,Lm.jsx)("button",{onClick:()=>c("rubric"),className:"px-4 py-2 font-medium ".concat("rubric"===l?"text-yellow-400 border-b-2 border-yellow-400":"text-yellow-400/70"),children:"Rubric"})]}),(0,Lm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Lm.jsxs)("div",{className:"flex flex-col items-end",children:[(0,Lm.jsx)("span",{className:"text-sm text-yellow-400/70",children:"Current Grade"}),(0,Lm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Lm.jsx)("span",{className:"text-2xl font-bold text-yellow-400",children:p}),(0,Lm.jsxs)("span",{className:"text-sm text-yellow-400/70",children:["(",T.toFixed(2)," GPA)"]})]})]}),(0,Lm.jsxs)("button",{className:"bg-yellow-400 text-black px-6 py-2 rounded-lg hover:bg-yellow-500 flex items-center gap-2 transition-colors",children:[(0,Lm.jsx)(Gk,{}),(0,Lm.jsx)("button",{onClick:()=>{e("/teacher-dashboard/assignments/2")},children:"Mark Assessment"})]})]})]})})}),(0,Lm.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,Lm.jsxs)("div",{className:"flex ".concat("rubric"===l?"justify-center":"gap-4"),children:[(0,Lm.jsx)("div",{className:"".concat("rubric"===l?"w-full max-w-6xl":"flex-1"),children:(0,Lm.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800",children:(0,Lm.jsx)("div",{className:"h-[calc(100vh-8rem)] overflow-y-auto p-6",onClick:fe,children:"student-response"===l?(0,Lm.jsxs)(Lm.Fragment,{children:[(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Lm.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Lm.jsx)("button",{className:"p-2 rounded hover:bg-black/50 text-yellow-400",children:(0,Lm.jsx)(Yk,{})}),(0,Lm.jsx)("button",{className:"p-2 rounded hover:bg-black/50 text-yellow-400",children:(0,Lm.jsx)(Xk,{})})]}),(0,Lm.jsx)("button",{className:"p-2 rounded hover:bg-black/50 text-yellow-400",children:(0,Lm.jsx)(rE,{})})]}),(0,Lm.jsx)("div",{className:"prose prose-invert max-w-none",children:(0,Lm.jsx)("div",{dangerouslySetInnerHTML:{__html:(e=>{let t=e;return se.forEach((e=>{const n=new RegExp("(".concat(e.text,")"),"gi");t=t.replace(n,'<span class="relative group cursor-pointer '.concat(e.color,' px-1 rounded" data-criterion="').concat(e.criterion,'">$1</span>'))})),U.forEach((e=>{const n=new RegExp(e.selectedText,"gi");t=t.replace(n,'<span class="relative group">\n          <span class="bg-yellow-400/10 transition-all duration-200 group-hover:bg-yellow-400/20 px-1 rounded">'.concat(e.selectedText,'</span>\n          <div class="absolute -top-1 -right-1 transform translate-x-full opacity-0 group-hover:opacity-100 transition-all duration-200">\n            <div class="flex items-center space-x-1">\n              <div class="relative">\n                <button class="p-1.5 rounded-full bg-gray-900 shadow-sm hover:shadow-md text-yellow-400 hover:text-yellow-500 transition-all duration-200">\n                  <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20">\n                    <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"/>\n                  </svg>\n                </button>\n                <div class="absolute left-0 top-full mt-2 w-48 bg-gray-900 rounded-lg shadow-lg border border-gray-800 p-2 text-sm opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">\n                  <p class="text-yellow-400 font-medium mb-1">').concat(e.text,'</p>\n                  <p class="text-yellow-400/70 text-xs">').concat(new Date(e.timestamp).toLocaleString(),"</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </span>"))})),t})(r.content)},className:"text-yellow-400/90",onClick:e=>{const t=e.target.getAttribute("data-criterion");if(t){b(t);const e=se.find((e=>e.criterion===t));w(null===e||void 0===e?void 0:e.feedback),h(!0)}}})})]}):(0,Lm.jsx)(ZD,{selectedCriterion:v,onGradeChange:oe,criteriaGrades:N,onUpdateNotes:ae,onUpdateFeedback:le})})})}),"student-response"===l&&(0,Lm.jsx)(eM.ResizableBox,{width:L,height:1/0,minConstraints:[300,1/0],maxConstraints:[800,1/0],onResize:(e,t)=>{let{size:n}=t;return F(n.width)},handle:(0,Lm.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 cursor-ew-resize bg-gray-800 hover:bg-yellow-400 transition-colors"}),axis:"x",resizeHandles:["w"],children:(0,Lm.jsxs)("div",{className:"relative bg-gray-900 rounded-lg p-8 h-[calc(100vh-8rem)] overflow-y-auto border border-gray-800",children:[(0,Lm.jsx)("div",{className:"static top-0 bg-gray-900 z-10 p-4 border-b border-gray-800",children:(0,Lm.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Lm.jsx)("h3",{className:"text-lg font-medium text-yellow-400",children:"AI Grading"}),(0,Lm.jsx)("button",{onClick:()=>Q(!X),className:"p-2 rounded-full transition-all duration-200 ".concat(X?"bg-yellow-400/10 text-yellow-400 ring-2 ring-yellow-400 ring-opacity-50":"bg-gray-900 text-yellow-400 hover:bg-yellow-400/10"),children:(0,Lm.jsx)(eE,{size:14})})]})}),Object.entries(N).map((e=>{let[t,n]=e;return(0,Lm.jsxs)("div",{className:"bg-black rounded-lg p-6 mb-6 border border-gray-800",children:[(0,Lm.jsxs)("div",{className:"mb-4",children:[(0,Lm.jsx)("h3",{className:"text-base font-medium text-yellow-400",children:t}),(0,Lm.jsx)("p",{className:"text-sm text-yellow-400/70 mb-2",children:n.status})]}),(0,Lm.jsxs)("div",{className:"space-y-3",children:[(0,Lm.jsxs)("button",{onClick:()=>ue(t,"justification"),className:"w-full flex items-center justify-between p-2 bg-gray-900 rounded-lg hover:bg-gray-800",children:[(0,Lm.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:"Justification"}),(0,Lm.jsx)(Kk,{size:12,className:"transform transition-transform text-yellow-400 ".concat(A["".concat(t,"-justification")]?"rotate-180":"")})]}),A["".concat(t,"-justification")]&&(0,Lm.jsx)("div",{className:"bg-gray-900 p-4 rounded-lg space-y-3",children:(0,Lm.jsx)("p",{className:"text-sm text-yellow-400/70",children:n.aiJustification||"AI analysis pending..."})}),(0,Lm.jsxs)("button",{onClick:()=>ue(t,"feedback"),className:"w-full flex items-center justify-between p-2 bg-gray-900 rounded-lg hover:bg-gray-800",children:[(0,Lm.jsx)("span",{className:"text-sm font-medium text-yellow-400",children:"Feedback"}),(0,Lm.jsx)(Kk,{size:12,className:"transform transition-transform text-yellow-400 ".concat(A["".concat(t,"-feedback")]?"rotate-180":"")})]}),A["".concat(t,"-feedback")]&&(0,Lm.jsx)("div",{className:"bg-gray-900 p-4 rounded-lg space-y-3",children:(0,Lm.jsx)("p",{className:"text-sm text-yellow-400/70",children:n.suggestedFeedback||"Feedback pending..."})}),(0,Lm.jsxs)("div",{className:"mt-4 flex items-center justify-between p-2 bg-gray-900 rounded-lg",children:[(0,Lm.jsx)("span",{className:"text-sm font-medium text-yellow-400 mr-2",children:"Grade"}),(0,Lm.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Lm.jsx)("button",{onClick:()=>{oe(t,Math.max(n.grade-1,0)),b(t)},className:"p-1 rounded-lg bg-yellow-400 text-black hover:bg-yellow-500",disabled:0===n.grade,children:(0,Lm.jsx)(hE,{size:12})}),(0,Lm.jsx)("div",{className:"px-10 py-1 bg-yellow-400/20 text-yellow-400 rounded-lg",children:n.grade}),(0,Lm.jsx)("button",{onClick:()=>{oe(t,Math.min(n.grade+1,4)),b(t)},className:"p-1 rounded-lg bg-yellow-400 text-black hover:bg-yellow-500",disabled:4===n.grade,children:(0,Lm.jsx)(pE,{size:12})})]})]})]})]},t)}))]})})]})}),X&&(0,Lm.jsx)("div",{className:"fixed pointer-events-none z-50 transform -translate-x-1/2 -translate-y-1/2",style:{left:$.x+"px",top:$.y+"px"},children:(0,Lm.jsx)("div",{className:"w-6 h-6 rounded-full bg-yellow-400 text-black flex items-center justify-center shadow-lg",children:(0,Lm.jsx)(eE,{size:12})})}),ie&&(0,Lm.jsx)(pe,{comment:ie})]}):(0,Lm.jsx)("span",{children:"Speech recognition is not supported in your browser."})},iM=()=>{const{id:e}=ee(),[n,i]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{(async()=>{try{i({totalStudents:25,submitted:20,graded:15,averageGrade:85.5,medianGrade:87,gradeDistribution:{"A (90-100)":5,"B (80-89)":7,"C (70-79)":2,"D (60-69)":1,"F (0-59)":0},submissionTimeline:[{date:"2024-03-20",count:5},{date:"2024-03-21",count:8},{date:"2024-03-22",count:7}]}),s(!1)}catch(e){console.error("Error fetching stats:",e),s(!1)}})()}),[e]),r?(0,Lm.jsx)("div",{className:"p-6",children:"Loading..."}):(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Assignment Statistics"}),(0,Lm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,Lm.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,Lm.jsx)("h3",{className:"text-gray-500 text-sm",children:"Total Students"}),(0,Lm.jsx)("p",{className:"text-2xl font-bold",children:n.totalStudents})]}),(0,Lm.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,Lm.jsx)("h3",{className:"text-gray-500 text-sm",children:"Submissions"}),(0,Lm.jsx)("p",{className:"text-2xl font-bold",children:n.submitted})]}),(0,Lm.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,Lm.jsx)("h3",{className:"text-gray-500 text-sm",children:"Average Grade"}),(0,Lm.jsxs)("p",{className:"text-2xl font-bold",children:[n.averageGrade,"%"]})]}),(0,Lm.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,Lm.jsx)("h3",{className:"text-gray-500 text-sm",children:"Median Grade"}),(0,Lm.jsxs)("p",{className:"text-2xl font-bold",children:[n.medianGrade,"%"]})]})]}),(0,Lm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Lm.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Grade Distribution"}),(0,Lm.jsx)("div",{className:"space-y-2",children:Object.entries(n.gradeDistribution).map((e=>{let[t,i]=e;return(0,Lm.jsxs)("div",{className:"flex items-center",children:[(0,Lm.jsx)("span",{className:"w-24",children:t}),(0,Lm.jsx)("div",{className:"flex-1 h-4 bg-gray-100 rounded",children:(0,Lm.jsx)("div",{className:"h-full bg-blue-500 rounded",style:{width:"".concat(i/n.graded*100,"%")}})}),(0,Lm.jsx)("span",{className:"w-12 text-right",children:i})]},t)}))})]}),(0,Lm.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Lm.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Submission Timeline"}),(0,Lm.jsx)("div",{className:"space-y-2",children:n.submissionTimeline.map((e=>(0,Lm.jsxs)("div",{className:"flex items-center",children:[(0,Lm.jsx)("span",{className:"w-24 text-sm",children:e.date}),(0,Lm.jsx)("div",{className:"flex-1 h-4 bg-gray-100 rounded",children:(0,Lm.jsx)("div",{className:"h-full bg-green-500 rounded",style:{width:"".concat(e.count/n.totalStudents*100,"%")}})}),(0,Lm.jsx)("span",{className:"w-12 text-right",children:e.count})]},e.date)))})]})]})]})},rM=()=>{Z(),$();return(0,Lm.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Lm.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,Lm.jsxs)(xe,{children:[(0,Lm.jsx)(ve,{path:"",element:(0,Lm.jsx)(kD,{})}),(0,Lm.jsx)(ve,{path:"create",element:(0,Lm.jsx)(ED,{})}),(0,Lm.jsx)(ve,{path:":id",element:(0,Lm.jsx)(CD,{})}),(0,Lm.jsx)(ve,{path:":id/edit",element:(0,Lm.jsx)(TD,{})}),(0,Lm.jsx)(ve,{path:"rubric",element:(0,Lm.jsx)(ZD,{})}),(0,Lm.jsx)(ve,{path:":id/submissions/:submissionId",element:(0,Lm.jsx)(nM,{})}),(0,Lm.jsx)(ve,{path:":id/stats",element:(0,Lm.jsx)(iM,{})})]})})})},sM=e=>{let{isOpen:t,setIsOpen:n}=e;const i=$(),r=[{name:"Home",icon:(0,Lm.jsx)(lE,{size:20}),path:"/teacher-dashboard/home"},{name:"Classes",icon:(0,Lm.jsx)(qk,{size:20}),path:"/teacher-dashboard/classes"},{name:"Assignments",icon:(0,Lm.jsx)(bE,{size:20}),path:"/teacher-dashboard/assignments"},{name:"Students",icon:(0,Lm.jsx)(SE,{size:20}),path:"/teacher-dashboard/students"},{name:"Messages",icon:(0,Lm.jsx)(nE,{size:20}),path:"/teacher-dashboard/messages"},{name:"Settings",icon:(0,Lm.jsx)(Zk,{size:20}),path:"/teacher-dashboard/settings"}];return(0,Lm.jsxs)("div",{className:"flex min-h-screen",children:[(0,Lm.jsx)("div",{className:"bg-black text-gray-300 absolute top-0 left-0\n        ".concat(t?"w-64":"w-20"," transition-all duration-300 ease-in-out"),style:{height:"142%"},children:(0,Lm.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Lm.jsx)("div",{className:"p-6 border-b border-gray-800",children:t?(0,Lm.jsx)("h1",{className:"text-xl font-bold text-yellow-400",children:"Teacher Portal"}):(0,Lm.jsx)("button",{onClick:()=>n(!0),className:"w-full flex justify-center",children:(0,Lm.jsx)(Vk,{size:24,className:"text-yellow-400"})})}),(0,Lm.jsx)("nav",{className:"flex-1 py-4",children:r.map((e=>(0,Lm.jsxs)(je,{to:e.path,className:"flex items-center px-6 py-3 transition-colors duration-200\n                  ".concat(i.pathname===e.path?"bg-yellow-400 text-black":"text-gray-300 hover:bg-gray-800"),children:[(0,Lm.jsx)("span",{className:t?"mr-4":"mx-auto",children:e.icon}),t&&(0,Lm.jsx)("span",{className:"font-medium",children:e.name})]},e.name)))}),(0,Lm.jsx)("div",{className:"p-4 border-t border-gray-800",children:(0,Lm.jsxs)("button",{onClick:()=>{console.log("Signing out...")},className:"flex items-center w-full px-4 py-2 text-red-400 \n                hover:bg-gray-800 rounded-lg transition-colors duration-200 \n                ".concat(t?"":"justify-center"),children:[(0,Lm.jsx)(yE,{size:20,className:t?"mr-4":""}),t&&(0,Lm.jsx)("span",{className:"font-medium",children:"Sign Out"})]})})]})}),(0,Lm.jsx)("div",{className:"flex-1 ".concat(t?"ml-64":"ml-20"," transition-all duration-300"),children:t&&(0,Lm.jsx)("button",{onClick:()=>n(!1),className:"absolute top-6 left-[15.5rem] z-50 p-1 rounded-lg bg-yellow-400 text-black hover:bg-yellow-500 transition-colors",children:(0,Lm.jsx)(xE,{size:16})})})]})},oM=()=>{const[e,n]=(0,t.useState)(!0);return(0,Lm.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,Lm.jsx)(sM,{isOpen:e,setIsOpen:n}),(0,Lm.jsx)("div",{className:"flex-1",children:(0,Lm.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,Lm.jsxs)(xe,{children:[(0,Lm.jsx)(ve,{path:"home",element:(0,Lm.jsx)(fD,{})}),(0,Lm.jsx)(ve,{path:"classes",element:(0,Lm.jsx)(SD,{})}),(0,Lm.jsx)(ve,{path:"assignments/*",element:(0,Lm.jsx)(rM,{})}),(0,Lm.jsx)(ve,{path:"/",element:(0,Lm.jsx)(ye,{to:"home",replace:!0})})]})})})]})},aM=e=>{let{title:t,description:n,image:i,imagePosition:r}=e;const s="right"===r?"lg:order-1":"lg:order-2",o="right"===r?"lg:order-2":"lg:order-1";return(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"flex flex-col lg:flex-row items-center gap-12 py-20",children:[(0,Lm.jsxs)("div",{className:"lg:w-1/2 ".concat(s),children:[(0,Lm.jsx)("h2",{className:"text-3xl font-bold mb-6 text-yellow-400",children:t}),(0,Lm.jsx)("p",{className:"text-gray-300 text-lg leading-relaxed",children:n})]}),(0,Lm.jsx)("div",{className:"lg:w-1/2 ".concat(o),children:(0,Lm.jsx)(kk.div,{whileHover:{scale:1.02},transition:{duration:.3},children:(0,Lm.jsx)("img",{src:i,alt:t,className:"rounded-lg shadow-2xl"})})})]})},lM=()=>(0,Lm.jsxs)("div",{className:"bg-black min-h-screen text-white",children:[(0,Lm.jsx)(Hm,{}),(0,Lm.jsx)("section",{className:"relative py-20 overflow-hidden",children:(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto px-4 text-center",children:[(0,Lm.jsx)("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-yellow-400 to-yellow-200 bg-clip-text text-transparent",children:"Powerful Features for Modern Education"}),(0,Lm.jsx)("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Discover how Athena's innovative features can transform your teaching experience"})]})}),(0,Lm.jsx)("section",{className:"py-20",children:(0,Lm.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,Lm.jsx)(aM,{title:"AI-Powered Grading",description:"Save countless hours with our intelligent grading system. Athena analyzes student submissions using advanced AI algorithms to provide detailed feedback and suggestions.",image:Ck,imagePosition:"right"}),(0,Lm.jsx)(aM,{title:"Smart Feedback Generation",description:"Generate personalized, constructive feedback for each student automatically. Our AI understands context and provides specific suggestions for improvement.",image:Tk,imagePosition:"left"}),(0,Lm.jsx)(aM,{title:"Interactive Rubrics",description:"Create and manage comprehensive rubrics with ease. Our intuitive interface helps you define clear criteria and grade consistently across assignments.",image:Nk,imagePosition:"right"}),(0,Lm.jsx)(aM,{title:"Intelligent Chat Support",description:"Get instant answers to your questions with Athena's AI chat assistant. Access teaching resources, grading guidelines, and best practices at your fingertips.",image:Ek,imagePosition:"left"}),(0,Lm.jsx)(aM,{title:"Comprehensive Dashboard",description:"Monitor student progress, manage assignments, and track performance all in one place. Our dashboard provides valuable insights to help you make informed decisions.",image:jk,imagePosition:"right"})]})}),(0,Lm.jsx)("section",{className:"py-20 bg-gradient-to-b from-black to-yellow-900/10",children:(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto text-center px-4",children:[(0,Lm.jsx)("h2",{className:"text-4xl font-bold mb-6 text-yellow-400",children:"Ready to Transform Your Teaching?"}),(0,Lm.jsx)("p",{className:"text-xl text-gray-300 mb-8",children:"Join thousands of educators who are already using Athena to enhance their teaching experience."}),(0,Lm.jsx)("button",{className:"bg-yellow-400 text-black px-8 py-3 rounded-lg font-semibold hover:bg-yellow-300 transition-colors",children:"Get Started Now"})]})}),(0,Lm.jsx)("footer",{className:"bg-black text-gray-400 py-12",children:(0,Lm.jsx)("div",{className:"max-w-6xl mx-auto px-4 text-center",children:(0,Lm.jsx)("p",{children:"\xa9 2024 Athena. All rights reserved."})})})]}),cM=e=>{let{title:t,price:n,description:i,features:r,highlighted:s=!1,delay:o,onSignup:a}=e;return(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:o},className:"rounded-lg p-8 ".concat(s?"bg-gradient-to-b from-yellow-400/20 to-black border-2 border-yellow-400 transform scale-105":"bg-gray-900"),children:[(0,Lm.jsx)("h3",{className:"text-2xl font-bold text-yellow-400 mb-2",children:t}),(0,Lm.jsx)("p",{className:"text-gray-400 mb-6",children:i}),(0,Lm.jsx)("div",{className:"mb-6",children:(0,Lm.jsxs)("span",{className:"text-4xl font-bold text-white",children:["$",n]})}),(0,Lm.jsx)("ul",{className:"space-y-4 mb-8",children:r.map(((e,t)=>(0,Lm.jsxs)(kk.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.4,delay:o+.1*t},className:"flex items-center text-gray-300",children:[(0,Lm.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Lm.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e]},t)))}),(0,Lm.jsx)("button",{onClick:a,className:"w-full py-3 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 ".concat(s?"bg-yellow-400 text-black hover:bg-yellow-300":"bg-gray-800 text-white hover:bg-gray-700"),children:"Get Started"})]})},uM=e=>{let{question:n,answer:i}=e;const[r,s]=(0,t.useState)(!1);return(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"border-b border-gray-800 pb-4",children:[(0,Lm.jsxs)("button",{onClick:()=>s(!r),className:"flex justify-between items-center w-full text-left py-4",children:[(0,Lm.jsx)("span",{className:"text-lg font-medium text-yellow-400",children:n}),(0,Lm.jsx)(kk.span,{animate:{rotate:r?180:0},transition:{duration:.3},children:"\u25bc"})]}),(0,Lm.jsx)(kk.div,{initial:!1,animate:{height:r?"auto":0,opacity:r?1:0},transition:{duration:.3},className:"overflow-hidden",children:(0,Lm.jsx)("p",{className:"text-gray-400 pt-2 pb-4",children:i})})]})},hM=()=>{const[e,n]=(0,t.useState)(!1),[i,r]=(0,t.useState)("monthly");return(0,Lm.jsxs)("div",{className:"bg-black min-h-screen text-white",children:[(0,Lm.jsx)(Hm,{}),(0,Lm.jsx)("section",{className:"relative py-20",children:(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto text-center px-4",children:[(0,Lm.jsx)("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-yellow-400 to-yellow-200 bg-clip-text text-transparent",children:"Simple, Transparent Pricing"}),(0,Lm.jsx)("p",{className:"text-xl text-gray-300 mb-12",children:"Choose the perfect plan for your educational needs"}),(0,Lm.jsxs)("div",{className:"flex justify-center items-center space-x-4 mb-12",children:[(0,Lm.jsx)("span",{className:"text-lg ".concat("monthly"===i?"text-yellow-400":"text-gray-400"),children:"Monthly"}),(0,Lm.jsx)("button",{onClick:()=>r((e=>"monthly"===e?"annual":"monthly")),className:"relative w-16 h-8 bg-gray-700 rounded-full p-1 transition-colors duration-300",children:(0,Lm.jsx)(kk.div,{className:"w-6 h-6 bg-yellow-400 rounded-full",animate:{x:"monthly"===i?0:24},transition:{type:"spring",stiffness:500,damping:30}})}),(0,Lm.jsx)("span",{className:"text-lg ".concat("annual"===i?"text-yellow-400":"text-gray-400"),children:"Annual"})]})]})}),(0,Lm.jsx)("section",{className:"py-20 px-4",children:(0,Lm.jsxs)("div",{className:"max-w-7xl mx-auto grid md:grid-cols-3 gap-8",children:[(0,Lm.jsx)(cM,{title:"Basic",price:"monthly"===i?29:279,description:"Perfect for individual teachers",features:["AI Grading for up to 100 assignments/month","Basic analytics dashboard","Email support","Up to 3 classes","Standard rubric templates"],delay:.2,onSignup:()=>n(!0)}),(0,Lm.jsx)(cM,{title:"Pro",price:"monthly"===i?49:449,description:"Ideal for active educators",features:["AI Grading for up to 500 assignments/month","Advanced analytics and insights","Priority email & chat support","Unlimited classes","Custom rubric creation","Personalized feedback templates"],highlighted:!0,delay:.4,onSignup:()=>n(!0)}),(0,Lm.jsx)(cM,{title:"Enterprise",price:"monthly"===i?99:947,description:"For schools and institutions",features:["Unlimited AI Grading","Complete analytics suite","24/7 dedicated support","School-wide administration","Custom integration options","Advanced API access","Training and onboarding"],delay:.6,onSignup:()=>n(!0)})]})}),(0,Lm.jsx)("section",{className:"py-20 bg-gray-900",children:(0,Lm.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,Lm.jsx)(kk.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl font-bold text-center mb-12 text-yellow-400",children:"Frequently Asked Questions"}),(0,Lm.jsxs)("div",{className:"space-y-6",children:[(0,Lm.jsx)(uM,{question:"How does the AI grading system work?",answer:"Our AI grading system uses advanced machine learning algorithms to analyze student submissions based on your rubric criteria. It provides detailed feedback and suggestions while maintaining consistency across all assignments."}),(0,Lm.jsx)(uM,{question:"Can I switch plans at any time?",answer:"Yes, you can upgrade or downgrade your plan at any time. The changes will be reflected in your next billing cycle."}),(0,Lm.jsx)(uM,{question:"Is there a free trial available?",answer:"Yes! We offer a 14-day free trial on all our plans. No credit card required to start."}),(0,Lm.jsx)(uM,{question:"Do you offer discounts for educational institutions?",answer:"Yes, we offer special pricing for schools and educational institutions. Please contact our sales team for more information."})]})]})}),e&&(0,Lm.jsx)(Bm,{onClose:()=>n(!1)})]})},dM=e=>{let{title:t,description:n,image:i,category:r,readTime:s,delay:o}=e;return(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:o},whileHover:{y:-5},className:"bg-gray-900 rounded-lg overflow-hidden hover:shadow-xl hover:shadow-yellow-400/10 transition-all duration-300",children:[(0,Lm.jsx)("div",{className:"h-48 overflow-hidden",children:(0,Lm.jsx)(kk.img,{whileHover:{scale:1.05},transition:{duration:.3},src:i,alt:t,className:"w-full h-full object-cover"})}),(0,Lm.jsxs)("div",{className:"p-6",children:[(0,Lm.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Lm.jsx)("span",{className:"text-yellow-400 text-sm",children:r}),(0,Lm.jsx)("span",{className:"text-gray-400 text-sm",children:s})]}),(0,Lm.jsx)("h3",{className:"text-xl font-semibold mb-2 text-white",children:t}),(0,Lm.jsx)("p",{className:"text-gray-400 mb-4",children:n}),(0,Lm.jsx)("button",{className:"text-yellow-400 font-medium hover:text-yellow-300 transition-colors",children:"Read More \u2192"})]})]})},fM=e=>{let{title:t,count:n,icon:i,delay:r}=e;return(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r},whileHover:{y:-5},className:"bg-black border border-gray-800 rounded-lg p-6 hover:border-yellow-400/50 transition-all duration-300",children:[(0,Lm.jsx)("div",{className:"text-4xl mb-4",children:i}),(0,Lm.jsx)("h3",{className:"text-xl font-semibold mb-2 text-white",children:t}),(0,Lm.jsxs)("p",{className:"text-gray-400",children:[n," resources"]})]})},pM=()=>(0,Lm.jsxs)("div",{className:"bg-black min-h-screen text-white",children:[(0,Lm.jsx)(Hm,{}),(0,Lm.jsx)("section",{className:"relative py-20",children:(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto text-center px-4",children:[(0,Lm.jsx)("h1",{className:"text-5xl font-bold mb-6 bg-gradient-to-r from-yellow-400 to-yellow-200 bg-clip-text text-transparent",children:"Educational Resources"}),(0,Lm.jsx)("p",{className:"text-xl text-gray-300 mb-8",children:"Discover guides, tutorials, and best practices to enhance your teaching experience"})]})}),(0,Lm.jsx)("section",{className:"py-20 px-4",children:(0,Lm.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Lm.jsx)(kk.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl font-bold mb-12 text-yellow-400",children:"Featured Resources"}),(0,Lm.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Lm.jsx)(dM,{title:"Getting Started with AI Grading",description:"Learn how to use Athena's AI grading system effectively",image:Ck,category:"Tutorial",readTime:"10 min read",delay:.2}),(0,Lm.jsx)(dM,{title:"Creating Effective Rubrics",description:"Best practices for designing comprehensive grading rubrics",image:Tk,category:"Guide",readTime:"15 min read",delay:.4}),(0,Lm.jsx)(dM,{title:"Maximizing Student Engagement",description:"Strategies to increase student participation and learning outcomes",image:Ek,category:"Best Practices",readTime:"12 min read",delay:.6})]})]})}),(0,Lm.jsx)("section",{className:"py-20 bg-gray-900",children:(0,Lm.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,Lm.jsx)(kk.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl font-bold mb-12 text-yellow-400",children:"Browse by Category"}),(0,Lm.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Lm.jsx)(fM,{title:"Getting Started",count:12,icon:"\ud83d\ude80",delay:.2}),(0,Lm.jsx)(fM,{title:"Tutorials",count:24,icon:"\ud83d\udcda",delay:.3}),(0,Lm.jsx)(fM,{title:"Best Practices",count:18,icon:"\u2b50",delay:.4}),(0,Lm.jsx)(fM,{title:"Case Studies",count:8,icon:"\ud83d\udcca",delay:.5}),(0,Lm.jsx)(fM,{title:"Integration Guides",count:15,icon:"\ud83d\udd27",delay:.6}),(0,Lm.jsx)(fM,{title:"Updates & News",count:20,icon:"\ud83d\udcf0",delay:.7})]})]})}),(0,Lm.jsx)("section",{className:"py-20",children:(0,Lm.jsx)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:(0,Lm.jsxs)(kk.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"bg-gradient-to-b from-yellow-400/20 to-black border border-yellow-400/50 rounded-lg p-8",children:[(0,Lm.jsx)("h2",{className:"text-3xl font-bold mb-4 text-yellow-400",children:"Stay Updated"}),(0,Lm.jsx)("p",{className:"text-gray-300 mb-8",children:"Subscribe to our newsletter for the latest educational resources and updates"}),(0,Lm.jsx)("form",{className:"max-w-md mx-auto",children:(0,Lm.jsxs)("div",{className:"flex gap-4",children:[(0,Lm.jsx)("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 rounded-lg bg-black border border-yellow-400/50 text-white focus:outline-none focus:border-yellow-400"}),(0,Lm.jsx)("button",{type:"submit",className:"px-6 py-2 bg-yellow-400 text-black rounded-lg font-semibold hover:bg-yellow-300 transition-colors",children:"Subscribe"})]})})]})})})]});const mM=function(){return(0,Lm.jsx)(Vm,{children:(0,Lm.jsxs)(xe,{children:[(0,Lm.jsx)(ve,{path:"/",element:(0,Lm.jsx)(Dk,{})}),(0,Lm.jsx)(ve,{path:"/features",element:(0,Lm.jsx)(lM,{})}),(0,Lm.jsx)(ve,{path:"/pricing",element:(0,Lm.jsx)(hM,{})}),(0,Lm.jsx)(ve,{path:"/resources",element:(0,Lm.jsx)(pM,{})}),(0,Lm.jsx)(ve,{path:"/student-dashboard/*",element:(0,Lm.jsx)(Rk,{children:(0,Lm.jsx)(zE,{})})}),(0,Lm.jsx)(ve,{path:"/teacher-dashboard/*",element:(0,Lm.jsx)(Rk,{children:(0,Lm.jsx)(oM,{})})})]})})};var gM=n(4391);const yM=document.getElementById("root");(0,gM.H)(yM).render((0,Lm.jsx)(t.StrictMode,{children:(0,Lm.jsx)(Te,{children:(0,Lm.jsx)(mM,{})})}))})()})();
//# sourceMappingURL=main.18f50122.js.map